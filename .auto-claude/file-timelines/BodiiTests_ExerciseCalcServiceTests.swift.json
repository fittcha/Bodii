{
  "file_path": "BodiiTests/ExerciseCalcServiceTests.swift",
  "main_branch_history": [],
  "task_views": {
    "008-exercise-tracking-with-met-calculations": {
      "task_id": "008-exercise-tracking-with-met-calculations",
      "branch_point": {
        "commit_hash": "4e56d606f7b0d4cb74120dd392544f3fe2d4f5b4",
        "content": "",
        "timestamp": "2026-01-14T11:45:41.765455"
      },
      "worktree_state": {
        "content": "//\n//  ExerciseCalcServiceTests.swift\n//  BodiiTests\n//\n//  Created by Auto-Claude on 2026-01-14.\n//\n\nimport XCTest\n@testable import Bodii\n\n/// Unit tests for ExerciseCalcService MET-based calorie calculations\n///\n/// ExerciseCalcService MET \uae30\ubc18 \uce7c\ub85c\ub9ac \uacc4\uc0b0\uc5d0 \ub300\ud55c \ub2e8\uc704 \ud14c\uc2a4\ud2b8\nfinal class ExerciseCalcServiceTests: XCTestCase {\n\n    // MARK: - Walking Tests\n\n    /// Test: Walking at low intensity (3.5 \u00d7 0.8 = 2.8 MET)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc800\uac15\ub3c4 \uac77\uae30 (3.5 \u00d7 0.8 = 2.8 MET)\n    func testCalculateCalories_WalkingLowIntensity_ReturnsCorrectCalories() {\n        // Given: Walking 30 minutes, low intensity, 70kg\n        // Formula: 3.5 \u00d7 0.8 \u00d7 70 \u00d7 0.5 = 98 kcal\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .walking,\n            duration: 30,\n            intensity: .low,\n            weight: 70.0\n        )\n\n        // Then: Should return 98 kcal\n        XCTAssertEqual(calories, 98, \"Walking 30min at low intensity (70kg) should burn 98 kcal\")\n    }\n\n    /// Test: Walking at medium intensity (3.5 \u00d7 1.0 = 3.5 MET)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc911\uac15\ub3c4 \uac77\uae30 (3.5 \u00d7 1.0 = 3.5 MET)\n    func testCalculateCalories_WalkingMediumIntensity_ReturnsCorrectCalories() {\n        // Given: Walking 30 minutes, medium intensity, 70kg\n        // Formula: 3.5 \u00d7 1.0 \u00d7 70 \u00d7 0.5 = 122.5 \u2192 123 kcal (rounded)\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .walking,\n            duration: 30,\n            intensity: .medium,\n            weight: 70.0\n        )\n\n        // Then: Should return 123 kcal\n        XCTAssertEqual(calories, 123, \"Walking 30min at medium intensity (70kg) should burn 123 kcal\")\n    }\n\n    /// Test: Walking at high intensity (3.5 \u00d7 1.2 = 4.2 MET)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uace0\uac15\ub3c4 \uac77\uae30 (3.5 \u00d7 1.2 = 4.2 MET)\n    func testCalculateCalories_WalkingHighIntensity_ReturnsCorrectCalories() {\n        // Given: Walking 30 minutes, high intensity, 70kg\n        // Formula: 3.5 \u00d7 1.2 \u00d7 70 \u00d7 0.5 = 147 kcal\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .walking,\n            duration: 30,\n            intensity: .high,\n            weight: 70.0\n        )\n\n        // Then: Should return 147 kcal\n        XCTAssertEqual(calories, 147, \"Walking 30min at high intensity (70kg) should burn 147 kcal\")\n    }\n\n    // MARK: - Running Tests\n\n    /// Test: Running at low intensity (8.0 \u00d7 0.8 = 6.4 MET)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc800\uac15\ub3c4 \ub7ec\ub2dd (8.0 \u00d7 0.8 = 6.4 MET)\n    func testCalculateCalories_RunningLowIntensity_ReturnsCorrectCalories() {\n        // Given: Running 30 minutes, low intensity, 70kg\n        // Formula: 8.0 \u00d7 0.8 \u00d7 70 \u00d7 0.5 = 224 kcal\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .running,\n            duration: 30,\n            intensity: .low,\n            weight: 70.0\n        )\n\n        // Then: Should return 224 kcal\n        XCTAssertEqual(calories, 224, \"Running 30min at low intensity (70kg) should burn 224 kcal\")\n    }\n\n    /// Test: Running at medium intensity (8.0 \u00d7 1.0 = 8.0 MET)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc911\uac15\ub3c4 \ub7ec\ub2dd (8.0 \u00d7 1.0 = 8.0 MET)\n    func testCalculateCalories_RunningMediumIntensity_ReturnsCorrectCalories() {\n        // Given: Running 30 minutes, medium intensity, 70kg\n        // Formula: 8.0 \u00d7 1.0 \u00d7 70 \u00d7 0.5 = 280 kcal\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .running,\n            duration: 30,\n            intensity: .medium,\n            weight: 70.0\n        )\n\n        // Then: Should return 280 kcal\n        XCTAssertEqual(calories, 280, \"Running 30min at medium intensity (70kg) should burn 280 kcal\")\n    }\n\n    /// Test: Running at high intensity (8.0 \u00d7 1.2 = 9.6 MET)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uace0\uac15\ub3c4 \ub7ec\ub2dd (8.0 \u00d7 1.2 = 9.6 MET)\n    func testCalculateCalories_RunningHighIntensity_ReturnsCorrectCalories() {\n        // Given: Running 30 minutes, high intensity, 70kg\n        // Formula: 8.0 \u00d7 1.2 \u00d7 70 \u00d7 0.5 = 336 kcal\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .running,\n            duration: 30,\n            intensity: .high,\n            weight: 70.0\n        )\n\n        // Then: Should return 336 kcal\n        XCTAssertEqual(calories, 336, \"Running 30min at high intensity (70kg) should burn 336 kcal\")\n    }\n\n    // MARK: - All Exercise Types Tests\n\n    /// Test: All 8 exercise types at medium intensity\n    ///\n    /// \ud14c\uc2a4\ud2b8: \ubaa8\ub4e0 8\uac00\uc9c0 \uc6b4\ub3d9 \uc885\ub958\ub97c \uc911\uac15\ub3c4\ub85c\n    func testCalculateCalories_AllExerciseTypes_ReturnsCorrectCalories() {\n        // Given: 60 minutes, medium intensity, 75kg for all exercise types\n        let weight: Double = 75.0\n        let duration: Int32 = 60\n        let intensity: Intensity = .medium\n\n        // Expected calories = baseMET \u00d7 1.0 \u00d7 75 \u00d7 1.0\n        let testCases: [(type: ExerciseType, expectedCalories: Int32)] = [\n            (.walking, 263),    // 3.5 \u00d7 1.0 \u00d7 75 \u00d7 1.0 = 262.5 \u2192 263\n            (.running, 600),    // 8.0 \u00d7 1.0 \u00d7 75 \u00d7 1.0 = 600\n            (.cycling, 450),    // 6.0 \u00d7 1.0 \u00d7 75 \u00d7 1.0 = 450\n            (.swimming, 525),   // 7.0 \u00d7 1.0 \u00d7 75 \u00d7 1.0 = 525\n            (.weight, 450),     // 6.0 \u00d7 1.0 \u00d7 75 \u00d7 1.0 = 450\n            (.crossfit, 600),   // 8.0 \u00d7 1.0 \u00d7 75 \u00d7 1.0 = 600\n            (.yoga, 225),       // 3.0 \u00d7 1.0 \u00d7 75 \u00d7 1.0 = 225\n            (.other, 375)       // 5.0 \u00d7 1.0 \u00d7 75 \u00d7 1.0 = 375\n        ]\n\n        // When/Then: All exercise types should calculate correctly\n        for testCase in testCases {\n            let calories = ExerciseCalcService.calculateCalories(\n                exerciseType: testCase.type,\n                duration: duration,\n                intensity: intensity,\n                weight: weight\n            )\n            XCTAssertEqual(\n                calories,\n                testCase.expectedCalories,\n                \"\\(testCase.type.displayName) 60min at medium intensity (75kg) should burn \\(testCase.expectedCalories) kcal\"\n            )\n        }\n    }\n\n    /// Test: Cycling at all intensity levels\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc790\uc804\uac70\ub97c \ubaa8\ub4e0 \uac15\ub3c4\ub85c\n    func testCalculateCalories_CyclingAllIntensities_ReturnsCorrectCalories() {\n        // Given: Cycling 45 minutes, 80kg\n        let duration: Int32 = 45\n        let weight: Double = 80.0\n\n        let testCases: [(intensity: Intensity, expectedCalories: Int32)] = [\n            (.low, 288),      // 6.0 \u00d7 0.8 \u00d7 80 \u00d7 0.75 = 288\n            (.medium, 360),   // 6.0 \u00d7 1.0 \u00d7 80 \u00d7 0.75 = 360\n            (.high, 432)      // 6.0 \u00d7 1.2 \u00d7 80 \u00d7 0.75 = 432\n        ]\n\n        // When/Then: All intensities should calculate correctly\n        for testCase in testCases {\n            let calories = ExerciseCalcService.calculateCalories(\n                exerciseType: .cycling,\n                duration: duration,\n                intensity: testCase.intensity,\n                weight: weight\n            )\n            XCTAssertEqual(\n                calories,\n                testCase.expectedCalories,\n                \"Cycling 45min at \\(testCase.intensity.displayName) (80kg) should burn \\(testCase.expectedCalories) kcal\"\n            )\n        }\n    }\n\n    /// Test: Swimming at all intensity levels\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc218\uc601\uc744 \ubaa8\ub4e0 \uac15\ub3c4\ub85c\n    func testCalculateCalories_SwimmingAllIntensities_ReturnsCorrectCalories() {\n        // Given: Swimming 40 minutes, 65kg\n        let duration: Int32 = 40\n        let weight: Double = 65.0\n\n        let testCases: [(intensity: Intensity, expectedCalories: Int32)] = [\n            (.low, 243),      // 7.0 \u00d7 0.8 \u00d7 65 \u00d7 0.667 = 243.32 \u2192 243\n            (.medium, 303),   // 7.0 \u00d7 1.0 \u00d7 65 \u00d7 0.667 = 303.55 \u2192 304 (note: due to rounding)\n            (.high, 364)      // 7.0 \u00d7 1.2 \u00d7 65 \u00d7 0.667 = 364.28 \u2192 364\n        ]\n\n        // When/Then: All intensities should calculate correctly\n        for testCase in testCases {\n            let calories = ExerciseCalcService.calculateCalories(\n                exerciseType: .swimming,\n                duration: duration,\n                intensity: testCase.intensity,\n                weight: weight\n            )\n            // Allow \u00b11 difference due to rounding\n            XCTAssertTrue(\n                abs(calories - testCase.expectedCalories) <= 1,\n                \"Swimming 40min at \\(testCase.intensity.displayName) (65kg) should burn approximately \\(testCase.expectedCalories) kcal (got \\(calories))\"\n            )\n        }\n    }\n\n    /// Test: Weight training at all intensity levels\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc6e8\uc774\ud2b8\ub97c \ubaa8\ub4e0 \uac15\ub3c4\ub85c\n    func testCalculateCalories_WeightAllIntensities_ReturnsCorrectCalories() {\n        // Given: Weight training 50 minutes, 90kg\n        let duration: Int32 = 50\n        let weight: Double = 90.0\n\n        let testCases: [(intensity: Intensity, expectedCalories: Int32)] = [\n            (.low, 360),      // 6.0 \u00d7 0.8 \u00d7 90 \u00d7 0.833 = 359.856 \u2192 360\n            (.medium, 450),   // 6.0 \u00d7 1.0 \u00d7 90 \u00d7 0.833 = 449.7 \u2192 450\n            (.high, 540)      // 6.0 \u00d7 1.2 \u00d7 90 \u00d7 0.833 = 539.64 \u2192 540\n        ]\n\n        // When/Then: All intensities should calculate correctly\n        for testCase in testCases {\n            let calories = ExerciseCalcService.calculateCalories(\n                exerciseType: .weight,\n                duration: duration,\n                intensity: testCase.intensity,\n                weight: weight\n            )\n            XCTAssertEqual(\n                calories,\n                testCase.expectedCalories,\n                \"Weight 50min at \\(testCase.intensity.displayName) (90kg) should burn \\(testCase.expectedCalories) kcal\"\n            )\n        }\n    }\n\n    /// Test: Crossfit at all intensity levels\n    ///\n    /// \ud14c\uc2a4\ud2b8: \ud06c\ub85c\uc2a4\ud54f\uc744 \ubaa8\ub4e0 \uac15\ub3c4\ub85c\n    func testCalculateCalories_CrossfitAllIntensities_ReturnsCorrectCalories() {\n        // Given: Crossfit 45 minutes, 75kg\n        let duration: Int32 = 45\n        let weight: Double = 75.0\n\n        let testCases: [(intensity: Intensity, expectedCalories: Int32)] = [\n            (.low, 360),      // 8.0 \u00d7 0.8 \u00d7 75 \u00d7 0.75 = 360\n            (.medium, 450),   // 8.0 \u00d7 1.0 \u00d7 75 \u00d7 0.75 = 450\n            (.high, 540)      // 8.0 \u00d7 1.2 \u00d7 75 \u00d7 0.75 = 540\n        ]\n\n        // When/Then: All intensities should calculate correctly\n        for testCase in testCases {\n            let calories = ExerciseCalcService.calculateCalories(\n                exerciseType: .crossfit,\n                duration: duration,\n                intensity: testCase.intensity,\n                weight: weight\n            )\n            XCTAssertEqual(\n                calories,\n                testCase.expectedCalories,\n                \"Crossfit 45min at \\(testCase.intensity.displayName) (75kg) should burn \\(testCase.expectedCalories) kcal\"\n            )\n        }\n    }\n\n    /// Test: Yoga at all intensity levels\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc694\uac00\ub97c \ubaa8\ub4e0 \uac15\ub3c4\ub85c\n    func testCalculateCalories_YogaAllIntensities_ReturnsCorrectCalories() {\n        // Given: Yoga 60 minutes, 60kg\n        let duration: Int32 = 60\n        let weight: Double = 60.0\n\n        let testCases: [(intensity: Intensity, expectedCalories: Int32)] = [\n            (.low, 144),      // 3.0 \u00d7 0.8 \u00d7 60 \u00d7 1.0 = 144\n            (.medium, 180),   // 3.0 \u00d7 1.0 \u00d7 60 \u00d7 1.0 = 180\n            (.high, 216)      // 3.0 \u00d7 1.2 \u00d7 60 \u00d7 1.0 = 216\n        ]\n\n        // When/Then: All intensities should calculate correctly\n        for testCase in testCases {\n            let calories = ExerciseCalcService.calculateCalories(\n                exerciseType: .yoga,\n                duration: duration,\n                intensity: testCase.intensity,\n                weight: weight\n            )\n            XCTAssertEqual(\n                calories,\n                testCase.expectedCalories,\n                \"Yoga 60min at \\(testCase.intensity.displayName) (60kg) should burn \\(testCase.expectedCalories) kcal\"\n            )\n        }\n    }\n\n    /// Test: Other exercise type at all intensity levels\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uae30\ud0c0 \uc6b4\ub3d9\uc744 \ubaa8\ub4e0 \uac15\ub3c4\ub85c\n    func testCalculateCalories_OtherAllIntensities_ReturnsCorrectCalories() {\n        // Given: Other exercise 30 minutes, 70kg\n        let duration: Int32 = 30\n        let weight: Double = 70.0\n\n        let testCases: [(intensity: Intensity, expectedCalories: Int32)] = [\n            (.low, 140),      // 5.0 \u00d7 0.8 \u00d7 70 \u00d7 0.5 = 140\n            (.medium, 175),   // 5.0 \u00d7 1.0 \u00d7 70 \u00d7 0.5 = 175\n            (.high, 210)      // 5.0 \u00d7 1.2 \u00d7 70 \u00d7 0.5 = 210\n        ]\n\n        // When/Then: All intensities should calculate correctly\n        for testCase in testCases {\n            let calories = ExerciseCalcService.calculateCalories(\n                exerciseType: .other,\n                duration: duration,\n                intensity: testCase.intensity,\n                weight: weight\n            )\n            XCTAssertEqual(\n                calories,\n                testCase.expectedCalories,\n                \"Other 30min at \\(testCase.intensity.displayName) (70kg) should burn \\(testCase.expectedCalories) kcal\"\n            )\n        }\n    }\n\n    // MARK: - Formula Verification Tests\n\n    /// Test: Verify MET formula accuracy\n    ///\n    /// \ud14c\uc2a4\ud2b8: MET \uacf5\uc2dd \uc815\ud655\ub3c4 \uac80\uc99d\n    func testCalculateCalories_VerifyFormula_MatchesManualCalculation() {\n        // Given: Running 45 minutes, high intensity, 85kg\n        // Manual calculation:\n        // baseMET = 8.0\n        // adjustedMET = 8.0 \u00d7 1.2 = 9.6\n        // hours = 45 / 60 = 0.75\n        // calories = 9.6 \u00d7 85 \u00d7 0.75 = 612 kcal\n\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .running,\n            duration: 45,\n            intensity: .high,\n            weight: 85.0\n        )\n\n        // Then: Should match manual calculation\n        XCTAssertEqual(calories, 612, \"Should match manual MET formula calculation\")\n    }\n\n    /// Test: Verify formula with different weight\n    ///\n    /// \ud14c\uc2a4\ud2b8: \ub2e4\ub978 \uccb4\uc911\uc73c\ub85c \uacf5\uc2dd \uac80\uc99d\n    func testCalculateCalories_DifferentWeights_ScalesLinearly() {\n        // Given: Running 30 minutes, medium intensity\n        // Test that calories scale linearly with weight\n\n        let testCases: [(weight: Double, expectedCalories: Int32)] = [\n            (50.0, 200),    // 8.0 \u00d7 1.0 \u00d7 50 \u00d7 0.5 = 200\n            (60.0, 240),    // 8.0 \u00d7 1.0 \u00d7 60 \u00d7 0.5 = 240\n            (70.0, 280),    // 8.0 \u00d7 1.0 \u00d7 70 \u00d7 0.5 = 280\n            (80.0, 320),    // 8.0 \u00d7 1.0 \u00d7 80 \u00d7 0.5 = 320\n            (100.0, 400)    // 8.0 \u00d7 1.0 \u00d7 100 \u00d7 0.5 = 400\n        ]\n\n        // When/Then: Calories should scale linearly with weight\n        for testCase in testCases {\n            let calories = ExerciseCalcService.calculateCalories(\n                exerciseType: .running,\n                duration: 30,\n                intensity: .medium,\n                weight: testCase.weight\n            )\n            XCTAssertEqual(\n                calories,\n                testCase.expectedCalories,\n                \"Running 30min at medium intensity (\\(testCase.weight)kg) should burn \\(testCase.expectedCalories) kcal\"\n            )\n        }\n    }\n\n    /// Test: Verify formula with different durations\n    ///\n    /// \ud14c\uc2a4\ud2b8: \ub2e4\ub978 \uc2dc\uac04\uc73c\ub85c \uacf5\uc2dd \uac80\uc99d\n    func testCalculateCalories_DifferentDurations_ScalesLinearly() {\n        // Given: Running, medium intensity, 70kg\n        // Test that calories scale linearly with duration\n\n        let testCases: [(duration: Int32, expectedCalories: Int32)] = [\n            (15, 140),     // 8.0 \u00d7 1.0 \u00d7 70 \u00d7 0.25 = 140\n            (30, 280),     // 8.0 \u00d7 1.0 \u00d7 70 \u00d7 0.5 = 280\n            (45, 420),     // 8.0 \u00d7 1.0 \u00d7 70 \u00d7 0.75 = 420\n            (60, 560),     // 8.0 \u00d7 1.0 \u00d7 70 \u00d7 1.0 = 560\n            (90, 840),     // 8.0 \u00d7 1.0 \u00d7 70 \u00d7 1.5 = 840\n            (120, 1120)    // 8.0 \u00d7 1.0 \u00d7 70 \u00d7 2.0 = 1120\n        ]\n\n        // When/Then: Calories should scale linearly with duration\n        for testCase in testCases {\n            let calories = ExerciseCalcService.calculateCalories(\n                exerciseType: .running,\n                duration: testCase.duration,\n                intensity: .medium,\n                weight: 70.0\n            )\n            XCTAssertEqual(\n                calories,\n                testCase.expectedCalories,\n                \"Running \\(testCase.duration)min at medium intensity (70kg) should burn \\(testCase.expectedCalories) kcal\"\n            )\n        }\n    }\n\n    // MARK: - Edge Case Tests\n\n    /// Test: Minimum duration (1 minute)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \ucd5c\uc18c \uc2dc\uac04 (1\ubd84)\n    func testCalculateCalories_MinimumDuration_ReturnsCorrectCalories() {\n        // Given: Running 1 minute, medium intensity, 70kg\n        // Formula: 8.0 \u00d7 1.0 \u00d7 70 \u00d7 (1/60) = 9.33 \u2192 9 kcal\n\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .running,\n            duration: 1,\n            intensity: .medium,\n            weight: 70.0\n        )\n\n        // Then: Should return 9 kcal\n        XCTAssertEqual(calories, 9, \"Running 1min at medium intensity (70kg) should burn 9 kcal\")\n    }\n\n    /// Test: Very short duration (5 minutes)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \ub9e4\uc6b0 \uc9e7\uc740 \uc2dc\uac04 (5\ubd84)\n    func testCalculateCalories_VeryShortDuration_ReturnsCorrectCalories() {\n        // Given: Running 5 minutes, medium intensity, 70kg\n        // Formula: 8.0 \u00d7 1.0 \u00d7 70 \u00d7 (5/60) = 46.67 \u2192 47 kcal\n\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .running,\n            duration: 5,\n            intensity: .medium,\n            weight: 70.0\n        )\n\n        // Then: Should return 47 kcal\n        XCTAssertEqual(calories, 47, \"Running 5min at medium intensity (70kg) should burn 47 kcal\")\n    }\n\n    /// Test: Large duration (3 hours = 180 minutes)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uae34 \uc2dc\uac04 (3\uc2dc\uac04 = 180\ubd84)\n    func testCalculateCalories_LargeDuration_ReturnsCorrectCalories() {\n        // Given: Running 180 minutes (3 hours), medium intensity, 70kg\n        // Formula: 8.0 \u00d7 1.0 \u00d7 70 \u00d7 3.0 = 1680 kcal\n\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .running,\n            duration: 180,\n            intensity: .medium,\n            weight: 70.0\n        )\n\n        // Then: Should return 1680 kcal\n        XCTAssertEqual(calories, 1680, \"Running 180min (3hrs) at medium intensity (70kg) should burn 1680 kcal\")\n    }\n\n    /// Test: Very large duration (marathon: 4 hours = 240 minutes)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \ub9e4\uc6b0 \uae34 \uc2dc\uac04 (\ub9c8\ub77c\ud1a4: 4\uc2dc\uac04 = 240\ubd84)\n    func testCalculateCalories_VeryLargeDuration_ReturnsCorrectCalories() {\n        // Given: Running 240 minutes (4 hours), medium intensity, 70kg\n        // Formula: 8.0 \u00d7 1.0 \u00d7 70 \u00d7 4.0 = 2240 kcal\n\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .running,\n            duration: 240,\n            intensity: .medium,\n            weight: 70.0\n        )\n\n        // Then: Should return 2240 kcal\n        XCTAssertEqual(calories, 2240, \"Running 240min (4hrs) at medium intensity (70kg) should burn 2240 kcal\")\n    }\n\n    /// Test: Low weight person\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc800\uccb4\uc911\uc790\n    func testCalculateCalories_LowWeight_ReturnsCorrectCalories() {\n        // Given: Running 30 minutes, medium intensity, 45kg\n        // Formula: 8.0 \u00d7 1.0 \u00d7 45 \u00d7 0.5 = 180 kcal\n\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .running,\n            duration: 30,\n            intensity: .medium,\n            weight: 45.0\n        )\n\n        // Then: Should return 180 kcal\n        XCTAssertEqual(calories, 180, \"Running 30min at medium intensity (45kg) should burn 180 kcal\")\n    }\n\n    /// Test: High weight person\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uace0\uccb4\uc911\uc790\n    func testCalculateCalories_HighWeight_ReturnsCorrectCalories() {\n        // Given: Running 30 minutes, medium intensity, 120kg\n        // Formula: 8.0 \u00d7 1.0 \u00d7 120 \u00d7 0.5 = 480 kcal\n\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .running,\n            duration: 30,\n            intensity: .medium,\n            weight: 120.0\n        )\n\n        // Then: Should return 480 kcal\n        XCTAssertEqual(calories, 480, \"Running 30min at medium intensity (120kg) should burn 480 kcal\")\n    }\n\n    // MARK: - Rounding Tests\n\n    /// Test: Rounding half up (.5 rounds up)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \ubc18\uc62c\ub9bc (.5\ub294 \uc62c\ub9bc)\n    func testCalculateCalories_RoundingHalfUp_RoundsCorrectly() {\n        // Given: Walking 13 minutes, medium intensity, 70kg\n        // Formula: 3.5 \u00d7 1.0 \u00d7 70 \u00d7 (13/60) = 53.08 \u2192 53 kcal\n\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .walking,\n            duration: 13,\n            intensity: .medium,\n            weight: 70.0\n        )\n\n        // Then: Should round down to 53 kcal\n        XCTAssertEqual(calories, 53, \"Should round 53.08 down to 53 kcal\")\n    }\n\n    /// Test: Rounding exact half (.5 rounds up)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc815\ud655\ud788 .5 \ubc18\uc62c\ub9bc (.5\ub294 \uc62c\ub9bc)\n    func testCalculateCalories_RoundingExactHalf_RoundsUp() {\n        // Given: Walking 15 minutes, medium intensity, 70kg\n        // Formula: 3.5 \u00d7 1.0 \u00d7 70 \u00d7 (15/60) = 61.25 \u2192 61 kcal\n\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .walking,\n            duration: 15,\n            intensity: .medium,\n            weight: 70.0\n        )\n\n        // Then: Should round down to 61 kcal\n        XCTAssertEqual(calories, 61, \"Should round 61.25 down to 61 kcal\")\n    }\n\n    // MARK: - Decimal Weight Tests\n\n    /// Test: Decimal weight parameter\n    ///\n    /// \ud14c\uc2a4\ud2b8: Decimal \ud0c0\uc785 \uccb4\uc911 \ud30c\ub77c\ubbf8\ud130\n    func testCalculateCalories_DecimalWeight_ReturnsCorrectCalories() {\n        // Given: Running 30 minutes, medium intensity, 70.5kg (Decimal)\n        // Formula: 8.0 \u00d7 1.0 \u00d7 70.5 \u00d7 0.5 = 282 kcal\n\n        let weight: Decimal = 70.5\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .running,\n            duration: 30,\n            intensity: .medium,\n            weight: weight\n        )\n\n        // Then: Should return 282 kcal\n        XCTAssertEqual(calories, 282, \"Running 30min at medium intensity (70.5kg Decimal) should burn 282 kcal\")\n    }\n\n    /// Test: Decimal weight with precise value\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc815\ubc00\ud55c Decimal \uccb4\uc911 \uac12\n    func testCalculateCalories_DecimalWeightPrecise_ReturnsCorrectCalories() {\n        // Given: Walking 60 minutes, low intensity, 65.75kg (Decimal)\n        // Formula: 3.5 \u00d7 0.8 \u00d7 65.75 \u00d7 1.0 = 184.1 \u2192 184 kcal\n\n        let weight: Decimal = 65.75\n        let calories = ExerciseCalcService.calculateCalories(\n            exerciseType: .walking,\n            duration: 60,\n            intensity: .low,\n            weight: weight\n        )\n\n        // Then: Should return 184 kcal\n        XCTAssertEqual(calories, 184, \"Walking 60min at low intensity (65.75kg Decimal) should burn 184 kcal\")\n    }\n\n    /// Test: Decimal weight matches Double weight\n    ///\n    /// \ud14c\uc2a4\ud2b8: Decimal \uccb4\uc911\uacfc Double \uccb4\uc911\uc774 \ub3d9\uc77c\ud55c \uacb0\uacfc\n    func testCalculateCalories_DecimalVsDouble_ReturnsSameResult() {\n        // Given: Same parameters with Decimal and Double weight\n        let exerciseType: ExerciseType = .running\n        let duration: Int32 = 30\n        let intensity: Intensity = .medium\n\n        let weightDouble: Double = 70.0\n        let weightDecimal: Decimal = 70.0\n\n        // When: Calculating calories with both types\n        let caloriesDouble = ExerciseCalcService.calculateCalories(\n            exerciseType: exerciseType,\n            duration: duration,\n            intensity: intensity,\n            weight: weightDouble\n        )\n\n        let caloriesDecimal = ExerciseCalcService.calculateCalories(\n            exerciseType: exerciseType,\n            duration: duration,\n            intensity: intensity,\n            weight: weightDecimal\n        )\n\n        // Then: Both should return the same result\n        XCTAssertEqual(caloriesDouble, caloriesDecimal, \"Decimal and Double weights should produce same result\")\n    }\n}\n",
        "last_modified": "2026-01-14T22:54:09.706236"
      },
      "task_intent": {
        "title": "008-exercise-tracking-with-met-calculations",
        "description": "Exercise logging with activity type selection, duration input, and automatic calorie burn calculation using MET (Metabolic Equivalent of Task) values. Track both cardio and strength training with appropriate calculations.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-13T19:19:05.997865",
  "last_updated": "2026-01-14T11:45:41.870761"
}