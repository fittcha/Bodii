{
  "file_path": "Bodii/App/BodiiApp.swift",
  "main_branch_history": [],
  "task_views": {
    "001-": {
      "task_id": "001-",
      "branch_point": {
        "commit_hash": "bffa4407a91d66f875164727541505e70fc173ed",
        "content": "",
        "timestamp": "2026-01-11T19:11:51.451495"
      },
      "worktree_state": {
        "content": "//\n//  BodiiApp.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: SwiftUI App Lifecycle\n// iOS 14+\uc5d0\uc11c\ub294 App protocol \uae30\ubc18 \uc9c4\uc785\uc810 \uc0ac\uc6a9\n// \ud83d\udca1 Java \ube44\uad50: main() \uba54\uc11c\ub4dc \ub300\uc2e0 App struct \uc0ac\uc6a9\n\nimport SwiftUI\n\n// MARK: - App Entry Point\n\n@main\nstruct BodiiApp: App {\n\n    // MARK: - Properties\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: @StateObject\n    // App \uc0dd\uba85\uc8fc\uae30 \ub3d9\uc548 \uc720\uc9c0\ub418\ub294 \uc0c1\ud0dc \uac1d\uccb4\n    // Core Data\uc758 PersistenceController\ub97c \uc571 \uc804\uc5ed\uc5d0\uc11c \uc0ac\uc6a9\n    private let persistenceController = PersistenceController.shared\n\n    // MARK: - Body\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: some Scene\n    // WindowGroup\uc740 \ud50c\ub7ab\ud3fc\uc5d0 \ub9de\ub294 \uc708\ub3c4\uc6b0 \uad00\ub9ac \uc81c\uacf5\n    // iOS: \ub2e8\uc77c \uc708\ub3c4\uc6b0, macOS: \ub2e4\uc911 \uc708\ub3c4\uc6b0 \uc9c0\uc6d0\n    var body: some Scene {\n        WindowGroup {\n            ContentView()\n                // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Environment\n                // managedObjectContext\ub97c View \uacc4\uce35 \uc804\uccb4\uc5d0 \uc8fc\uc785\n                // \ud558\uc704 \ubdf0\uc5d0\uc11c @Environment(\\.managedObjectContext)\ub85c \uc811\uadfc \uac00\ub2a5\n                .environment(\\.managedObjectContext, persistenceController.viewContext)\n        }\n    }\n}\n",
        "last_modified": "2026-01-11T19:36:37.966289"
      },
      "task_intent": {
        "title": "001-",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    },
    "009-sleep-tracking-with-5-status-system": {
      "task_id": "009-sleep-tracking-with-5-status-system",
      "branch_point": {
        "commit_hash": "4e56d606f7b0d4cb74120dd392544f3fe2d4f5b4",
        "content": "//\n//  BodiiApp.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: SwiftUI App Lifecycle\n// iOS 14+\uc5d0\uc11c\ub294 App protocol \uae30\ubc18 \uc9c4\uc785\uc810 \uc0ac\uc6a9\n// \ud83d\udca1 Java \ube44\uad50: main() \uba54\uc11c\ub4dc \ub300\uc2e0 App struct \uc0ac\uc6a9\n\nimport SwiftUI\n\n// MARK: - App Entry Point\n\n@main\nstruct BodiiApp: App {\n\n    // MARK: - Properties\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: @StateObject\n    // App \uc0dd\uba85\uc8fc\uae30 \ub3d9\uc548 \uc720\uc9c0\ub418\ub294 \uc0c1\ud0dc \uac1d\uccb4\n    // Core Data\uc758 PersistenceController\ub97c \uc571 \uc804\uc5ed\uc5d0\uc11c \uc0ac\uc6a9\n    private let persistenceController = PersistenceController.shared\n\n    // MARK: - Body\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: some Scene\n    // WindowGroup\uc740 \ud50c\ub7ab\ud3fc\uc5d0 \ub9de\ub294 \uc708\ub3c4\uc6b0 \uad00\ub9ac \uc81c\uacf5\n    // iOS: \ub2e8\uc77c \uc708\ub3c4\uc6b0, macOS: \ub2e4\uc911 \uc708\ub3c4\uc6b0 \uc9c0\uc6d0\n    var body: some Scene {\n        WindowGroup {\n            ContentView()\n                // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Environment\n                // managedObjectContext\ub97c View \uacc4\uce35 \uc804\uccb4\uc5d0 \uc8fc\uc785\n                // \ud558\uc704 \ubdf0\uc5d0\uc11c @Environment(\\.managedObjectContext)\ub85c \uc811\uadfc \uac00\ub2a5\n                .environment(\\.managedObjectContext, persistenceController.viewContext)\n        }\n    }\n}\n",
        "timestamp": "2026-01-14T21:03:40.462795"
      },
      "worktree_state": null,
      "task_intent": {
        "title": "009-sleep-tracking-with-5-status-system",
        "description": "Sleep logging with 5-status tracking (bad, soso, good, excellent, oversleep), duration input, wake time prompts, and correlation with other health metrics. Automatic morning prompt to log previous night's sleep.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    },
    "011-apple-healthkit-integration": {
      "task_id": "011-apple-healthkit-integration",
      "branch_point": {
        "commit_hash": "258ac79ef8a0421a402798007601756ccc05aeaa",
        "content": "//\n//  BodiiApp.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: SwiftUI App Lifecycle\n// iOS 14+\uc5d0\uc11c\ub294 App protocol \uae30\ubc18 \uc9c4\uc785\uc810 \uc0ac\uc6a9\n// \ud83d\udca1 Java \ube44\uad50: main() \uba54\uc11c\ub4dc \ub300\uc2e0 App struct \uc0ac\uc6a9\n\nimport SwiftUI\n\n// MARK: - App Entry Point\n\n@main\nstruct BodiiApp: App {\n\n    // MARK: - Properties\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: @StateObject\n    // App \uc0dd\uba85\uc8fc\uae30 \ub3d9\uc548 \uc720\uc9c0\ub418\ub294 \uc0c1\ud0dc \uac1d\uccb4\n    // Core Data\uc758 PersistenceController\ub97c \uc571 \uc804\uc5ed\uc5d0\uc11c \uc0ac\uc6a9\n    private let persistenceController = PersistenceController.shared\n\n    // MARK: - Body\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: some Scene\n    // WindowGroup\uc740 \ud50c\ub7ab\ud3fc\uc5d0 \ub9de\ub294 \uc708\ub3c4\uc6b0 \uad00\ub9ac \uc81c\uacf5\n    // iOS: \ub2e8\uc77c \uc708\ub3c4\uc6b0, macOS: \ub2e4\uc911 \uc708\ub3c4\uc6b0 \uc9c0\uc6d0\n    var body: some Scene {\n        WindowGroup {\n            ContentView()\n                // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Environment\n                // managedObjectContext\ub97c View \uacc4\uce35 \uc804\uccb4\uc5d0 \uc8fc\uc785\n                // \ud558\uc704 \ubdf0\uc5d0\uc11c @Environment(\\.managedObjectContext)\ub85c \uc811\uadfc \uac00\ub2a5\n                .environment(\\.managedObjectContext, persistenceController.viewContext)\n        }\n    }\n}\n",
        "timestamp": "2026-01-17T00:44:29.139154"
      },
      "worktree_state": {
        "content": "//\n//  BodiiApp.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: SwiftUI App Lifecycle\n// iOS 14+\uc5d0\uc11c\ub294 App protocol \uae30\ubc18 \uc9c4\uc785\uc810 \uc0ac\uc6a9\n// \ud83d\udca1 Java \ube44\uad50: main() \uba54\uc11c\ub4dc \ub300\uc2e0 App struct \uc0ac\uc6a9\n\nimport SwiftUI\nimport HealthKit\n\n// MARK: - App Entry Point\n\n@main\nstruct BodiiApp: App {\n\n    // MARK: - Properties\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: @StateObject\n    // App \uc0dd\uba85\uc8fc\uae30 \ub3d9\uc548 \uc720\uc9c0\ub418\ub294 \uc0c1\ud0dc \uac1d\uccb4\n    // Core Data\uc758 PersistenceController\ub97c \uc571 \uc804\uc5ed\uc5d0\uc11c \uc0ac\uc6a9\n    private let persistenceController = PersistenceController.shared\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: @State for Background Sync\n    // \ubc31\uadf8\ub77c\uc6b4\ub4dc \ub3d9\uae30\ud654 \uc0c1\ud0dc \ucd94\uc801\n    // \ud83d\udca1 Java \ube44\uad50: Application \ub808\ubca8 \ubcc0\uc218\uc640 \uc720\uc0ac\n    @State private var healthKitBackgroundSync: HealthKitBackgroundSync?\n\n    // MARK: - Initialization\n\n    init() {\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: App Initialization\n        // HealthKit \uc11c\ube44\uc2a4 \ucd08\uae30\ud654\ub294 \uc571 \uc2dc\uc791 \uc2dc \ud55c \ubc88\ub9cc \uc218\ud589\n        // \ud83d\udca1 Java \ube44\uad50: Application.onCreate()\uc640 \uc720\uc0ac\n        setupHealthKitBackgroundSync()\n    }\n\n    // MARK: - Body\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: some Scene\n    // WindowGroup\uc740 \ud50c\ub7ab\ud3fc\uc5d0 \ub9de\ub294 \uc708\ub3c4\uc6b0 \uad00\ub9ac \uc81c\uacf5\n    // iOS: \ub2e8\uc77c \uc708\ub3c4\uc6b0, macOS: \ub2e4\uc911 \uc708\ub3c4\uc6b0 \uc9c0\uc6d0\n    var body: some Scene {\n        WindowGroup {\n            ContentView()\n                // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Environment\n                // managedObjectContext\ub97c View \uacc4\uce35 \uc804\uccb4\uc5d0 \uc8fc\uc785\n                // \ud558\uc704 \ubdf0\uc5d0\uc11c @Environment(\\.managedObjectContext)\ub85c \uc811\uadfc \uac00\ub2a5\n                .environment(\\.managedObjectContext, persistenceController.viewContext)\n                // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: onAppear\n                // View\uac00 \ud654\uba74\uc5d0 \ub098\ud0c0\ub0a0 \ub54c HealthKit \ubc31\uadf8\ub77c\uc6b4\ub4dc \ub3d9\uae30\ud654 \uc2dc\uc791\n                // \ud83d\udca1 Java \ube44\uad50: Activity.onStart()\uc640 \uc720\uc0ac\n                .onAppear {\n                    Task {\n                        await startHealthKitBackgroundSync()\n                    }\n                }\n        }\n    }\n\n    // MARK: - HealthKit Background Sync\n\n    /// HealthKit \ubc31\uadf8\ub77c\uc6b4\ub4dc \ub3d9\uae30\ud654 \ucd08\uae30\ud654\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Service Initialization via DIContainer\n    /// - DIContainer\ub97c \ud1b5\ud574 HealthKit \uc11c\ube44\uc2a4 \uc8fc\uc785\n    /// - lazy initialization\uc73c\ub85c \ud544\uc694\ud560 \ub54c\ub9cc \uc0dd\uc131\n    /// - \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4 \uc7ac\uc0ac\uc6a9\uc73c\ub85c \uba54\ubaa8\ub9ac \ud6a8\uc728\uc801\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Service \ucd08\uae30\ud654\uc640 \uc720\uc0ac\n    private func setupHealthKitBackgroundSync() {\n        // HealthKit \uc0ac\uc6a9 \uac00\ub2a5 \uc5ec\ubd80 \ud655\uc778\n        guard HKHealthStore.isHealthDataAvailable() else {\n            print(\"\u26a0\ufe0f HealthKit is not available on this device\")\n            return\n        }\n\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: DIContainer Dependency Injection\n        // DIContainer\uac00 \ubaa8\ub4e0 \uc758\uc874\uc131 \uccb4\uc778\uc744 \uad00\ub9ac\n        // healthStore \u2192 authService \u2192 readService \u2192 writeService \u2192 syncService \u2192 backgroundSync\n        // \ud83d\udca1 Java \ube44\uad50: Spring @Autowired \uc758\uc874\uc131 \uccb4\uc778\uacfc \uc720\uc0ac\n        let container = DIContainer.shared\n        healthKitBackgroundSync = container.healthKitBackgroundSync\n\n        print(\"\u2705 HealthKit background sync initialized from DIContainer\")\n    }\n\n    /// HealthKit \ubc31\uadf8\ub77c\uc6b4\ub4dc \ub3d9\uae30\ud654 \uc2dc\uc791\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Async Initialization\n    /// - \uc571 \uc2e4\ud589 \uc2dc \ubc31\uadf8\ub77c\uc6b4\ub4dc observer \ub4f1\ub85d\n    /// - \uad8c\ud55c\uc774 \uc5c6\uc73c\uba74 \uc870\uc6a9\ud788 \uc2e4\ud328 (\uc0ac\uc6a9\uc790\uac00 \uc124\uc815\uc5d0\uc11c \ud65c\uc131\ud654\ud560 \ub54c\uae4c\uc9c0 \ub300\uae30)\n    /// \ud83d\udca1 Java \ube44\uad50: Background Service \uc2dc\uc791\uacfc \uc720\uc0ac\n    ///\n    /// - Note: \uad8c\ud55c\uc774 \uc5c6\uc5b4\ub3c4 \uc5d0\ub7ec\ub97c \ub358\uc9c0\uc9c0 \uc54a\uc74c (\uc0ac\uc6a9\uc790\uac00 \ub098\uc911\uc5d0 \ud65c\uc131\ud654\ud560 \uc218 \uc788\uc74c)\n    @MainActor\n    private func startHealthKitBackgroundSync() async {\n        guard let backgroundSync = healthKitBackgroundSync else {\n            print(\"\u26a0\ufe0f HealthKit background sync not initialized\")\n            return\n        }\n\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Default User ID\n        // \ud604\uc7ac\ub294 \ub2e8\uc77c \uc0ac\uc6a9\uc790 \uc571\uc774\ubbc0\ub85c \"default\" \uc0ac\uc6a9\n        // TODO: Phase 7\uc5d0\uc11c \uc2e4\uc81c \uc0ac\uc6a9\uc790 \uc778\uc99d \uc2dc\uc2a4\ud15c \ud1b5\ud569 \uc2dc userId \uc804\ub2ec\n        // \ud83d\udca1 Java \ube44\uad50: SharedPreferences\uc5d0\uc11c userId \uac00\uc838\uc624\uae30\uc640 \uc720\uc0ac\n        let userId = \"default\"\n\n        do {\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Background Observer Setup\n            // - HealthKit \ub370\uc774\ud130 \ubcc0\uacbd \uc2dc \uc790\ub3d9\uc73c\ub85c \uc571\uc744 \uae68\uc6cc\uc11c \ub3d9\uae30\ud654\n            // - \uad8c\ud55c\uc774 \ud5c8\uc6a9\ub41c \uacbd\uc6b0\uc5d0\ub9cc \uc791\ub3d9\n            // \ud83d\udca1 Java \ube44\uad50: WorkManager \ub4f1\ub85d\uacfc \uc720\uc0ac\n            try await backgroundSync.setupBackgroundObservers(userId: userId)\n            print(\"\u2705 HealthKit background observers started successfully\")\n        } catch HealthKitError.healthKitNotAvailable {\n            print(\"\u26a0\ufe0f HealthKit not available on this device\")\n        } catch HealthKitError.authorizationDenied {\n            print(\"\u2139\ufe0f HealthKit permission not granted yet (user will enable in settings)\")\n        } catch {\n            print(\"\u26a0\ufe0f Failed to start HealthKit background sync: \\(error.localizedDescription)\")\n            // \ubc31\uadf8\ub77c\uc6b4\ub4dc \ub3d9\uae30\ud654 \uc2e4\ud328\ub294 \uce58\uba85\uc801\uc774\uc9c0 \uc54a\uc74c\n            // \uc0ac\uc6a9\uc790\uac00 \uc124\uc815\uc5d0\uc11c \ud65c\uc131\ud654\ud560 \ub54c\uae4c\uc9c0 \ub300\uae30\n        }\n    }\n}\n",
        "last_modified": "2026-01-18T17:11:40.678163"
      },
      "task_intent": {
        "title": "011-apple-healthkit-integration",
        "description": "Bidirectional sync with Apple HealthKit for weight, body fat, active calories, sleep, and workout data. Read existing data and write Bodii records to maintain ecosystem connectivity.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-11T19:04:11.929999",
  "last_updated": "2026-01-17T00:44:29.368360"
}