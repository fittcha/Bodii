{
  "file_path": "Bodii/Domain/Services/ExerciseCalcService.swift",
  "main_branch_history": [],
  "task_views": {
    "008-exercise-tracking-with-met-calculations": {
      "task_id": "008-exercise-tracking-with-met-calculations",
      "branch_point": {
        "commit_hash": "4e56d606f7b0d4cb74120dd392544f3fe2d4f5b4",
        "content": "",
        "timestamp": "2026-01-14T11:45:41.765455"
      },
      "worktree_state": {
        "content": "//\n//  ExerciseCalcService.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-13.\n//\n\nimport Foundation\n\n/// \uc6b4\ub3d9 \uce7c\ub85c\ub9ac \uacc4\uc0b0 \uc11c\ube44\uc2a4\n///\n/// MET (Metabolic Equivalent of Task) \uae30\ubc18\uc73c\ub85c \uc6b4\ub3d9 \uc2dc \uc18c\ubaa8\ub418\ub294 \uce7c\ub85c\ub9ac\ub97c \uacc4\uc0b0\ud569\ub2c8\ub2e4.\n///\n/// ## MET \uacc4\uc0b0 \uacf5\uc2dd\n/// ```\n/// \uc18c\ubaa8 \uce7c\ub85c\ub9ac = MET \u00d7 \uccb4\uc911(kg) \u00d7 \uc2dc\uac04(hour)\n/// ```\n///\n/// ## MET \uac12 \uacb0\uc815\n/// ```\n/// MET = \uc6b4\ub3d9 \uc885\ub958\uc758 \uae30\ubcf8 MET \u00d7 \uac15\ub3c4 \ubcf4\uc815 \uacc4\uc218\n/// ```\n///\n/// ## \uac15\ub3c4 \ubcf4\uc815 \uacc4\uc218\n/// - \uc800\uac15\ub3c4: \uae30\ubcf8 MET \u00d7 0.8\n/// - \uc911\uac15\ub3c4: \uae30\ubcf8 MET \u00d7 1.0\n/// - \uace0\uac15\ub3c4: \uae30\ubcf8 MET \u00d7 1.2\n///\n/// - Example:\n/// ```swift\n/// // \ud06c\ub85c\uc2a4\ud54f 45\ubd84, \uace0\uac15\ub3c4, \uccb4\uc911 75kg\n/// let calories = ExerciseCalcService.calculateCalories(\n///     exerciseType: .crossfit,\n///     duration: 45,\n///     intensity: .high,\n///     weight: 75.0\n/// )\n/// // \uacb0\uacfc: 540 kcal\n/// // \uacc4\uc0b0: 8.0 \u00d7 1.2 = 9.6 MET\n/// //       9.6 \u00d7 75 \u00d7 0.75 = 540\n/// ```\nenum ExerciseCalcService {\n\n    // MARK: - Public Methods\n\n    /// \uc6b4\ub3d9\uc73c\ub85c \uc18c\ubaa8\ub41c \uce7c\ub85c\ub9ac\ub97c \uacc4\uc0b0\ud569\ub2c8\ub2e4.\n    ///\n    /// MET \uacf5\uc2dd\uc744 \uc0ac\uc6a9\ud558\uc5ec \uce7c\ub85c\ub9ac\ub97c \uacc4\uc0b0\ud569\ub2c8\ub2e4:\n    /// ```\n    /// \uce7c\ub85c\ub9ac = MET \u00d7 \uccb4\uc911(kg) \u00d7 \uc2dc\uac04(hours)\n    /// ```\n    ///\n    /// MET \uac12\uc740 \uc6b4\ub3d9 \uc885\ub958\uc758 \uae30\ubcf8 MET\uc5d0 \uac15\ub3c4 \ubcf4\uc815 \uacc4\uc218\ub97c \uacf1\ud558\uc5ec \uacb0\uc815\ub429\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - exerciseType: \uc6b4\ub3d9 \uc885\ub958 (\uac77\uae30, \ub7ec\ub2dd, \uc790\uc804\uac70 \ub4f1)\n    ///   - duration: \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    ///   - intensity: \uc6b4\ub3d9 \uac15\ub3c4 (\uc800\uac15\ub3c4, \uc911\uac15\ub3c4, \uace0\uac15\ub3c4)\n    ///   - weight: \uc0ac\uc6a9\uc790 \uccb4\uc911 (kg)\n    ///\n    /// - Returns: \uc18c\ubaa8\ub41c \uce7c\ub85c\ub9ac (kcal), Int32\ub85c \ubc18\uc62c\ub9bc\ub41c \uac12\n    ///\n    /// - Example:\n    /// ```swift\n    /// // \ub7ec\ub2dd 30\ubd84, \uc911\uac15\ub3c4, \uccb4\uc911 70kg\n    /// let calories = ExerciseCalcService.calculateCalories(\n    ///     exerciseType: .running,\n    ///     duration: 30,\n    ///     intensity: .medium,\n    ///     weight: 70.0\n    /// )\n    /// // \uacb0\uacfc: 280 kcal\n    /// // \uacc4\uc0b0: 8.0 \u00d7 1.0 = 8.0 MET\n    /// //       8.0 \u00d7 70 \u00d7 0.5 = 280\n    /// ```\n    static func calculateCalories(\n        exerciseType: ExerciseType,\n        duration: Int32,\n        intensity: Intensity,\n        weight: Double\n    ) -> Int32 {\n        // 1. \uae30\ubcf8 MET \uac12 \uac00\uc838\uc624\uae30\n        let baseMET = exerciseType.baseMET\n\n        // 2. \uac15\ub3c4 \ubcf4\uc815 \uacc4\uc218 \uc801\uc6a9\n        let adjustedMET = baseMET * intensity.metMultiplier\n\n        // 3. \uc2dc\uac04\uc744 \ubd84\uc5d0\uc11c \uc2dc\uac04\uc73c\ub85c \ubcc0\ud658\n        let hours = Double(duration) / 60.0\n\n        // 4. MET \uacf5\uc2dd \uc801\uc6a9: \uce7c\ub85c\ub9ac = MET \u00d7 \uccb4\uc911(kg) \u00d7 \uc2dc\uac04(hour)\n        let calories = adjustedMET * weight * hours\n\n        // 5. Int32\ub85c \ubc18\uc62c\ub9bc\ud558\uc5ec \ubc18\ud658\n        return Int32(calories.rounded())\n    }\n\n    /// \uc6b4\ub3d9\uc73c\ub85c \uc18c\ubaa8\ub41c \uce7c\ub85c\ub9ac\ub97c \uacc4\uc0b0\ud569\ub2c8\ub2e4. (Decimal \ud0c0\uc785 \uccb4\uc911)\n    ///\n    /// Decimal \ud0c0\uc785\uc758 \uccb4\uc911\uc744 \ubc1b\uc544\uc11c \uce7c\ub85c\ub9ac\ub97c \uacc4\uc0b0\ud558\ub294 \ud3b8\uc758 \uba54\uc11c\ub4dc\uc785\ub2c8\ub2e4.\n    /// User \uc5d4\ud2f0\ud2f0\uc758 currentWeight\uac00 Decimal \ud0c0\uc785\uc774\ubbc0\ub85c \uc9c1\uc811 \uc804\ub2ec\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - exerciseType: \uc6b4\ub3d9 \uc885\ub958 (\uac77\uae30, \ub7ec\ub2dd, \uc790\uc804\uac70 \ub4f1)\n    ///   - duration: \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    ///   - intensity: \uc6b4\ub3d9 \uac15\ub3c4 (\uc800\uac15\ub3c4, \uc911\uac15\ub3c4, \uace0\uac15\ub3c4)\n    ///   - weight: \uc0ac\uc6a9\uc790 \uccb4\uc911 (kg), Decimal \ud0c0\uc785\n    ///\n    /// - Returns: \uc18c\ubaa8\ub41c \uce7c\ub85c\ub9ac (kcal), Int32\ub85c \ubc18\uc62c\ub9bc\ub41c \uac12\n    ///\n    /// - Example:\n    /// ```swift\n    /// let user = User(...)\n    /// let calories = ExerciseCalcService.calculateCalories(\n    ///     exerciseType: .walking,\n    ///     duration: 60,\n    ///     intensity: .low,\n    ///     weight: user.currentWeight ?? 70.0\n    /// )\n    /// ```\n    static func calculateCalories(\n        exerciseType: ExerciseType,\n        duration: Int32,\n        intensity: Intensity,\n        weight: Decimal\n    ) -> Int32 {\n        // Decimal\uc744 Double\ub85c \ubcc0\ud658\ud558\uc5ec \uae30\ubcf8 \uba54\uc11c\ub4dc \ud638\ucd9c\n        let weightDouble = NSDecimalNumber(decimal: weight).doubleValue\n        return calculateCalories(\n            exerciseType: exerciseType,\n            duration: duration,\n            intensity: intensity,\n            weight: weightDouble\n        )\n    }\n}\n",
        "last_modified": "2026-01-14T22:54:09.701895"
      },
      "task_intent": {
        "title": "008-exercise-tracking-with-met-calculations",
        "description": "Exercise logging with activity type selection, duration input, and automatic calorie burn calculation using MET (Metabolic Equivalent of Task) values. Track both cardio and strength training with appropriate calculations.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-13T19:19:06.069165",
  "last_updated": "2026-01-14T11:45:42.038367"
}