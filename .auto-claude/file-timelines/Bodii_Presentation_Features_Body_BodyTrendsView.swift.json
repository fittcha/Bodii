{
  "file_path": "Bodii/Presentation/Features/Body/BodyTrendsView.swift",
  "main_branch_history": [],
  "task_views": {
    "003-body-composition-tracking-with-bmr-tdee": {
      "task_id": "003-body-composition-tracking-with-bmr-tdee",
      "branch_point": {
        "commit_hash": "2abdae73fb6199bcbf4f21f6deeb7952225f81e6",
        "content": "",
        "timestamp": "2026-01-13T07:46:22.394743"
      },
      "worktree_state": {
        "content": "//\n//  BodyTrendsView.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-12.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Chart Display View Pattern\n// \ucc28\ud2b8 \uc911\uc2ec\uc758 \ud2b8\ub80c\ub4dc \ubd84\uc11d \ud654\uba74\n// \ud83d\udca1 Java \ube44\uad50: Android\uc758 Chart Fragment\uc640 \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uc120\uc5b8\uc801\n\nimport SwiftUI\nimport Charts\n\n// MARK: - BodyTrendsView\n\n/// \uc2e0\uccb4 \uad6c\uc131 \ud2b8\ub80c\ub4dc \ucc28\ud2b8 \ud654\uba74\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Chart-Focused View\n/// - \uccb4\uc911 \ubc0f \uccb4\uc9c0\ubc29\ub960 \ud2b8\ub80c\ub4dc \ucc28\ud2b8 \ud45c\uc2dc\n/// - \uae30\uac04 \uc120\ud0dd \uae30\ub2a5 (7/30/90\uc77c)\n/// - \ud1b5\uacc4 \uc694\uc57d \uc815\ubcf4 \ud45c\uc2dc\n/// - \ube48 \uc0c1\ud0dc \ucc98\ub9ac\n/// \ud83d\udca1 Java \ube44\uad50: Android\uc758 Analytics Fragment\uc640 \uc720\uc0ac\nstruct BodyTrendsView: View {\n\n    // MARK: - Properties\n\n    /// ViewModel - \ud2b8\ub80c\ub4dc \ub370\uc774\ud130 \uad00\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: @StateObject\n    /// - View\uc758 \uc0dd\uba85\uc8fc\uae30\uc640 \uc5f0\uacb0\ub41c ObservableObject\n    /// - View\uac00 \uc0ac\ub77c\uc838\ub3c4 \uc0c1\ud0dc \uc720\uc9c0\n    /// \ud83d\udca1 Java \ube44\uad50: Android ViewModel\uacfc \uc720\uc0ac\n    @StateObject private var viewModel: BodyTrendsViewModel\n\n    /// \uc0ac\uc6a9\uc790 \uc131\ubcc4 (\uac74\uac15 \uad6c\uac04 \ud45c\uc2dc\uc6a9)\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Optional Gender for Health Zones\n    /// - \uccb4\uc9c0\ubc29\ub960 \uac74\uac15 \uad6c\uac04 \ud310\ubcc4\uc5d0 \uc0ac\uc6a9\n    /// - nil\uc774\uba74 \uc77c\ubc18\uc801\uc778 \uc0c9\uc0c1 \uc0ac\uc6a9\n    let userGender: Gender?\n\n    /// \ubaa9\ud45c \uccb4\uc911\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Optional Goal Line\n    /// - \ucc28\ud2b8\uc5d0 \ubaa9\ud45c\uc120 \ud45c\uc2dc\n    let goalWeight: Decimal?\n\n    /// \ubaa9\ud45c \uccb4\uc9c0\ubc29\ub960\n    let goalBodyFat: Decimal?\n\n    /// \ud654\uba74 \ub2eb\uae30 \uc561\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Environment Dismiss\n    /// - Sheet\ub098 NavigationStack\uc5d0\uc11c \ud654\uba74\uc744 \ub2eb\uc744 \ub54c \uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: finish() \ub610\ub294 popBackStack()\uacfc \uc720\uc0ac\n    @Environment(\\.dismiss) private var dismiss\n\n    // MARK: - Initialization\n\n    /// BodyTrendsView \ucd08\uae30\ud654\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection via Constructor\n    /// - ViewModel\uc744 \uc678\ubd80\uc5d0\uc11c \uc8fc\uc785\ubc1b\uc74c\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc Mock ViewModel \uc8fc\uc785 \uac00\ub2a5\n    /// \ud83d\udca1 Java \ube44\uad50: Constructor injection\uacfc \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - viewModel: \ud2b8\ub80c\ub4dc ViewModel\n    ///   - userGender: \uc0ac\uc6a9\uc790 \uc131\ubcc4 (\uae30\ubcf8\uac12: nil)\n    ///   - goalWeight: \ubaa9\ud45c \uccb4\uc911 (\uae30\ubcf8\uac12: nil)\n    ///   - goalBodyFat: \ubaa9\ud45c \uccb4\uc9c0\ubc29\ub960 (\uae30\ubcf8\uac12: nil)\n    init(\n        viewModel: BodyTrendsViewModel,\n        userGender: Gender? = nil,\n        goalWeight: Decimal? = nil,\n        goalBodyFat: Decimal? = nil\n    ) {\n        self._viewModel = StateObject(wrappedValue: viewModel)\n        self.userGender = userGender\n        self.goalWeight = goalWeight\n        self.goalBodyFat = goalBodyFat\n    }\n\n    // MARK: - Body\n\n    var body: some View {\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: NavigationStack\n        // iOS 16+\uc758 \uc0c8\ub85c\uc6b4 \ub124\ube44\uac8c\uc774\uc158 \uc2dc\uc2a4\ud15c\n        // \ud83d\udca1 Java \ube44\uad50: Navigation Component\uc640 \uc720\uc0ac\n        NavigationStack {\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: ScrollView with LazyVStack\n            // \uc131\ub2a5 \ucd5c\uc801\ud654\ub97c \uc704\ud574 \ubcf4\uc774\ub294 \ubd80\ubd84\ub9cc \ub80c\ub354\ub9c1\n            ScrollView {\n                VStack(spacing: 20) {\n                    // \uae30\uac04 \uc120\ud0dd\uae30\n                    periodSelectorSection\n\n                    // \ucc28\ud2b8 \uc139\uc158\n                    if viewModel.isLoading {\n                        loadingView\n                    } else if viewModel.isEmpty {\n                        emptyStateView\n                    } else {\n                        // \ud1b5\uacc4 \uc694\uc57d\n                        statisticsSection\n\n                        // \uccb4\uc911 \ud2b8\ub80c\ub4dc \ucc28\ud2b8\n                        weightChartSection\n\n                        // \uccb4\uc9c0\ubc29\ub960 \ud2b8\ub80c\ub4dc \ucc28\ud2b8\n                        bodyFatChartSection\n                    }\n                }\n                .padding(.horizontal, 16)\n                .padding(.vertical, 20)\n            }\n            .navigationTitle(\"\ud2b8\ub80c\ub4dc \ubd84\uc11d\")\n            .navigationBarTitleDisplayMode(.large)\n            .toolbar {\n                ToolbarItem(placement: .navigationBarTrailing) {\n                    closeButton\n                }\n            }\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: refreshable modifier\n            // Pull-to-refresh \uad6c\ud604\n            .refreshable {\n                await viewModel.refresh()\n            }\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Alert for Errors\n            // \uc5d0\ub7ec \ubc1c\uc0dd \uc2dc \uc54c\ub9bc \ud45c\uc2dc\n            .alert(\"\uc624\ub958\", isPresented: .constant(viewModel.errorMessage != nil)) {\n                Button(\"\ud655\uc778\") {\n                    viewModel.errorMessage = nil\n                }\n            } message: {\n                if let errorMessage = viewModel.errorMessage {\n                    Text(errorMessage)\n                }\n            }\n        }\n    }\n\n    // MARK: - Subviews\n\n    /// \uae30\uac04 \uc120\ud0dd\uae30 \uc139\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Period Selector Section\n    /// - TrendPeriodPicker\ub97c \uce74\ub4dc \uc548\uc5d0 \ubc30\uce58\n    private var periodSelectorSection: some View {\n        VStack(spacing: 0) {\n            TrendPeriodPicker(fullWidth: $viewModel.selectedPeriod)\n        }\n        .padding(16)\n        .background(cardBackground)\n        .cornerRadius(12)\n        .shadow(color: Color.black.opacity(0.05), radius: 8, x: 0, y: 2)\n    }\n\n    /// \ud1b5\uacc4 \uc694\uc57d \uc139\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Statistics Summary\n    /// - \ud3c9\uade0, \ucd5c\uc18c, \ucd5c\ub300, \ubcc0\ud654\ub7c9 \ud45c\uc2dc\n    private var statisticsSection: some View {\n        VStack(alignment: .leading, spacing: 12) {\n            // \uc139\uc158 \ud5e4\ub354\n            sectionHeader(\n                title: \"\ud1b5\uacc4 \uc694\uc57d\",\n                icon: \"chart.bar.fill\"\n            )\n\n            if let output = viewModel.trendsOutput {\n                statisticsCard(output: output)\n            }\n        }\n    }\n\n    /// \ud1b5\uacc4 \uce74\ub4dc\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Statistics Display Card\n    /// - \uc5ec\ub7ec \ud1b5\uacc4 \uc9c0\ud45c\ub97c \uadf8\ub9ac\ub4dc\ub85c \ud45c\uc2dc\n    ///\n    /// - Parameter output: \ud2b8\ub80c\ub4dc \ub370\uc774\ud130 \ucd9c\ub825\n    /// - Returns: \ud1b5\uacc4 \uce74\ub4dc \ubdf0\n    private func statisticsCard(output: FetchBodyTrendsUseCase.Output) -> some View {\n        VStack(spacing: 16) {\n            // \ub370\uc774\ud130 \uae30\uac04\n            HStack {\n                Image(systemName: \"calendar\")\n                    .font(.caption)\n                    .foregroundStyle(.secondary)\n\n                Text(\"\uae30\uac04: \\(formatDate(output.startDate, style: .short)) - \\(formatDate(output.endDate, style: .short))\")\n                    .font(.caption)\n                    .foregroundStyle(.secondary)\n\n                Spacer()\n\n                Text(\"\\(output.count)\uac1c \uae30\ub85d\")\n                    .font(.caption)\n                    .fontWeight(.medium)\n                    .foregroundStyle(.blue)\n            }\n\n            Divider()\n\n            // \ud1b5\uacc4 \uadf8\ub9ac\ub4dc\n            LazyVGrid(columns: [\n                GridItem(.flexible()),\n                GridItem(.flexible())\n            ], spacing: 16) {\n                // \ud3c9\uade0 \uccb4\uc911\n                statisticItem(\n                    title: \"\ud3c9\uade0 \uccb4\uc911\",\n                    value: formatWeight(output.averageWeight),\n                    icon: \"scalemass\",\n                    color: .blue\n                )\n\n                // \ud3c9\uade0 \uccb4\uc9c0\ubc29\ub960\n                statisticItem(\n                    title: \"\ud3c9\uade0 \uccb4\uc9c0\ubc29\ub960\",\n                    value: formatBodyFat(output.averageBodyFatPercent),\n                    icon: \"percent\",\n                    color: .orange\n                )\n\n                // \uccb4\uc911 \ubcc0\ud654\n                if let weightChange = output.weightChange {\n                    statisticItem(\n                        title: \"\uccb4\uc911 \ubcc0\ud654\",\n                        value: formatWeightChange(weightChange),\n                        icon: weightChange >= 0 ? \"arrow.up.right\" : \"arrow.down.right\",\n                        color: weightChange >= 0 ? .orange : .blue\n                    )\n                }\n\n                // \uccb4\uc9c0\ubc29\ub960 \ubcc0\ud654\n                if let bodyFatChange = output.bodyFatChange {\n                    statisticItem(\n                        title: \"\uccb4\uc9c0\ubc29 \ubcc0\ud654\",\n                        value: formatBodyFatChange(bodyFatChange),\n                        icon: bodyFatChange >= 0 ? \"arrow.up.right\" : \"arrow.down.right\",\n                        color: bodyFatChange >= 0 ? .orange : .blue\n                    )\n                }\n            }\n        }\n        .padding(16)\n        .background(cardBackground)\n        .cornerRadius(12)\n        .shadow(color: Color.black.opacity(0.05), radius: 8, x: 0, y: 2)\n    }\n\n    /// \uac1c\ubcc4 \ud1b5\uacc4 \uc544\uc774\ud15c\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Reusable Statistic Item\n    /// - \ud1b5\uacc4 \uc9c0\ud45c\ub97c \uc77c\uad00\ub41c \ud615\uc2dd\uc73c\ub85c \ud45c\uc2dc\n    ///\n    /// - Parameters:\n    ///   - title: \ud1b5\uacc4 \uc81c\ubaa9\n    ///   - value: \ud1b5\uacc4 \uac12\n    ///   - icon: SF Symbol \uc544\uc774\ucf58\n    ///   - color: \uac15\uc870 \uc0c9\uc0c1\n    /// - Returns: \ud1b5\uacc4 \uc544\uc774\ud15c \ubdf0\n    private func statisticItem(\n        title: String,\n        value: String,\n        icon: String,\n        color: Color\n    ) -> some View {\n        VStack(alignment: .leading, spacing: 8) {\n            // \uc544\uc774\ucf58\uacfc \uc81c\ubaa9\n            HStack(spacing: 4) {\n                Image(systemName: icon)\n                    .font(.caption2)\n                    .foregroundStyle(color)\n\n                Text(title)\n                    .font(.caption)\n                    .foregroundStyle(.secondary)\n            }\n\n            // \uac12\n            Text(value)\n                .font(.title3)\n                .fontWeight(.semibold)\n                .foregroundStyle(.primary)\n        }\n        .frame(maxWidth: .infinity, alignment: .leading)\n        .padding(12)\n        .background(\n            RoundedRectangle(cornerRadius: 8)\n                .fill(Color(.secondarySystemBackground))\n        )\n    }\n\n    /// \uccb4\uc911 \ucc28\ud2b8 \uc139\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Chart Section\n    /// - \ucc28\ud2b8\ub97c \uce74\ub4dc \uc548\uc5d0 \ubc30\uce58\n    private var weightChartSection: some View {\n        VStack(spacing: 0) {\n            WeightTrendChart(\n                viewModel: viewModel,\n                goalWeight: goalWeight,\n                isInteractive: true,\n                height: 280\n            )\n            .padding(16)\n        }\n        .background(cardBackground)\n        .cornerRadius(12)\n        .shadow(color: Color.black.opacity(0.05), radius: 8, x: 0, y: 2)\n    }\n\n    /// \uccb4\uc9c0\ubc29\ub960 \ucc28\ud2b8 \uc139\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Chart Section with Health Zones\n    /// - \uac74\uac15 \uad6c\uac04\uacfc \ud568\uaed8 \ucc28\ud2b8 \ud45c\uc2dc\n    private var bodyFatChartSection: some View {\n        VStack(spacing: 0) {\n            BodyFatTrendChart(\n                viewModel: viewModel,\n                goalBodyFat: goalBodyFat,\n                isInteractive: true,\n                height: 280,\n                gender: userGender,\n                showHealthZones: true\n            )\n            .padding(16)\n        }\n        .background(cardBackground)\n        .cornerRadius(12)\n        .shadow(color: Color.black.opacity(0.05), radius: 8, x: 0, y: 2)\n    }\n\n    /// \ub2eb\uae30 \ubc84\ud2bc\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Toolbar Item\n    /// - \ub124\ube44\uac8c\uc774\uc158 \ubc14\uc5d0 \ub2eb\uae30 \ubc84\ud2bc \ucd94\uac00\n    private var closeButton: some View {\n        Button(action: {\n            dismiss()\n        }) {\n            HStack(spacing: 4) {\n                Image(systemName: \"xmark.circle.fill\")\n                    .font(.subheadline)\n                Text(\"\ub2eb\uae30\")\n                    .font(.subheadline)\n                    .fontWeight(.medium)\n            }\n            .foregroundStyle(.blue)\n        }\n    }\n\n    /// \ub85c\ub529 \ubdf0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Loading State UI\n    private var loadingView: some View {\n        VStack(spacing: 16) {\n            ProgressView()\n                .scaleEffect(1.5)\n\n            Text(\"\ud2b8\ub80c\ub4dc \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911...\")\n                .font(.subheadline)\n                .foregroundStyle(.secondary)\n        }\n        .frame(maxWidth: .infinity)\n        .frame(height: 300)\n        .background(cardBackground)\n        .cornerRadius(12)\n        .shadow(color: Color.black.opacity(0.05), radius: 8, x: 0, y: 2)\n    }\n\n    /// \ube48 \uc0c1\ud0dc \ubdf0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Empty State UI\n    /// - \ub370\uc774\ud130\uac00 \uc5c6\uc744 \ub54c \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc548\ub0b4\n    private var emptyStateView: some View {\n        VStack(spacing: 20) {\n            Image(systemName: \"chart.xyaxis.line\")\n                .font(.system(size: 70))\n                .foregroundStyle(.gray.opacity(0.3))\n\n            VStack(spacing: 8) {\n                Text(\"\ud2b8\ub80c\ub4dc \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4\")\n                    .font(.headline)\n                    .fontWeight(.semibold)\n                    .foregroundStyle(.primary)\n\n                Text(\"\uc120\ud0dd\ud55c \uae30\uac04 \ub3d9\uc548\uc758 \uc2e0\uccb4 \uad6c\uc131 \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.\\n\uccb4\uc131\ubd84 \ud0ed\uc5d0\uc11c \ub370\uc774\ud130\ub97c \uc785\ub825\ud558\uba74\\n\ud2b8\ub80c\ub4dc\ub97c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\")\n                    .font(.subheadline)\n                    .foregroundStyle(.secondary)\n                    .multilineTextAlignment(.center)\n            }\n\n            // \ub2e4\ub978 \uae30\uac04 \uc120\ud0dd \uc548\ub0b4\n            VStack(spacing: 12) {\n                Text(\"\ub2e4\ub978 \uae30\uac04\uc744 \uc120\ud0dd\ud574\ubcf4\uc138\uc694:\")\n                    .font(.caption)\n                    .fontWeight(.medium)\n                    .foregroundStyle(.secondary)\n\n                TrendPeriodPicker(compactStyle: $viewModel.selectedPeriod)\n            }\n            .padding(.top, 8)\n        }\n        .frame(maxWidth: .infinity)\n        .frame(height: 400)\n        .padding(.horizontal, 32)\n        .background(cardBackground)\n        .cornerRadius(12)\n        .shadow(color: Color.black.opacity(0.05), radius: 8, x: 0, y: 2)\n    }\n\n    /// \uc139\uc158 \ud5e4\ub354\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Section Header Component\n    ///\n    /// - Parameters:\n    ///   - title: \uc139\uc158 \uc81c\ubaa9\n    ///   - icon: SF Symbol \uc544\uc774\ucf58\n    /// - Returns: \uc139\uc158 \ud5e4\ub354 \ubdf0\n    private func sectionHeader(title: String, icon: String) -> some View {\n        HStack(spacing: 8) {\n            Image(systemName: icon)\n                .font(.subheadline)\n                .foregroundStyle(.blue)\n\n            Text(title)\n                .font(.headline)\n                .fontWeight(.semibold)\n                .foregroundStyle(.primary)\n        }\n    }\n\n    /// \uce74\ub4dc \ubc30\uacbd\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Adaptive Colors\n    /// - \ub77c\uc774\ud2b8/\ub2e4\ud06c \ubaa8\ub4dc\uc5d0 \uc790\ub3d9 \ub300\uc751\ud558\ub294 \uc0c9\uc0c1\n    private var cardBackground: some View {\n        RoundedRectangle(cornerRadius: 12)\n            .fill(Color(.systemBackground))\n            .overlay(\n                RoundedRectangle(cornerRadius: 12)\n                    .stroke(Color(.systemGray5), lineWidth: 1)\n            )\n    }\n\n    // MARK: - Helper Methods\n\n    /// \ub0a0\uc9dc \ud3ec\ub9f7\ud305\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Date Formatting\n    ///\n    /// - Parameters:\n    ///   - date: \ub0a0\uc9dc\n    ///   - style: \ub0a0\uc9dc \uc2a4\ud0c0\uc77c (\uae30\ubcf8\uac12: .medium)\n    /// - Returns: \ud3ec\ub9f7\ub41c \ubb38\uc790\uc5f4\n    private func formatDate(_ date: Date, style: DateFormatter.Style = .medium) -> String {\n        let formatter = DateFormatter()\n        formatter.dateStyle = style\n        formatter.timeStyle = .none\n        formatter.locale = Locale(identifier: \"ko_KR\")\n        return formatter.string(from: date)\n    }\n\n    /// \uccb4\uc911 \ud3ec\ub9f7\ud305\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Weight Formatting\n    /// - \uc18c\uc218\uc810 1\uc790\ub9ac + \"kg\" \ub2e8\uc704\n    ///\n    /// - Parameter weight: \uccb4\uc911\n    /// - Returns: \ud3ec\ub9f7\ub41c \ubb38\uc790\uc5f4 (\uc608: \"70.5 kg\")\n    private func formatWeight(_ weight: Decimal) -> String {\n        let formatter = NumberFormatter()\n        formatter.numberStyle = .decimal\n        formatter.maximumFractionDigits = 1\n        formatter.minimumFractionDigits = 1\n\n        let number = NSDecimalNumber(decimal: weight)\n        return (formatter.string(from: number) ?? \"\\(weight)\") + \" kg\"\n    }\n\n    /// \uccb4\uc911 \ubcc0\ud654\ub7c9 \ud3ec\ub9f7\ud305\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Signed Number Formatting\n    /// - \uc591\uc218\ub294 +, \uc74c\uc218\ub294 - \uae30\ud638 \ud3ec\ud568\n    ///\n    /// - Parameter change: \ubcc0\ud654\ub7c9\n    /// - Returns: \ud3ec\ub9f7\ub41c \ubb38\uc790\uc5f4 (\uc608: \"+1.5 kg\", \"-0.8 kg\")\n    private func formatWeightChange(_ change: Decimal) -> String {\n        let formatter = NumberFormatter()\n        formatter.numberStyle = .decimal\n        formatter.maximumFractionDigits = 1\n        formatter.minimumFractionDigits = 1\n        formatter.positivePrefix = \"+\"\n        formatter.negativePrefix = \"-\"\n\n        let number = NSDecimalNumber(decimal: change)\n        return (formatter.string(from: number) ?? \"\\(change)\") + \" kg\"\n    }\n\n    /// \uccb4\uc9c0\ubc29\ub960 \ud3ec\ub9f7\ud305\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Percentage Formatting\n    /// - \uc18c\uc218\uc810 1\uc790\ub9ac + \"%\" \uae30\ud638\n    ///\n    /// - Parameter bodyFat: \uccb4\uc9c0\ubc29\ub960\n    /// - Returns: \ud3ec\ub9f7\ub41c \ubb38\uc790\uc5f4 (\uc608: \"18.5%\")\n    private func formatBodyFat(_ bodyFat: Decimal) -> String {\n        let formatter = NumberFormatter()\n        formatter.numberStyle = .decimal\n        formatter.maximumFractionDigits = 1\n        formatter.minimumFractionDigits = 1\n\n        let number = NSDecimalNumber(decimal: bodyFat)\n        return (formatter.string(from: number) ?? \"\\(bodyFat)\") + \"%\"\n    }\n\n    /// \uccb4\uc9c0\ubc29\ub960 \ubcc0\ud654\ub7c9 \ud3ec\ub9f7\ud305\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Percentage Change Formatting\n    /// - \uc591\uc218\ub294 +, \uc74c\uc218\ub294 - \uae30\ud638 \ud3ec\ud568\n    ///\n    /// - Parameter change: \ubcc0\ud654\ub7c9\n    /// - Returns: \ud3ec\ub9f7\ub41c \ubb38\uc790\uc5f4 (\uc608: \"+1.5%\", \"-0.8%\")\n    private func formatBodyFatChange(_ change: Decimal) -> String {\n        let formatter = NumberFormatter()\n        formatter.numberStyle = .decimal\n        formatter.maximumFractionDigits = 1\n        formatter.minimumFractionDigits = 1\n        formatter.positivePrefix = \"+\"\n        formatter.negativePrefix = \"-\"\n\n        let number = NSDecimalNumber(decimal: change)\n        return (formatter.string(from: number) ?? \"\\(change)\") + \"%\"\n    }\n}\n\n// MARK: - Preview\n\n#if DEBUG\n#Preview(\"\uae30\ubcf8 \uc0c1\ud0dc\") {\n    // TODO: ViewModel Mock \uad6c\ud604 \ud6c4 Preview \ucd94\uac00\n    // BodyTrendsView(viewModel: .makePreview())\n    Text(\"Preview\ub97c \uc704\ud574 Mock ViewModel\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\")\n}\n\n#Preview(\"\ub370\uc774\ud130 \uc788\uc74c\") {\n    // TODO: ViewModel Mock \uad6c\ud604 \ud6c4 Preview \ucd94\uac00\n    Text(\"Preview\ub97c \uc704\ud574 Mock ViewModel\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\")\n}\n\n#Preview(\"\ube48 \uc0c1\ud0dc\") {\n    // TODO: ViewModel Mock \uad6c\ud604 \ud6c4 Preview \ucd94\uac00\n    Text(\"Preview\ub97c \uc704\ud574 Mock ViewModel\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\")\n}\n\n#Preview(\"\ub2e4\ud06c \ubaa8\ub4dc\") {\n    // TODO: ViewModel Mock \uad6c\ud604 \ud6c4 Preview \ucd94\uac00\n    Text(\"Preview\ub97c \uc704\ud574 Mock ViewModel\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\")\n        .preferredColorScheme(.dark)\n}\n#endif\n\n// MARK: - Documentation\n\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: BodyTrendsView \uc0ac\uc6a9\ubc95\n///\n/// \uae30\ubcf8 \uc0ac\uc6a9 (DIContainer\uc5d0\uc11c \uc0dd\uc131):\n/// ```swift\n/// struct ContentView: View {\n///     let container: DIContainer\n///\n///     var body: some View {\n///         BodyTrendsView(\n///             viewModel: container.makeBodyTrendsViewModel(),\n///             userGender: .male,\n///             goalWeight: Decimal(70.0),\n///             goalBodyFat: Decimal(15.0)\n///         )\n///     }\n/// }\n/// ```\n///\n/// Sheet\ub85c \ud45c\uc2dc (\uad8c\uc7a5):\n/// ```swift\n/// struct BodyCompositionView: View {\n///     @State private var showTrendsView = false\n///\n///     var body: some View {\n///         VStack {\n///             Button(\"\ud2b8\ub80c\ub4dc \ubcf4\uae30\") {\n///                 showTrendsView = true\n///             }\n///         }\n///         .sheet(isPresented: $showTrendsView) {\n///             BodyTrendsView(\n///                 viewModel: trendsViewModel,\n///                 userGender: userProfile.gender,\n///                 goalWeight: userProfile.goalWeight,\n///                 goalBodyFat: userProfile.goalBodyFat\n///             )\n///         }\n///     }\n/// }\n/// ```\n///\n/// NavigationLink\ub85c \ud45c\uc2dc:\n/// ```swift\n/// NavigationLink(\"\ud2b8\ub80c\ub4dc \ubd84\uc11d\") {\n///     BodyTrendsView(\n///         viewModel: trendsViewModel,\n///         userGender: .female\n///     )\n/// }\n/// ```\n///\n/// \uc8fc\uc694 \uae30\ub2a5:\n/// - \uae30\uac04 \uc120\ud0dd (7/30/90\uc77c)\n/// - \uccb4\uc911 \ud2b8\ub80c\ub4dc \ucc28\ud2b8\n/// - \uccb4\uc9c0\ubc29\ub960 \ud2b8\ub80c\ub4dc \ucc28\ud2b8 (\uac74\uac15 \uad6c\uac04 \ud45c\uc2dc)\n/// - \ud1b5\uacc4 \uc694\uc57d (\ud3c9\uade0, \ucd5c\uc18c, \ucd5c\ub300, \ubcc0\ud654\ub7c9)\n/// - \ubaa9\ud45c\uc120 \ud45c\uc2dc\n/// - \uc778\ud130\ub799\ud2f0\ube0c \ucc28\ud2b8 (\ud0ed\ud558\uc5ec \uc0c1\uc138 \uc815\ubcf4)\n/// - Pull-to-refresh \uc0c8\ub85c\uace0\uce68\n/// - \ube48 \uc0c1\ud0dc \ucc98\ub9ac\n/// - \ub85c\ub529 \ubc0f \uc5d0\ub7ec \uc0c1\ud0dc \ud45c\uc2dc\n///\n/// \ud654\uba74 \uad6c\uc131:\n/// 1. \uae30\uac04 \uc120\ud0dd\uae30: TrendPeriodPicker\n/// 2. \ud1b5\uacc4 \uc694\uc57d: \ud3c9\uade0, \ubcc0\ud654\ub7c9 \ub4f1\n/// 3. \uccb4\uc911 \ucc28\ud2b8: WeightTrendChart\n/// 4. \uccb4\uc9c0\ubc29\ub960 \ucc28\ud2b8: BodyFatTrendChart (\uac74\uac15 \uad6c\uac04 \ud3ec\ud568)\n///\n/// \ub124\ube44\uac8c\uc774\uc158:\n/// - NavigationStack \uc0ac\uc6a9\n/// - \ub2eb\uae30 \ubc84\ud2bc\uc73c\ub85c dismiss\n/// - Environment dismiss \uc0ac\uc6a9\n///\n/// \uc0c1\ud0dc \uad00\ub9ac:\n/// - ViewModel\uc758 @Published \ud504\ub85c\ud37c\ud2f0 \uad00\ucc30\n/// - @StateObject\ub85c ViewModel \uc0dd\uba85\uc8fc\uae30 \uad00\ub9ac\n/// - @Environment(\\.dismiss)\ub85c \ud654\uba74 \ub2eb\uae30\n///\n/// \uc5d0\ub7ec \ucc98\ub9ac:\n/// - Alert\ub85c \uc5d0\ub7ec \uba54\uc2dc\uc9c0 \ud45c\uc2dc\n/// - ViewModel\uc5d0\uc11c \uc5d0\ub7ec \uc0c1\ud0dc \uad00\ub9ac\n/// - \uc0ac\uc6a9\uc790 \uce5c\ud654\uc801\uc778 \ud55c\uae00 \uba54\uc2dc\uc9c0\n///\n/// \ud83d\udca1 Android \ube44\uad50:\n/// - Android: Fragment + Multiple Charts + Statistics\n/// - SwiftUI: View + ScrollView + Charts + Statistics\n/// - Android: RecyclerView with different view types\n/// - SwiftUI: VStack with different sections\n/// - Android: SwipeRefreshLayout\n/// - SwiftUI: .refreshable modifier\n///\n/// \uc811\uadfc\uc131:\n/// - VoiceOver \uc9c0\uc6d0\n/// - Dynamic Type \uc9c0\uc6d0\n/// - \ucda9\ubd84\ud55c \ud130\uce58 \uc601\uc5ed\n/// - \uba85\ud655\ud55c \ub808\uc774\ube14\uacfc \ud78c\ud2b8\n///\n/// \uc131\ub2a5 \ucd5c\uc801\ud654:\n/// - ScrollView\ub85c \uc2a4\ud06c\ub864 \uac00\ub2a5\n/// - \ucc28\ud2b8\ub294 \uc120\ud0dd\uc801 \uc0c1\ud638\uc791\uc6a9 (isInteractive)\n/// - ViewModel\uc5d0\uc11c \ub370\uc774\ud130 \uce90\uc2f1\n/// - \uae30\uac04 \ubcc0\uacbd \uc2dc debounce\ub85c \uc911\ubcf5 \ud638\ucd9c \ubc29\uc9c0\n///\n",
        "last_modified": "2026-01-13T19:18:50.337049"
      },
      "task_intent": {
        "title": "Body Composition Tracking with BMR/TDEE",
        "description": "Complete body composition logging system including height, weight, body fat percentage, muscle mass, with automatic BMR (Mifflin-St Jeor) and TDEE calculations. Visualize changes over time with Swift Charts graphs showing trends and goal progress.",
        "from_plan": true
      },
      "commits_behind_main": 1,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-13T07:43:04.714218",
  "last_updated": "2026-01-13T07:46:22.956731"
}