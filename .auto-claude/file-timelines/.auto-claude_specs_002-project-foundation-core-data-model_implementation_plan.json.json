{
  "file_path": ".auto-claude/specs/002-project-foundation-core-data-model/implementation_plan.json",
  "main_branch_history": [],
  "task_views": {
    "002-project-foundation-core-data-model": {
      "task_id": "002-project-foundation-core-data-model",
      "branch_point": {
        "commit_hash": "2abdae73fb6199bcbf4f21f6deeb7952225f81e6",
        "content": "",
        "timestamp": "2026-01-12T08:37:37.044484"
      },
      "worktree_state": {
        "content": "{\n  \"spec_id\": \"002-project-foundation-core-data-model\",\n  \"title\": \"Project Foundation & Core Data Model\",\n  \"feature\": \"Project Foundation & Core Data Model\",\n  \"description\": \"Set up Xcode project with SwiftUI, MVVM architecture, Core Data persistence layer with 9 entities (User, BodyRecord, MetabolismSnapshot, Food, FoodRecord, ExerciseRecord, SleepRecord, DailyLog, Goal), and utility services for date handling and input validation.\",\n  \"status\": \"in_progress\",\n  \"planStatus\": \"in_progress\",\n  \"total_phases\": 5,\n  \"phases\": [\n    {\n      \"phase_id\": 1,\n      \"title\": \"Enum Definitions & Type Safety\",\n      \"description\": \"Create all required enums for Core Data entities to provide type-safe access to coded values\",\n      \"status\": \"pending\",\n      \"subtasks\": [\n        {\n          \"subtask_id\": \"1.1\",\n          \"title\": \"Create Gender Enum\",\n          \"description\": \"Define Gender enum with male/female cases matching Core Data Int16 values (0: male, 1: female)\",\n          \"file_path\": \"Bodii/Shared/Enums/Gender.swift\",\n          \"acceptance_criteria\": [\n            \"Gender enum with rawValue Int16\",\n            \"Cases: male (0), female (1)\",\n            \"Korean localized display names\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"1.2\",\n          \"title\": \"Create ActivityLevel Enum\",\n          \"description\": \"Define ActivityLevel enum with 5 levels and TDEE multipliers (1.2, 1.375, 1.55, 1.725, 1.9)\",\n          \"file_path\": \"Bodii/Shared/Enums/ActivityLevel.swift\",\n          \"acceptance_criteria\": [\n            \"ActivityLevel enum with rawValue Int16\",\n            \"Cases: sedentary (1), light (2), moderate (3), active (4), veryActive (5)\",\n            \"multiplier property returning correct TDEE coefficient\",\n            \"Korean localized display names\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"1.3\",\n          \"title\": \"Create MealType Enum\",\n          \"description\": \"Define MealType enum for food records (breakfast, lunch, dinner, snack)\",\n          \"file_path\": \"Bodii/Shared/Enums/MealType.swift\",\n          \"acceptance_criteria\": [\n            \"MealType enum with rawValue Int16\",\n            \"Cases: breakfast (0), lunch (1), dinner (2), snack (3)\",\n            \"Korean localized display names\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"1.4\",\n          \"title\": \"Create ExerciseType Enum\",\n          \"description\": \"Define ExerciseType enum with 8 exercise types and MET values by intensity\",\n          \"file_path\": \"Bodii/Shared/Enums/ExerciseType.swift\",\n          \"acceptance_criteria\": [\n            \"ExerciseType enum with rawValue Int16\",\n            \"Cases: walking (0), running (1), cycling (2), swimming (3), weight (4), crossfit (5), yoga (6), other (7)\",\n            \"MET values for each exercise type by intensity level\",\n            \"Korean localized display names\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"MET values per ERD: walking 3.5/4.0/5.0, running 7.0/8.0/10.0, etc.\"\n        },\n        {\n          \"subtask_id\": \"1.5\",\n          \"title\": \"Create Intensity Enum\",\n          \"description\": \"Define Intensity enum for exercise intensity levels (low, medium, high)\",\n          \"file_path\": \"Bodii/Shared/Enums/Intensity.swift\",\n          \"acceptance_criteria\": [\n            \"Intensity enum with rawValue Int16\",\n            \"Cases: low (0), medium (1), high (2)\",\n            \"Korean localized display names\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"1.6\",\n          \"title\": \"Create FoodSource Enum\",\n          \"description\": \"Define FoodSource enum for food data sources\",\n          \"file_path\": \"Bodii/Shared/Enums/FoodSource.swift\",\n          \"acceptance_criteria\": [\n            \"FoodSource enum with rawValue Int16\",\n            \"Cases: kfdaAPI (0), usdaAPI (1), userCreated (2)\",\n            \"Korean localized display names\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"1.7\",\n          \"title\": \"Create GoalType Enum\",\n          \"description\": \"Define GoalType enum for user goals\",\n          \"file_path\": \"Bodii/Shared/Enums/GoalType.swift\",\n          \"acceptance_criteria\": [\n            \"GoalType enum with rawValue Int16\",\n            \"Cases: lose (0), maintain (1), gain (2)\",\n            \"Korean localized display names\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"1.8\",\n          \"title\": \"Create SleepStatus Enum\",\n          \"description\": \"Define SleepStatus enum with duration thresholds for status determination\",\n          \"file_path\": \"Bodii/Shared/Enums/SleepStatus.swift\",\n          \"acceptance_criteria\": [\n            \"SleepStatus enum with rawValue Int16\",\n            \"Cases: bad (0), soso (1), good (2), excellent (3), oversleep (4)\",\n            \"Static method to determine status from duration in minutes\",\n            \"Duration thresholds: bad<330, soso 330-389, good 390-449, excellent 450-540, oversleep>540\",\n            \"Korean localized display names and emoji indicators\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"Per ERD: bad\ud83d\udd34, soso\ud83d\udfe1, good\ud83d\udfe2, excellent\ud83d\udd35, oversleep\ud83d\udfe0\"\n        },\n        {\n          \"subtask_id\": \"1.9\",\n          \"title\": \"Create QuantityUnit Enum\",\n          \"description\": \"Define QuantityUnit enum for food quantity units\",\n          \"file_path\": \"Bodii/Shared/Enums/QuantityUnit.swift\",\n          \"acceptance_criteria\": [\n            \"QuantityUnit enum with rawValue Int16\",\n            \"Cases: serving (0), gram (1)\",\n            \"Korean localized display names\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"1.10\",\n          \"title\": \"Create Constants File\",\n          \"description\": \"Define app-wide constants for validation limits and default values\",\n          \"file_path\": \"Bodii/Shared/Utils/Constants.swift\",\n          \"acceptance_criteria\": [\n            \"Validation ranges: height 100-250cm, weight 20-300kg, bodyFat 3-60%, etc.\",\n            \"Sleep boundary hour: 2\",\n            \"Default activity level, serving size defaults\",\n            \"Calculation constants for BMR/TDEE\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        }\n      ]\n    },\n    {\n      \"phase_id\": 2,\n      \"title\": \"Utility Services\",\n      \"description\": \"Create DateUtils for sleep boundary logic and ValidationService for input validation\",\n      \"status\": \"pending\",\n      \"subtasks\": [\n        {\n          \"subtask_id\": \"2.1\",\n          \"title\": \"Create DateUtils\",\n          \"description\": \"Utility for date handling with 02:00 sleep boundary logic\",\n          \"file_path\": \"Bodii/Shared/Utils/DateUtils.swift\",\n          \"acceptance_criteria\": [\n            \"getLogicalDate(for:) returns previous day if hour < 2 (02:00)\",\n            \"isNewDayForSleep(at:) checks if time is past 02:00 boundary\",\n            \"startOfDay(for:) and endOfDay(for:) helpers\",\n            \"Date formatting utilities for Korean locale\",\n            \"Comprehensive documentation with examples\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"CRITICAL: 02:00 boundary means 01:59\u2192prev day, 02:00\u2192current day\"\n        },\n        {\n          \"subtask_id\": \"2.2\",\n          \"title\": \"Create ValidationService\",\n          \"description\": \"Input validation service with all range checks from spec\",\n          \"file_path\": \"Bodii/Shared/Utils/ValidationService.swift\",\n          \"acceptance_criteria\": [\n            \"validateHeight: 100-250cm\",\n            \"validateWeight: 20-300kg\",\n            \"validateBodyFatPercent: 3-60%\",\n            \"validateMuscleMass: 10-60kg\",\n            \"validateAge: birth year 1900 to current year\",\n            \"validateName: 1-20 characters, non-empty\",\n            \"validateExerciseDuration: 1-480 minutes\",\n            \"validateFoodQuantity: 0.1-100 servings or 1-10000 grams\",\n            \"ValidationResult type with isValid, errorMessage properties\",\n            \"Korean error messages\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"All error messages should be user-friendly in Korean\"\n        },\n        {\n          \"subtask_id\": \"2.3\",\n          \"title\": \"Create Date+Extensions\",\n          \"description\": \"Convenience extensions for Date type\",\n          \"file_path\": \"Bodii/Shared/Extensions/Date+Extensions.swift\",\n          \"acceptance_criteria\": [\n            \"startOfDay computed property\",\n            \"endOfDay computed property\",\n            \"age(from birthDate:) static method for calculating age\",\n            \"isSameDay(as:) comparison method\",\n            \"isToday computed property\",\n            \"daysBetween(and:) method\",\n            \"formatted(style:) for Korean date formatting\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"2.4\",\n          \"title\": \"Create Decimal+Extensions\",\n          \"description\": \"Convenience extensions for Decimal type used in Core Data\",\n          \"file_path\": \"Bodii/Shared/Extensions/Decimal+Extensions.swift\",\n          \"acceptance_criteria\": [\n            \"doubleValue computed property\",\n            \"intValue computed property\",\n            \"init(double:) initializer\",\n            \"rounded(scale:) method for decimal places\",\n            \"formatted(decimalPlaces:) for display strings\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"Important for Core Data Decimal \u2194 Swift numeric conversions\"\n        },\n        {\n          \"subtask_id\": \"2.5\",\n          \"title\": \"Create Formatters Utility\",\n          \"description\": \"Centralized formatters for consistent number/date formatting\",\n          \"file_path\": \"Bodii/Shared/Utils/Formatters.swift\",\n          \"acceptance_criteria\": [\n            \"Shared DateFormatter instances for different formats\",\n            \"Shared NumberFormatter for calories, weight, etc.\",\n            \"Korean locale configuration\",\n            \"Static lazy initialization for performance\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"Avoid creating formatters in loops - use shared instances\"\n        }\n      ]\n    },\n    {\n      \"phase_id\": 3,\n      \"title\": \"Domain Entities\",\n      \"description\": \"Create pure Swift domain models that mirror Core Data entities for business logic\",\n      \"status\": \"pending\",\n      \"subtasks\": [\n        {\n          \"subtask_id\": \"3.1\",\n          \"title\": \"Create User Domain Entity\",\n          \"description\": \"Pure Swift struct for User with all properties and computed age\",\n          \"file_path\": \"Bodii/Domain/Entities/User.swift\",\n          \"acceptance_criteria\": [\n            \"User struct with Identifiable, Codable, Equatable\",\n            \"All properties from ERD: id, name, gender, birthDate, height, activityLevel\",\n            \"Current values: currentWeight, currentBodyFatPct, currentMuscleMass, currentBMR, currentTDEE\",\n            \"metabolismUpdatedAt, createdAt, updatedAt\",\n            \"Computed age property from birthDate\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"3.2\",\n          \"title\": \"Create BodyRecord Domain Entity\",\n          \"description\": \"Pure Swift struct for BodyRecord with auto-calculation logic\",\n          \"file_path\": \"Bodii/Domain/Entities/BodyRecord.swift\",\n          \"acceptance_criteria\": [\n            \"BodyRecord struct with Identifiable, Codable, Equatable\",\n            \"Properties: id, userId, date, weight, bodyFatMass, bodyFatPercent, muscleMass, createdAt\",\n            \"Helper methods for bodyFatMass \u2194 bodyFatPercent calculation\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"Per ERD: bodyFatMass = weight \u00d7 (bodyFatPercent/100)\"\n        },\n        {\n          \"subtask_id\": \"3.3\",\n          \"title\": \"Create MetabolismSnapshot Domain Entity\",\n          \"description\": \"Pure Swift struct for MetabolismSnapshot (1:1 with BodyRecord)\",\n          \"file_path\": \"Bodii/Domain/Entities/MetabolismSnapshot.swift\",\n          \"acceptance_criteria\": [\n            \"MetabolismSnapshot struct with Identifiable, Codable, Equatable\",\n            \"Properties: id, userId, bodyRecordId, date, weight, bodyFatPct, bmr, tdee, activityLevel, createdAt\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"Created automatically when BodyRecord is saved\"\n        },\n        {\n          \"subtask_id\": \"3.4\",\n          \"title\": \"Create Food Domain Entity\",\n          \"description\": \"Pure Swift struct for Food master data\",\n          \"file_path\": \"Bodii/Domain/Entities/Food.swift\",\n          \"acceptance_criteria\": [\n            \"Food struct with Identifiable, Codable, Equatable\",\n            \"Nutritional info: calories, carbs, protein, fat, sodium, fiber, sugar\",\n            \"Serving info: servingSize, servingUnit\",\n            \"Source tracking: source, apiCode, createdByUserId\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"3.5\",\n          \"title\": \"Create FoodRecord Domain Entity\",\n          \"description\": \"Pure Swift struct for FoodRecord (meal log entry)\",\n          \"file_path\": \"Bodii/Domain/Entities/FoodRecord.swift\",\n          \"acceptance_criteria\": [\n            \"FoodRecord struct with Identifiable, Codable, Equatable\",\n            \"Properties: id, userId, foodId, date, mealType, quantity, quantityUnit\",\n            \"Calculated values: calculatedCalories, calculatedCarbs, calculatedProtein, calculatedFat\",\n            \"Method to calculate nutrition from Food and quantity\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"3.6\",\n          \"title\": \"Create ExerciseRecord Domain Entity\",\n          \"description\": \"Pure Swift struct for ExerciseRecord with calorie calculation\",\n          \"file_path\": \"Bodii/Domain/Entities/ExerciseRecord.swift\",\n          \"acceptance_criteria\": [\n            \"ExerciseRecord struct with Identifiable, Codable, Equatable\",\n            \"Properties: id, userId, date, exerciseType, duration, intensity, caloriesBurned, note\",\n            \"HealthKit integration: fromHealthKit, healthKitId\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"3.7\",\n          \"title\": \"Create SleepRecord Domain Entity\",\n          \"description\": \"Pure Swift struct for SleepRecord with auto-status calculation\",\n          \"file_path\": \"Bodii/Domain/Entities/SleepRecord.swift\",\n          \"acceptance_criteria\": [\n            \"SleepRecord struct with Identifiable, Codable, Equatable\",\n            \"Properties: id, userId, date, duration, status, createdAt, updatedAt\",\n            \"Date uses 02:00 boundary logic\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"3.8\",\n          \"title\": \"Create DailyLog Domain Entity\",\n          \"description\": \"Pure Swift struct for DailyLog (daily aggregation)\",\n          \"file_path\": \"Bodii/Domain/Entities/DailyLog.swift\",\n          \"acceptance_criteria\": [\n            \"DailyLog struct with Identifiable, Codable, Equatable\",\n            \"Intake section: totalCaloriesIn, totalCarbs, totalProtein, totalFat, macro ratios\",\n            \"Metabolism section: bmr, tdee, netCalories\",\n            \"Exercise section: totalCaloriesOut, exerciseMinutes, exerciseCount, steps\",\n            \"Body section: weight, bodyFatPct\",\n            \"Sleep section: sleepDuration, sleepStatus\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"Central entity for dashboard display\"\n        },\n        {\n          \"subtask_id\": \"3.9\",\n          \"title\": \"Create Goal Domain Entity\",\n          \"description\": \"Pure Swift struct for Goal with target validation\",\n          \"file_path\": \"Bodii/Domain/Entities/Goal.swift\",\n          \"acceptance_criteria\": [\n            \"Goal struct with Identifiable, Codable, Equatable\",\n            \"Targets: targetWeight, targetBodyFatPct, targetMuscleMass\",\n            \"Weekly rates: weeklyWeightRate, weeklyFatPctRate, weeklyMuscleRate\",\n            \"Start values: startWeight, startBodyFatPct, startMuscleMass, startBMR, startTDEE\",\n            \"dailyCalorieTarget, isActive\",\n            \"Validation method for physical consistency\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"Per ERD: \uc81c\uc9c0\ubc29\ub7c9 \u2265 \ubaa9\ud45c\uadfc\uc721\ub7c9 validation\"\n        }\n      ]\n    },\n    {\n      \"phase_id\": 4,\n      \"title\": \"Core Data Entity Extensions\",\n      \"description\": \"Create extensions for Core Data entities to bridge with domain models\",\n      \"status\": \"pending\",\n      \"subtasks\": [\n        {\n          \"subtask_id\": \"4.1\",\n          \"title\": \"Create UserEntity+Extensions\",\n          \"description\": \"Convenience methods for User Core Data entity\",\n          \"file_path\": \"Bodii/Data/DataSources/Local/Entities/UserEntity+Extensions.swift\",\n          \"acceptance_criteria\": [\n            \"toDomain() method converting to User struct\",\n            \"update(from:) method to update from User struct\",\n            \"Convenience initializer with context and domain model\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"4.2\",\n          \"title\": \"Create BodyRecordEntity+Extensions\",\n          \"description\": \"Convenience methods for BodyRecord Core Data entity\",\n          \"file_path\": \"Bodii/Data/DataSources/Local/Entities/BodyRecordEntity+Extensions.swift\",\n          \"acceptance_criteria\": [\n            \"toDomain() method\",\n            \"Auto-calculation of bodyFatMass/Percent on save\",\n            \"Relationship helper for MetabolismSnapshot\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"4.3\",\n          \"title\": \"Create DailyLogEntity+Extensions\",\n          \"description\": \"Convenience methods for DailyLog Core Data entity\",\n          \"file_path\": \"Bodii/Data/DataSources/Local/Entities/DailyLogEntity+Extensions.swift\",\n          \"acceptance_criteria\": [\n            \"toDomain() method\",\n            \"Macro ratio calculation helpers\",\n            \"Update methods for incrementing totals\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"4.4\",\n          \"title\": \"Create Remaining Entity Extensions\",\n          \"description\": \"Extensions for MetabolismSnapshot, Food, FoodRecord, ExerciseRecord, SleepRecord, Goal\",\n          \"file_path\": \"Bodii/Data/DataSources/Local/Entities/\",\n          \"acceptance_criteria\": [\n            \"MetabolismSnapshotEntity+Extensions.swift\",\n            \"FoodEntity+Extensions.swift\",\n            \"FoodRecordEntity+Extensions.swift\",\n            \"ExerciseRecordEntity+Extensions.swift\",\n            \"SleepRecordEntity+Extensions.swift\",\n            \"GoalEntity+Extensions.swift\",\n            \"Each with toDomain() and update(from:) methods\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"Batch create all remaining extensions\"\n        }\n      ]\n    },\n    {\n      \"phase_id\": 5,\n      \"title\": \"Testing & Verification\",\n      \"description\": \"Create unit tests and verify all implementations meet acceptance criteria\",\n      \"status\": \"pending\",\n      \"subtasks\": [\n        {\n          \"subtask_id\": \"5.1\",\n          \"title\": \"Create DateUtils Tests\",\n          \"description\": \"Unit tests for DateUtils sleep boundary logic\",\n          \"file_path\": \"BodiiTests/Utils/DateUtilsTests.swift\",\n          \"acceptance_criteria\": [\n            \"Test 01:59 returns previous day\",\n            \"Test 02:00 returns current day\",\n            \"Test 02:01 returns current day\",\n            \"Test midnight (00:00) returns previous day\",\n            \"Test noon (12:00) returns current day\",\n            \"Test 23:59 returns current day\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"5.2\",\n          \"title\": \"Create ValidationService Tests\",\n          \"description\": \"Unit tests for all validation methods with boundary values\",\n          \"file_path\": \"BodiiTests/Utils/ValidationServiceTests.swift\",\n          \"acceptance_criteria\": [\n            \"Test height: 99cm (fail), 100cm (pass), 250cm (pass), 251cm (fail)\",\n            \"Test weight: 19kg (fail), 20kg (pass), 300kg (pass), 301kg (fail)\",\n            \"Test body fat: 2% (fail), 3% (pass), 60% (pass), 61% (fail)\",\n            \"Test name: empty (fail), 1 char (pass), 20 chars (pass), 21 chars (fail)\",\n            \"Verify Korean error messages\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"5.3\",\n          \"title\": \"Create SleepStatus Tests\",\n          \"description\": \"Unit tests for SleepStatus duration-based determination\",\n          \"file_path\": \"BodiiTests/Enums/SleepStatusTests.swift\",\n          \"acceptance_criteria\": [\n            \"Test 329 minutes \u2192 bad\",\n            \"Test 330 minutes \u2192 soso\",\n            \"Test 389 minutes \u2192 soso\",\n            \"Test 390 minutes \u2192 good\",\n            \"Test 449 minutes \u2192 good\",\n            \"Test 450 minutes \u2192 excellent\",\n            \"Test 540 minutes \u2192 excellent\",\n            \"Test 541 minutes \u2192 oversleep\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        },\n        {\n          \"subtask_id\": \"5.4\",\n          \"title\": \"Verify Build and Core Data Model\",\n          \"description\": \"Ensure project builds and Core Data loads correctly\",\n          \"file_path\": \"\",\n          \"acceptance_criteria\": [\n            \"xcodebuild succeeds without errors\",\n            \"PersistenceController verifyModelLoaded() shows all 9 entities\",\n            \"Preview provider works correctly\",\n            \"No Core Data migration warnings\"\n          ],\n          \"status\": \"pending\",\n          \"notes\": \"\"\n        }\n      ]\n    }\n  ],\n  \"acceptance_criteria\": [\n    {\n      \"id\": \"ac-1\",\n      \"description\": \"Xcode project created with iOS 17+ target and SwiftUI lifecycle\",\n      \"status\": \"complete\",\n      \"notes\": \"Already implemented\"\n    },\n    {\n      \"id\": \"ac-2\",\n      \"description\": \"Core Data model implements all 9 entities from ERD\",\n      \"status\": \"complete\",\n      \"notes\": \"All 9 entities defined in Bodii.xcdatamodeld with correct relationships\"\n    },\n    {\n      \"id\": \"ac-3\",\n      \"description\": \"MVVM folder structure established (Views, ViewModels, Models, Services, Utils)\",\n      \"status\": \"complete\",\n      \"notes\": \"Clean Architecture hybrid: Presentation, Domain, Data, Infrastructure, Shared\"\n    },\n    {\n      \"id\": \"ac-4\",\n      \"description\": \"PersistenceController manages Core Data stack with save/fetch operations\",\n      \"status\": \"complete\",\n      \"notes\": \"Basic implementation with save, newBackgroundContext, performBackgroundTask\"\n    },\n    {\n      \"id\": \"ac-5\",\n      \"description\": \"DateUtils handles 02:00 sleep boundary logic correctly\",\n      \"status\": \"pending\",\n      \"notes\": \"Subtask 2.1\"\n    },\n    {\n      \"id\": \"ac-6\",\n      \"description\": \"ValidationService validates all input ranges (height 100-250cm, weight 20-300kg, etc.)\",\n      \"status\": \"pending\",\n      \"notes\": \"Subtask 2.2\"\n    }\n  ],\n  \"existing_implementation\": {\n    \"xcode_project\": \"DONE - Created with iOS 17+ target and SwiftUI lifecycle\",\n    \"core_data_model\": \"DONE - All 9 entities defined in Bodii.xcdatamodeld with proper relationships\",\n    \"folder_structure\": \"DONE - Clean Architecture: Presentation, Domain, Data, Infrastructure, Shared\",\n    \"persistence_controller\": \"DONE - PersistenceController with save, newBackgroundContext, performBackgroundTask, verifyModelLoaded\"\n  },\n  \"remaining_work\": {\n    \"enums\": \"9 enums + 1 constants file needed\",\n    \"utilities\": \"DateUtils, ValidationService, Extensions, Formatters\",\n    \"domain_entities\": \"9 pure Swift domain entities\",\n    \"entity_extensions\": \"Core Data entity extensions for domain bridging\",\n    \"unit_tests\": \"Tests for DateUtils, ValidationService, SleepStatus\"\n  },\n  \"total_subtasks\": 32,\n  \"estimated_total_minutes\": 720,\n  \"qa_signoff\": {\n    \"status\": \"not_started\",\n    \"issues\": \"\",\n    \"tests_passed\": \"\"\n  },\n  \"created_at\": \"2026-01-11T10:45:25.899Z\",\n  \"updated_at\": \"2026-01-11T23:37:36.313Z\",\n  \"recoveryNote\": \"Task recovered from stuck state at 2026-01-11T23:32:49.649Z\"\n}",
        "last_modified": "2026-01-12T08:37:37.425957"
      },
      "task_intent": {
        "title": "Project Foundation & Core Data Model",
        "description": "Set up Xcode project with SwiftUI, MVVM architecture, Core Data persistence layer with 9 entities (User, BodyRecord, MetabolismSnapshot, Food, FoodRecord, ExerciseRecord, SleepRecord, DailyLog, Goal), and utility services for date handling and input validation.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-11T20:22:15.765302",
  "last_updated": "2026-01-12T08:37:37.079109"
}