{
  "file_path": "Bodii/Domain/Entities/ExerciseRecord.swift",
  "main_branch_history": [],
  "task_views": {
    "002-project-foundation-core-data-model": {
      "task_id": "002-project-foundation-core-data-model",
      "branch_point": {
        "commit_hash": "2abdae73fb6199bcbf4f21f6deeb7952225f81e6",
        "content": "",
        "timestamp": "2026-01-14T13:34:17.674713"
      },
      "worktree_state": {
        "content": "//\n//  ExerciseRecord.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: MET-based Calorie Calculation\n// ExerciseRecord\ub294 MET \uac12(\ub300\uc0ac\ub2f9\ub7c9)\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc6b4\ub3d9 \uce7c\ub85c\ub9ac \uc18c\ubaa8\ub7c9\uc744 \uc790\ub3d9 \uacc4\uc0b0\n// \ud83d\udca1 Java \ube44\uad50: JPA\uc5d0\uc11c @PrePersist\ub85c \uacc4\uc0b0\ud558\ub294 \uac83\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc Swift\ub294 factory method \uc0ac\uc6a9\n\nimport Foundation\n\n// MARK: - ExerciseRecord\n\n/// \uc6b4\ub3d9 \uae30\ub85d \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\n/// - \uc0ac\uc6a9\uc790\uc758 \uc6b4\ub3d9 \ub0b4\uc6a9\uacfc \uce7c\ub85c\ub9ac \uc18c\ubaa8\ub7c9\uc744 \uae30\ub85d\n/// - MET \uac12\uc744 \uae30\ubc18\uc73c\ub85c \uce7c\ub85c\ub9ac \uc18c\ubaa8\ub7c9 \uc790\ub3d9 \uacc4\uc0b0\n/// - HealthKit \uc5f0\ub3d9 \uc9c0\uc6d0 (\uc790\ub3d9 \uae30\ub85d)\n///\n/// ## \uc8fc\uc694 \uae30\ub2a5\n/// - \uc6b4\ub3d9 \uc720\ud615\ubcc4, \uac15\ub3c4\ubcc4 \uce7c\ub85c\ub9ac \uc18c\ubaa8\ub7c9 \uc790\ub3d9 \uacc4\uc0b0\n/// - DailyLog\uc5d0\uc11c \uc77c\uc77c \uc6b4\ub3d9 \ud569\uacc4 \uacc4\uc0b0\uc5d0 \uc0ac\uc6a9\n/// - HealthKit \ub370\uc774\ud130 \uc5f0\ub3d9 \uc9c0\uc6d0\n/// - \uc6b4\ub3d9 \uba54\ubaa8 \uae30\ub2a5 \uc81c\uacf5\n///\n/// ## \uce7c\ub85c\ub9ac \uacc4\uc0b0 \uacf5\uc2dd\n/// ```\n/// MET = ExerciseType\uc758 metValue(for: intensity)\n/// \uc2dc\uac04(hours) = duration(\ubd84) / 60\n/// \uce7c\ub85c\ub9ac \uc18c\ubaa8\ub7c9(kcal) = MET \u00d7 \uccb4\uc911(kg) \u00d7 \uc2dc\uac04(hours)\n/// ```\n///\n/// ## \ub370\uc774\ud130 \uad00\uacc4\n/// - DailyLog (N:1): \uac19\uc740 \ub0a0\uc9dc\uc758 ExerciseRecord\ub4e4\uc774 DailyLog\uc5d0 \uc9d1\uacc4\ub428\n/// - HealthKit: fromHealthKit\uc774 true\uba74 HealthKit\uc5d0\uc11c \uc790\ub3d9 \uae30\ub85d\ub41c \ub370\uc774\ud130\n///\n/// ## \uc0ac\uc6a9 \uc608\uc2dc\n/// ```swift\n/// // 1. \uc218\ub3d9 \uc6b4\ub3d9 \uae30\ub85d (\uc0ac\uc6a9\uc790 \uc785\ub825)\n/// let record = ExerciseRecord.create(\n///     userId: userId,\n///     date: Date(),\n///     exerciseType: .running,\n///     duration: 30,\n///     intensity: .medium,\n///     weight: 70.0,\n///     note: \"\uc544\uce68 \uc870\uae45\"\n/// )\n/// print(record.caloriesBurned) // 280 kcal (\uc790\ub3d9 \uacc4\uc0b0)\n///\n/// // 2. HealthKit \uc5f0\ub3d9 \uae30\ub85d\n/// let healthKitRecord = ExerciseRecord.createFromHealthKit(\n///     userId: userId,\n///     date: Date(),\n///     exerciseType: .walking,\n///     duration: 45,\n///     intensity: .low,\n///     weight: 70.0,\n///     healthKitId: \"HK-12345\"\n/// )\n/// print(healthKitRecord.fromHealthKit) // true\n/// ```\nstruct ExerciseRecord: Identifiable, Codable, Equatable {\n\n    // MARK: - Properties\n\n    // MARK: Identifier\n\n    /// \uc6b4\ub3d9 \uae30\ub85d \uace0\uc720 \uc2dd\ubcc4\uc790\n    /// - UUID \ud0c0\uc785\uc73c\ub85c \uc804\uc5ed \uace0\uc720\uc131 \ubcf4\uc7a5\n    let id: UUID\n\n    /// \uc0ac\uc6a9\uc790 \uace0\uc720 \uc2dd\ubcc4\uc790\n    /// - User \uc5d4\ud2f0\ud2f0\uc640\uc758 \uc678\ub798 \ud0a4 \uad00\uacc4\n    let userId: UUID\n\n    // MARK: Record Data\n\n    /// \uc6b4\ub3d9 \ub0a0\uc9dc\n    /// - 02:00 sleep boundary \ub85c\uc9c1 \uc801\uc6a9 (DateUtils.getLogicalDate)\n    /// - DailyLog \uc9d1\uacc4 \uc2dc \uc774 \ub0a0\uc9dc \uae30\uc900\uc73c\ub85c \uadf8\ub8f9\ud654\n    let date: Date\n\n    /// \uc6b4\ub3d9 \uc720\ud615\n    /// - .walking, .running, .cycling, .swimming, .weight, .crossfit, .yoga, .other\n    /// - \uac01 \uc6b4\ub3d9 \uc720\ud615\ubcc4\ub85c \ub2e4\ub978 MET \uac12 \uc801\uc6a9\n    let exerciseType: ExerciseType\n\n    /// \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    /// - \ud5c8\uc6a9 \ubc94\uc704: 1-480\ubd84 (ValidationService.validateExerciseDuration\uc73c\ub85c \uac80\uc99d)\n    /// - \uce7c\ub85c\ub9ac \uc18c\ubaa8\ub7c9 \uacc4\uc0b0\uc5d0 \uc0ac\uc6a9\n    let duration: Int\n\n    /// \uc6b4\ub3d9 \uac15\ub3c4\n    /// - .low (\ub0ae\uc74c), .medium (\ubcf4\ud1b5), .high (\ub192\uc74c)\n    /// - ExerciseType\uc758 MET \uac12 \uacb0\uc815\uc5d0 \uc0ac\uc6a9\n    let intensity: Intensity\n\n    /// \uc18c\ubaa8 \uce7c\ub85c\ub9ac (kcal)\n    /// - MET \u00d7 \uccb4\uc911 \u00d7 (\uc6b4\ub3d9\uc2dc\uac04/60) \uacf5\uc2dd\uc73c\ub85c \uc790\ub3d9 \uacc4\uc0b0\n    /// - DailyLog\uc758 totalCaloriesOut \uc9d1\uacc4\uc5d0 \uc0ac\uc6a9\n    let caloriesBurned: Int\n\n    /// \uc6b4\ub3d9 \uba54\ubaa8 (\uc120\ud0dd \uc0ac\ud56d)\n    /// - \uc0ac\uc6a9\uc790\uac00 \uc785\ub825\ud55c \uc6b4\ub3d9 \uad00\ub828 \uba54\ubaa8\n    /// - \uc608: \"\uc544\uce68 \uc870\uae45\", \"\uccb4\uc721\uad00 PT \uc138\uc158\"\n    var note: String?\n\n    // MARK: HealthKit Integration\n\n    /// HealthKit \uc5f0\ub3d9 \uc5ec\ubd80\n    /// - true: HealthKit\uc5d0\uc11c \uc790\ub3d9\uc73c\ub85c \uae30\ub85d\ub41c \uc6b4\ub3d9\n    /// - false: \uc0ac\uc6a9\uc790\uac00 \uc218\ub3d9\uc73c\ub85c \uc785\ub825\ud55c \uc6b4\ub3d9\n    let fromHealthKit: Bool\n\n    /// HealthKit \uc6b4\ub3d9 \uace0\uc720 \uc2dd\ubcc4\uc790\n    /// - HealthKit\uc5d0\uc11c \uac00\uc838\uc628 \uc6b4\ub3d9 \ub370\uc774\ud130\uc758 \uc6d0\ubcf8 ID\n    /// - \uc911\ubcf5 \ubc29\uc9c0 \ubc0f \ub3d9\uae30\ud654\uc5d0 \uc0ac\uc6a9\n    let healthKitId: String?\n\n    // MARK: Timestamps\n\n    /// \uc0dd\uc131 \uc2dc\uac01\n    /// - \uc6b4\ub3d9 \uae30\ub85d\uc774 DB\uc5d0 \ucd94\uac00\ub41c \uc2dc\uac01\n    let createdAt: Date\n\n    /// \uc218\uc815 \uc2dc\uac01\n    /// - \uc6b4\ub3d9 \uae30\ub85d\uc774 \ub9c8\uc9c0\ub9c9\uc73c\ub85c \uc218\uc815\ub41c \uc2dc\uac01\n    var updatedAt: Date\n\n    // MARK: - Factory Methods\n\n    /// \uc6b4\ub3d9 \uae30\ub85d \uc0dd\uc131 (\uc218\ub3d9 \uc785\ub825)\n    /// - Parameters:\n    ///   - userId: \uc0ac\uc6a9\uc790 \uace0\uc720 \uc2dd\ubcc4\uc790\n    ///   - date: \uc6b4\ub3d9 \ub0a0\uc9dc\n    ///   - exerciseType: \uc6b4\ub3d9 \uc720\ud615\n    ///   - duration: \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    ///   - intensity: \uc6b4\ub3d9 \uac15\ub3c4\n    ///   - weight: \uc0ac\uc6a9\uc790 \uccb4\uc911 (kg) - \uce7c\ub85c\ub9ac \uacc4\uc0b0\uc5d0 \uc0ac\uc6a9\n    ///   - note: \uc6b4\ub3d9 \uba54\ubaa8 (\uc120\ud0dd \uc0ac\ud56d)\n    /// - Returns: \uce7c\ub85c\ub9ac\uac00 \uc790\ub3d9 \uacc4\uc0b0\ub41c ExerciseRecord\n    ///\n    /// ## \uc0ac\uc6a9 \uc608\uc2dc\n    /// ```swift\n    /// let record = ExerciseRecord.create(\n    ///     userId: userId,\n    ///     date: Date(),\n    ///     exerciseType: .running,\n    ///     duration: 30,\n    ///     intensity: .medium,\n    ///     weight: 70.0,\n    ///     note: \"\uc544\uce68 \uc870\uae45\"\n    /// )\n    /// print(record.caloriesBurned) // 280 kcal (\uc790\ub3d9 \uacc4\uc0b0)\n    /// print(record.fromHealthKit) // false\n    /// ```\n    static func create(\n        userId: UUID,\n        date: Date,\n        exerciseType: ExerciseType,\n        duration: Int,\n        intensity: Intensity,\n        weight: Decimal,\n        note: String? = nil\n    ) -> ExerciseRecord {\n        let caloriesBurned = calculateCaloriesBurned(\n            exerciseType: exerciseType,\n            intensity: intensity,\n            duration: duration,\n            weight: weight\n        )\n\n        let now = Date()\n        return ExerciseRecord(\n            id: UUID(),\n            userId: userId,\n            date: date,\n            exerciseType: exerciseType,\n            duration: duration,\n            intensity: intensity,\n            caloriesBurned: caloriesBurned,\n            note: note,\n            fromHealthKit: false,\n            healthKitId: nil,\n            createdAt: now,\n            updatedAt: now\n        )\n    }\n\n    /// HealthKit \uc5f0\ub3d9 \uc6b4\ub3d9 \uae30\ub85d \uc0dd\uc131\n    /// - Parameters:\n    ///   - userId: \uc0ac\uc6a9\uc790 \uace0\uc720 \uc2dd\ubcc4\uc790\n    ///   - date: \uc6b4\ub3d9 \ub0a0\uc9dc\n    ///   - exerciseType: \uc6b4\ub3d9 \uc720\ud615\n    ///   - duration: \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    ///   - intensity: \uc6b4\ub3d9 \uac15\ub3c4\n    ///   - weight: \uc0ac\uc6a9\uc790 \uccb4\uc911 (kg) - \uce7c\ub85c\ub9ac \uacc4\uc0b0\uc5d0 \uc0ac\uc6a9\n    ///   - healthKitId: HealthKit \uc6b4\ub3d9 \uace0\uc720 \uc2dd\ubcc4\uc790\n    ///   - note: \uc6b4\ub3d9 \uba54\ubaa8 (\uc120\ud0dd \uc0ac\ud56d)\n    /// - Returns: \uce7c\ub85c\ub9ac\uac00 \uc790\ub3d9 \uacc4\uc0b0\ub41c ExerciseRecord (HealthKit \uc5f0\ub3d9)\n    ///\n    /// ## \uc0ac\uc6a9 \uc608\uc2dc\n    /// ```swift\n    /// let record = ExerciseRecord.createFromHealthKit(\n    ///     userId: userId,\n    ///     date: Date(),\n    ///     exerciseType: .walking,\n    ///     duration: 45,\n    ///     intensity: .low,\n    ///     weight: 70.0,\n    ///     healthKitId: \"HK-12345\"\n    /// )\n    /// print(record.fromHealthKit) // true\n    /// print(record.healthKitId) // \"HK-12345\"\n    /// ```\n    static func createFromHealthKit(\n        userId: UUID,\n        date: Date,\n        exerciseType: ExerciseType,\n        duration: Int,\n        intensity: Intensity,\n        weight: Decimal,\n        healthKitId: String,\n        note: String? = nil\n    ) -> ExerciseRecord {\n        let caloriesBurned = calculateCaloriesBurned(\n            exerciseType: exerciseType,\n            intensity: intensity,\n            duration: duration,\n            weight: weight\n        )\n\n        let now = Date()\n        return ExerciseRecord(\n            id: UUID(),\n            userId: userId,\n            date: date,\n            exerciseType: exerciseType,\n            duration: duration,\n            intensity: intensity,\n            caloriesBurned: caloriesBurned,\n            note: note,\n            fromHealthKit: true,\n            healthKitId: healthKitId,\n            createdAt: now,\n            updatedAt: now\n        )\n    }\n\n    // MARK: - Helper Methods\n\n    /// \uce7c\ub85c\ub9ac \uc18c\ubaa8\ub7c9 \uacc4\uc0b0\n    /// - Parameters:\n    ///   - exerciseType: \uc6b4\ub3d9 \uc720\ud615\n    ///   - intensity: \uc6b4\ub3d9 \uac15\ub3c4\n    ///   - duration: \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    ///   - weight: \uccb4\uc911 (kg)\n    /// - Returns: \uacc4\uc0b0\ub41c \uce7c\ub85c\ub9ac \uc18c\ubaa8\ub7c9 (kcal)\n    ///\n    /// ## \uacc4\uc0b0 \uacf5\uc2dd\n    /// ```\n    /// 1. MET \uac12 \uc870\ud68c: exerciseType.metValue(for: intensity.rawValue)\n    /// 2. \uc6b4\ub3d9 \uc2dc\uac04 \ubcc0\ud658: duration(\ubd84) / 60 = hours\n    /// 3. \uce7c\ub85c\ub9ac \uacc4\uc0b0: MET \u00d7 weight(kg) \u00d7 hours\n    /// ```\n    ///\n    /// ## \uc608\uc2dc\n    /// ```swift\n    /// // \uccb4\uc911 70kg, \ub2ec\ub9ac\uae30(\ubcf4\ud1b5 \uac15\ub3c4), 30\ubd84\n    /// let calories = calculateCaloriesBurned(\n    ///     exerciseType: .running,\n    ///     intensity: .medium,\n    ///     duration: 30,\n    ///     weight: 70.0\n    /// )\n    /// // \uacc4\uc0b0:\n    /// // MET = 8.0 (running, medium intensity)\n    /// // hours = 30 / 60 = 0.5\n    /// // calories = 8.0 \u00d7 70 \u00d7 0.5 = 280 kcal\n    /// ```\n    ///\n    /// ## MET (Metabolic Equivalent of Task)\n    /// - \uc6b4\ub3d9\uc758 \uac15\ub3c4\ub97c \ub098\ud0c0\ub0b4\ub294 \ub2e8\uc704\n    /// - 1 MET = \uc548\uc815 \uc2dc \ub300\uc0ac\ub7c9 (\uc57d 1 kcal/kg/hour)\n    /// - \uc608: \uac77\uae30 3.5-5.0 MET, \ub2ec\ub9ac\uae30 7.0-10.0 MET\n    static func calculateCaloriesBurned(\n        exerciseType: ExerciseType,\n        intensity: Intensity,\n        duration: Int,\n        weight: Decimal\n    ) -> Int {\n        // 1. MET \uac12 \uc870\ud68c\n        let met = exerciseType.metValue(for: intensity.rawValue)\n\n        // 2. \uc2dc\uac04 \ub2e8\uc704 \ubcc0\ud658 (\ubd84 \u2192 \uc2dc\uac04)\n        let hours = Double(duration) / 60.0\n\n        // 3. \uce7c\ub85c\ub9ac \uacc4\uc0b0: MET \u00d7 \uccb4\uc911(kg) \u00d7 \uc2dc\uac04(hours)\n        let calories = met * weight.doubleValue * hours\n\n        // 4. \uc815\uc218\ub85c \ubc18\uc62c\ub9bc\n        return Int(calories.rounded())\n    }\n\n    /// \uc6b4\ub3d9 \uc2dc\uac04 \uc5c5\ub370\uc774\ud2b8\n    /// - Parameter newDuration: \uc0c8\ub85c\uc6b4 \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    /// - Parameter weight: \uc0ac\uc6a9\uc790 \uccb4\uc911 (kg) - \uce7c\ub85c\ub9ac \uc7ac\uacc4\uc0b0\uc5d0 \uc0ac\uc6a9\n    /// - Returns: \uce7c\ub85c\ub9ac\uac00 \uc7ac\uacc4\uc0b0\ub41c ExerciseRecord\n    ///\n    /// ## \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624\n    /// \uc0ac\uc6a9\uc790\uac00 \uc6b4\ub3d9 \uc2dc\uac04\uc744 \uc218\uc815\ud560 \ub54c \uce7c\ub85c\ub9ac\ub97c \uc790\ub3d9\uc73c\ub85c \uc7ac\uacc4\uc0b0\n    ///\n    /// ## \uc608\uc2dc\n    /// ```swift\n    /// let original = ExerciseRecord.create(..., duration: 30, ...)\n    /// // original.caloriesBurned = 280 kcal\n    ///\n    /// let updated = original.updatingDuration(45, weight: 70.0)\n    /// // updated.duration = 45\n    /// // updated.caloriesBurned = 420 kcal (\uc7ac\uacc4\uc0b0)\n    /// ```\n    func updatingDuration(_ newDuration: Int, weight: Decimal) -> ExerciseRecord {\n        let newCalories = Self.calculateCaloriesBurned(\n            exerciseType: exerciseType,\n            intensity: intensity,\n            duration: newDuration,\n            weight: weight\n        )\n\n        return ExerciseRecord(\n            id: id,\n            userId: userId,\n            date: date,\n            exerciseType: exerciseType,\n            duration: newDuration,\n            intensity: intensity,\n            caloriesBurned: newCalories,\n            note: note,\n            fromHealthKit: fromHealthKit,\n            healthKitId: healthKitId,\n            createdAt: createdAt,\n            updatedAt: Date()\n        )\n    }\n\n    /// \uc6b4\ub3d9 \uac15\ub3c4 \uc5c5\ub370\uc774\ud2b8\n    /// - Parameter newIntensity: \uc0c8\ub85c\uc6b4 \uc6b4\ub3d9 \uac15\ub3c4\n    /// - Parameter weight: \uc0ac\uc6a9\uc790 \uccb4\uc911 (kg) - \uce7c\ub85c\ub9ac \uc7ac\uacc4\uc0b0\uc5d0 \uc0ac\uc6a9\n    /// - Returns: \uce7c\ub85c\ub9ac\uac00 \uc7ac\uacc4\uc0b0\ub41c ExerciseRecord\n    ///\n    /// ## \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624\n    /// \uc0ac\uc6a9\uc790\uac00 \uc6b4\ub3d9 \uac15\ub3c4\ub97c \uc218\uc815\ud560 \ub54c \uce7c\ub85c\ub9ac\ub97c \uc790\ub3d9\uc73c\ub85c \uc7ac\uacc4\uc0b0\n    ///\n    /// ## \uc608\uc2dc\n    /// ```swift\n    /// let original = ExerciseRecord.create(..., intensity: .medium, ...)\n    /// // original.caloriesBurned = 280 kcal (MET 8.0)\n    ///\n    /// let updated = original.updatingIntensity(.high, weight: 70.0)\n    /// // updated.intensity = .high\n    /// // updated.caloriesBurned = 350 kcal (MET 10.0, \uc7ac\uacc4\uc0b0)\n    /// ```\n    func updatingIntensity(_ newIntensity: Intensity, weight: Decimal) -> ExerciseRecord {\n        let newCalories = Self.calculateCaloriesBurned(\n            exerciseType: exerciseType,\n            intensity: newIntensity,\n            duration: duration,\n            weight: weight\n        )\n\n        return ExerciseRecord(\n            id: id,\n            userId: userId,\n            date: date,\n            exerciseType: exerciseType,\n            duration: duration,\n            intensity: newIntensity,\n            caloriesBurned: newCalories,\n            note: note,\n            fromHealthKit: fromHealthKit,\n            healthKitId: healthKitId,\n            createdAt: createdAt,\n            updatedAt: Date()\n        )\n    }\n\n    /// \uc6b4\ub3d9 \uba54\ubaa8 \uc5c5\ub370\uc774\ud2b8\n    /// - Parameter newNote: \uc0c8\ub85c\uc6b4 \uc6b4\ub3d9 \uba54\ubaa8\n    /// - Returns: \uba54\ubaa8\uac00 \uc5c5\ub370\uc774\ud2b8\ub41c ExerciseRecord\n    ///\n    /// ## \uc608\uc2dc\n    /// ```swift\n    /// let original = ExerciseRecord.create(..., note: \"\uc544\uce68 \uc870\uae45\")\n    /// let updated = original.updatingNote(\"\uc544\uce68 \uc870\uae45 - \ub0a0\uc528 \uc88b\uc74c\")\n    /// ```\n    func updatingNote(_ newNote: String?) -> ExerciseRecord {\n        ExerciseRecord(\n            id: id,\n            userId: userId,\n            date: date,\n            exerciseType: exerciseType,\n            duration: duration,\n            intensity: intensity,\n            caloriesBurned: caloriesBurned,\n            note: newNote,\n            fromHealthKit: fromHealthKit,\n            healthKitId: healthKitId,\n            createdAt: createdAt,\n            updatedAt: Date()\n        )\n    }\n}\n\n// MARK: - ExerciseRecord + CustomStringConvertible\n\nextension ExerciseRecord: CustomStringConvertible {\n    /// \ub514\ubc84\uae45\uc6a9 \ubb38\uc790\uc5f4 \ud45c\ud604\n    var description: String {\n        let noteText = note.map { \" (\\($0))\" } ?? \"\"\n        let healthKitText = fromHealthKit ? \" [HealthKit]\" : \"\"\n\n        return \"\"\"\n        ExerciseRecord(\n          id: \\(id.uuidString.prefix(8))...,\n          userId: \\(userId.uuidString.prefix(8))...,\n          date: \\(date.formatted(style: .short)),\n          exerciseType: \\(exerciseType.displayName),\n          duration: \\(duration)\ubd84,\n          intensity: \\(intensity.displayName),\n          caloriesBurned: \\(caloriesBurned) kcal,\n          note: \\(noteText),\n          fromHealthKit: \\(fromHealthKit)\\(healthKitText),\n          createdAt: \\(createdAt.formatted(style: .dateTime))\n        )\n        \"\"\"\n    }\n}\n",
        "last_modified": "2026-01-14T13:34:18.073198"
      },
      "task_intent": {
        "title": "Project Foundation & Core Data Model",
        "description": "Set up Xcode project with SwiftUI, MVVM architecture, Core Data persistence layer with 9 entities (User, BodyRecord, MetabolismSnapshot, Food, FoodRecord, ExerciseRecord, SleepRecord, DailyLog, Goal), and utility services for date handling and input validation.",
        "from_plan": true
      },
      "commits_behind_main": 3,
      "status": "active",
      "merged_at": null
    },
    "004-project-foundation-core-data-model": {
      "task_id": "004-project-foundation-core-data-model",
      "branch_point": {
        "commit_hash": "2abdae73fb6199bcbf4f21f6deeb7952225f81e6",
        "content": "",
        "timestamp": "2026-01-12T19:14:54.682468"
      },
      "worktree_state": {
        "content": "//\n//  ExerciseRecord.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2024-01-12.\n//\n\nimport Foundation\n\n/// \uc6b4\ub3d9 \uae30\ub85d \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\n///\n/// \uc0ac\uc6a9\uc790\uc758 \uc6b4\ub3d9 \ud65c\ub3d9\uc744 \uae30\ub85d\ud558\uace0 \uc18c\ubaa8 \uce7c\ub85c\ub9ac\ub97c \ucd94\uc801\ud569\ub2c8\ub2e4.\n///\n/// - Note: caloriesBurned\ub294 MET \uae30\ubc18 \uacf5\uc2dd\uc73c\ub85c \uacc4\uc0b0\ub429\ub2c8\ub2e4.\n///         \uc18c\ubaa8 \uce7c\ub85c\ub9ac = MET \u00d7 \uccb4\uc911(kg) \u00d7 \uc2dc\uac04(hour)\n///         \uac15\ub3c4\uc5d0 \ub530\ub77c MET \uac12\uc774 \ubcf4\uc815\ub429\ub2c8\ub2e4 (\uc800\uac15\ub3c4: \u00d70.8, \uc911\uac15\ub3c4: \u00d71.0, \uace0\uac15\ub3c4: \u00d71.2)\n///\n/// - Note: \uc6b4\ub3d9 \uae30\ub85d \uc785\ub825 \uc2dc DailyLog\uc758 totalCaloriesOut, exerciseMinutes, exerciseCount\uac00\n///         \uc790\ub3d9\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub429\ub2c8\ub2e4.\n///\n/// - Example:\n/// ```swift\n/// let exerciseRecord = ExerciseRecord(\n///     id: UUID(),\n///     userId: user.id,\n///     date: Date(),\n///     exerciseType: .running,\n///     duration: 30,\n///     intensity: .high,\n///     caloriesBurned: 350,\n///     createdAt: Date()\n/// )\n/// ```\nstruct ExerciseRecord {\n    // MARK: - Primary Key\n\n    /// \uace0\uc720 \uc2dd\ubcc4\uc790\n    let id: UUID\n\n    // MARK: - Foreign Key\n\n    /// User \ucc38\uc870\n    let userId: UUID\n\n    // MARK: - Exercise Data\n\n    /// \uc6b4\ub3d9\uc77c\n    var date: Date\n\n    /// \uc6b4\ub3d9 \uc885\ub958 (0: \uac77\uae30, 1: \ub7ec\ub2dd, 2: \uc790\uc804\uac70, 3: \uc218\uc601, 4: \uc6e8\uc774\ud2b8, 5: \ud06c\ub85c\uc2a4\ud54f, 6: \uc694\uac00, 7: \uae30\ud0c0)\n    var exerciseType: ExerciseType\n\n    /// \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    var duration: Int32\n\n    /// \uac15\ub3c4 (0: \uc800\uac15\ub3c4, 1: \uc911\uac15\ub3c4, 2: \uace0\uac15\ub3c4)\n    ///\n    /// MET \ubcf4\uc815 \uacc4\uc218:\n    /// - \uc800\uac15\ub3c4: \uae30\ubcf8 MET \u00d7 0.8\n    /// - \uc911\uac15\ub3c4: \uae30\ubcf8 MET \u00d7 1.0\n    /// - \uace0\uac15\ub3c4: \uae30\ubcf8 MET \u00d7 1.2\n    var intensity: Intensity\n\n    /// \uc18c\ubaa8 \uce7c\ub85c\ub9ac (kcal)\n    ///\n    /// MET \uae30\ubc18 \uacf5\uc2dd\uc73c\ub85c \uacc4\uc0b0: MET \u00d7 \uccb4\uc911(kg) \u00d7 \uc2dc\uac04(hour)\n    var caloriesBurned: Int32\n\n    // MARK: - Metadata\n\n    /// \uc0dd\uc131\uc77c\uc2dc\n    let createdAt: Date\n}\n\n// MARK: - Identifiable\n\nextension ExerciseRecord: Identifiable {}\n\n// MARK: - Equatable\n\nextension ExerciseRecord: Equatable {\n    static func == (lhs: ExerciseRecord, rhs: ExerciseRecord) -> Bool {\n        lhs.id == rhs.id\n    }\n}\n\n// MARK: - Hashable\n\nextension ExerciseRecord: Hashable {\n    func hash(into hasher: inout Hasher) {\n        hasher.combine(id)\n    }\n}\n",
        "last_modified": "2026-01-14T22:57:13.074961"
      },
      "task_intent": {
        "title": "004-project-foundation-core-data-model",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-11T21:28:23.973721",
  "last_updated": "2026-01-14T13:34:17.817682"
}