{
  "file_path": "Bodii/Data/Mappers/FoodEntityMapper.swift",
  "main_branch_history": [],
  "task_views": {
    "005-korean-food-database-integration": {
      "task_id": "005-korean-food-database-integration",
      "branch_point": {
        "commit_hash": "c44bfbcd7c1699b176a8bb155e8c35f43ebd4ad9",
        "content": "",
        "timestamp": "2026-01-13T07:46:23.878686"
      },
      "worktree_state": {
        "content": "//\n//  FoodEntityMapper.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-13.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Bidirectional Data Mapper Pattern\n// Domain Entity\uc640 Core Data Entity \uac04\uc758 \uc591\ubc29\ud5a5 \ubcc0\ud658\uc744 \ub2f4\ub2f9\ud558\ub294 \ub9e4\ud37c\n// \ud83d\udca1 Java \ube44\uad50: JPA Entity \u2194 Domain Model \ubcc0\ud658 \ub9e4\ud37c\uc640 \uc720\uc0ac\n\nimport Foundation\nimport CoreData\n\n/// Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\uc640 FoodEntity Core Data \uac1d\uccb4 \uac04\uc758 \uc591\ubc29\ud5a5 \ub9e4\ud37c\n///\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Clean Architecture Layer Separation\n/// - Domain Layer: Food (\ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0, \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1)\n/// - Infrastructure Layer: FoodEntity (Core Data, \uc601\uc18d\uc131)\n/// - \uac01 \ub808\uc774\uc5b4\ub294 \uc790\uc2e0\uc758 \ubaa8\ub378\uc744 \uac00\uc9c0\uba70, \ub9e4\ud37c\uac00 \ubcc0\ud658\uc744 \ub2f4\ub2f9\n/// \ud83d\udca1 Java \ube44\uad50: Domain Model\uacfc JPA Entity\ub97c \ubd84\ub9ac\ud558\ub294 \ud328\ud134\n///\n/// **\ubcc0\ud658 \ubc29\ud5a5:**\n/// - toDomain: FoodEntity (Core Data) \u2192 Food (Domain)\n/// - toEntity: Food (Domain) \u2192 FoodEntity (Core Data)\n///\n/// **\uc0ac\uc6a9 \uc608\uc2dc:**\n/// ```swift\n/// let mapper = FoodEntityMapper()\n///\n/// // Core Data \u2192 Domain \ubcc0\ud658 (\uce90\uc2dc\uc5d0\uc11c \uc77d\uc5b4\uc62c \ub54c)\n/// let cachedFood = try mapper.toDomain(from: foodEntity)\n///\n/// // Domain \u2192 Core Data \ubcc0\ud658 (\uce90\uc2dc\uc5d0 \uc800\uc7a5\ud560 \ub54c)\n/// let entityToCache = try mapper.toEntity(from: food, context: context)\n/// ```\nstruct FoodEntityMapper {\n\n    // MARK: - Core Data to Domain Mapping\n\n    /// FoodEntity Core Data \uac1d\uccb4\ub97c Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\ub85c \ubcc0\ud658\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Infrastructure \u2192 Domain \ubcc0\ud658\n    /// \uc601\uc18d\uc131 \uacc4\uce35\uc758 \ub370\uc774\ud130\ub97c \ub3c4\uba54\uc778 \uacc4\uce35\uc758 \ubaa8\ub378\ub85c \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: JPA Entity \u2192 Domain Model \ubcc0\ud658\n    ///\n    /// - Parameter entity: Core Data FoodEntity \uac1d\uccb4\n    ///\n    /// - Returns: Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\n    ///\n    /// - Throws: `FoodEntityError` - \ud544\uc218 \ud544\ub4dc \ub204\ub77d \ub610\ub294 \ubcc0\ud658 \uc2e4\ud328\n    ///\n    /// - Example:\n    /// ```swift\n    /// let fetchRequest = Food.fetchRecentFoods(limit: 20)\n    /// let foodEntities = try context.fetch(fetchRequest)\n    ///\n    /// let mapper = FoodEntityMapper()\n    /// let foods = try foodEntities.map { try mapper.toDomain(from: $0) }\n    /// ```\n    func toDomain(from entity: Food) throws -> Bodii.Food {\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Delegation to Extension Method\n        // \uc2e4\uc81c \ubcc0\ud658 \ub85c\uc9c1\uc740 FoodEntity+CoreData.swift\uc758 toDomainEntity()\uc5d0 \uc704\uc784\n        // \ub9e4\ud37c\ub294 \uc77c\uad00\ub41c \uc778\ud130\ud398\uc774\uc2a4\ub9cc \uc81c\uacf5\n        // \ud83d\udca1 Java \ube44\uad50: Adapter Pattern - \uae30\uc874 \uba54\uc11c\ub4dc\ub97c \ud45c\uc900 \uc778\ud130\ud398\uc774\uc2a4\ub85c \uac10\uc2f8\uae30\n        return try entity.toDomainEntity()\n    }\n\n    // MARK: - Domain to Core Data Mapping\n\n    /// Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\ub97c FoodEntity Core Data \uac1d\uccb4\ub85c \ubcc0\ud658\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Domain \u2192 Infrastructure \ubcc0\ud658\n    /// \ub3c4\uba54\uc778 \uacc4\uce35\uc758 \ubaa8\ub378\uc744 \uc601\uc18d\uc131 \uacc4\uce35\uc758 \ub370\uc774\ud130\ub85c \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: Domain Model \u2192 JPA Entity \ubcc0\ud658\n    ///\n    /// - Parameters:\n    ///   - domainFood: Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\n    ///   - context: NSManagedObjectContext (Core Data context)\n    ///\n    /// - Returns: \uc0dd\uc131\ub41c FoodEntity Core Data \uac1d\uccb4\n    ///\n    /// - Example:\n    /// ```swift\n    /// let food = Food(id: UUID(), name: \"\uae40\uce58\ucc0c\uac1c\", ...)\n    /// let mapper = FoodEntityMapper()\n    ///\n    /// // \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\ub97c Core Data\ub85c \ubcc0\ud658\ud558\uc5ec \uce90\uc2dc\uc5d0 \uc800\uc7a5\n    /// let entity = try mapper.toEntity(from: food, context: context)\n    /// try context.save()\n    /// ```\n    @discardableResult\n    func toEntity(from domainFood: Bodii.Food, context: NSManagedObjectContext) -> Food {\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Delegation\n        // FoodEntity+CoreData.swift\uc758 from() \ud329\ud1a0\ub9ac \uba54\uc11c\ub4dc\uc5d0 \uc704\uc784\n        // \ud83d\udca1 Java \ube44\uad50: EntityManager.merge()\uc640 \uc720\uc0ac\ud55c \ud329\ud1a0\ub9ac \ud328\ud134\n        return Food.from(domainFood: domainFood, context: context)\n    }\n\n    /// Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\ub85c \uae30\uc874 FoodEntity\ub97c \uc5c5\ub370\uc774\ud2b8\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Update vs Create\n    /// \uc0c8\ub85c \uc0dd\uc131\ud558\uc9c0 \uc54a\uace0 \uae30\uc874 \uc5d4\ud2f0\ud2f0\uc758 \uac12\ub9cc \uc5c5\ub370\uc774\ud2b8\n    /// Core Data\uc758 \ubcc0\uacbd \ucd94\uc801 \uae30\ub2a5\uc744 \ud65c\uc6a9\ud558\uc5ec \ud6a8\uc728\uc801\uc778 \uc5c5\ub370\uc774\ud2b8\n    /// \ud83d\udca1 Java \ube44\uad50: JPA\uc758 merge() \ub610\ub294 setter \ud638\ucd9c\uacfc \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - entity: \uc5c5\ub370\uc774\ud2b8\ud560 FoodEntity Core Data \uac1d\uccb4\n    ///   - domainFood: \uc0c8\ub85c\uc6b4 \uac12\uc744 \uac00\uc9c4 Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\n    ///\n    /// - Example:\n    /// ```swift\n    /// let existingEntity = // ... fetch from Core Data\n    /// let updatedFood = Food(id: existingEntity.id, name: \"Updated Name\", ...)\n    ///\n    /// let mapper = FoodEntityMapper()\n    /// mapper.update(entity: existingEntity, from: updatedFood)\n    /// try context.save()\n    /// ```\n    func update(entity: Food, from domainFood: Bodii.Food) {\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Update Method Delegation\n        // FoodEntity+CoreData.swift\uc758 update() \uba54\uc11c\ub4dc\uc5d0 \uc704\uc784\n        // \ud83d\udca1 Java \ube44\uad50: Entity\uc758 setter \uba54\uc11c\ub4dc \ud638\ucd9c\uacfc \uc720\uc0ac\n        entity.update(from: domainFood)\n    }\n\n    // MARK: - Batch Mapping Operations\n\n    /// \uc5ec\ub7ec FoodEntity Core Data \uac1d\uccb4\ub97c \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0 \ubc30\uc5f4\ub85c \ubcc0\ud658\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Batch Processing with Error Handling\n    /// \ub300\ub7c9 \ub370\uc774\ud130 \ubcc0\ud658 \uc2dc \uc77c\ubd80 \ubcc0\ud658 \uc2e4\ud328\ud574\ub3c4 \uc131\uacf5\ud55c \ud56d\ubaa9\ub4e4\uc740 \ubc18\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: Stream.map().filter() \ud328\ud134\uacfc \uc720\uc0ac\n    ///\n    /// - Parameter entities: FoodEntity Core Data \uac1d\uccb4 \ubc30\uc5f4\n    ///\n    /// - Returns: \uc131\uacf5\uc801\uc73c\ub85c \ubcc0\ud658\ub41c Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0 \ubc30\uc5f4\n    ///\n    /// - Note: \ubcc0\ud658 \uc2e4\ud328\ud55c \ud56d\ubaa9\uc740 \uc790\ub3d9\uc73c\ub85c \uc81c\uc678\ub428 (try? \uc0ac\uc6a9)\n    ///\n    /// - Example:\n    /// ```swift\n    /// let fetchRequest = Food.fetchRecentFoods(limit: 50)\n    /// let foodEntities = try context.fetch(fetchRequest)\n    ///\n    /// let mapper = FoodEntityMapper()\n    /// let foods = mapper.toDomainArray(from: foodEntities)\n    /// // \uc77c\ubd80 \uc5d4\ud2f0\ud2f0\uac00 \uc798\ubabb\ub418\uc5b4\ub3c4 \uc720\ud6a8\ud55c Food\ub9cc \ubc18\ud658\ub428\n    /// ```\n    func toDomainArray(from entities: [Food]) -> [Bodii.Food] {\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: compactMap for Error Handling\n        // try?\uc640 compactMap\uc744 \uc0ac\uc6a9\ud558\uc5ec \ubcc0\ud658 \uc2e4\ud328 \ud56d\ubaa9 \uc790\ub3d9 \uc81c\uac70\n        // \ud83d\udca1 Java \ube44\uad50: stream().map().filter(Objects::nonNull) \ud328\ud134\n        return entities.compactMap { entity in\n            try? toDomain(from: entity)\n        }\n    }\n\n    /// \uc5ec\ub7ec Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\ub97c FoodEntity Core Data \uac1d\uccb4 \ubc30\uc5f4\ub85c \ubcc0\ud658\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Batch Insert Pattern\n    /// \ub300\ub7c9 \ub370\uc774\ud130 \uc800\uc7a5 \uc2dc \uc131\ub2a5 \ucd5c\uc801\ud654\ub97c \uc704\ud55c \uc77c\uad04 \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: JPA\uc758 batch insert\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - domainFoods: Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0 \ubc30\uc5f4\n    ///   - context: NSManagedObjectContext\n    ///\n    /// - Returns: \uc0dd\uc131\ub41c FoodEntity Core Data \uac1d\uccb4 \ubc30\uc5f4\n    ///\n    /// - Example:\n    /// ```swift\n    /// let apiResults: [Food] = // ... API \uac80\uc0c9 \uacb0\uacfc\n    ///\n    /// let mapper = FoodEntityMapper()\n    /// let entities = mapper.toEntityArray(from: apiResults, context: context)\n    /// try context.save() // \uc77c\uad04 \uc800\uc7a5\n    /// ```\n    func toEntityArray(from domainFoods: [Bodii.Food], context: NSManagedObjectContext) -> [Food] {\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Batch Creation with Factory Method\n        // FoodEntity+CoreData.swift\uc758 batchCreate() \uba54\uc11c\ub4dc\uc5d0 \uc704\uc784\n        // \ud83d\udca1 Java \ube44\uad50: EntityManager.persist()\ub97c \ubc18\ubcf5 \ud638\ucd9c\ud558\ub294 \uac83\uacfc \uc720\uc0ac\n        return Food.batchCreate(from: domainFoods, context: context)\n    }\n\n    // MARK: - Upsert Operations\n\n    /// \uc911\ubcf5 \uc81c\uac70 \ud6c4 \uc77c\uad04 \uc800\uc7a5 (Upsert)\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Upsert (Update or Insert) Pattern\n    /// API \ucf54\ub4dc\ub97c \uae30\uc900\uc73c\ub85c \uc911\ubcf5\uc744 \ud655\uc778\ud558\uace0, \uae30\uc874 \ub370\uc774\ud130\ub294 \uc5c5\ub370\uc774\ud2b8, \uc0c8 \ub370\uc774\ud130\ub294 \uc0bd\uc785\n    /// \uce90\uc2dc \uc911\ubcf5\uc744 \ubc29\uc9c0\ud558\uc5ec \ub370\uc774\ud130 \uc77c\uad00\uc131 \uc720\uc9c0\n    /// \ud83d\udca1 Java \ube44\uad50: JPA\uc758 merge() \ub610\ub294 ON DUPLICATE KEY UPDATE\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - domainFoods: Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0 \ubc30\uc5f4\n    ///   - context: NSManagedObjectContext\n    ///\n    /// - Returns: \uc0c8\ub85c \uc0bd\uc785\ub41c \uc74c\uc2dd \uac1c\uc218 (\uc5c5\ub370\uc774\ud2b8\ub41c \uac83\uc740 \uc81c\uc678)\n    ///\n    /// - Throws: Core Data \uc800\uc7a5 \uc2e4\ud328 \uc2dc \uc624\ub958 \ubc1c\uc0dd\n    ///\n    /// - Example:\n    /// ```swift\n    /// let searchResults: [Food] = // ... API \uac80\uc0c9 \uacb0\uacfc (\uc77c\ubd80\ub294 \uc774\ubbf8 \uce90\uc2dc\ub428)\n    ///\n    /// let mapper = FoodEntityMapper()\n    /// let insertedCount = try mapper.saveUnique(from: searchResults, context: context)\n    /// print(\"\uc0c8\ub85c \uc800\uc7a5\ub41c \uc74c\uc2dd: \\(insertedCount)\uac1c\")\n    /// ```\n    func saveUnique(from domainFoods: [Bodii.Food], context: NSManagedObjectContext) throws -> Int {\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Deduplication Strategy\n        // apiCode\ub97c \uae30\uc900\uc73c\ub85c \uc911\ubcf5 \uccb4\ud06c\ud558\uc5ec \uce90\uc2dc \uc911\ubcf5 \ubc29\uc9c0\n        // FoodEntity+CoreData.swift\uc758 saveUnique() \uba54\uc11c\ub4dc\uc5d0 \uc704\uc784\n        // \ud83d\udca1 Java \ube44\uad50: JPA\uc758 findByApiCode() + merge() \ud328\ud134\n        return try Food.saveUnique(from: domainFoods, context: context)\n    }\n}\n\n// MARK: - Convenience Methods\n\nextension FoodEntityMapper {\n\n    /// \ub2e8\uc77c \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\ub97c Core Data\ub85c \uc800\uc7a5 (Upsert)\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Single Item Upsert Convenience\n    /// \ubc30\uc5f4\uc774 \uc544\ub2cc \ub2e8\uc77c \ud56d\ubaa9 \uc800\uc7a5\uc744 \uc704\ud55c \ud3b8\uc758 \uba54\uc11c\ub4dc\n    /// \ud83d\udca1 Java \ube44\uad50: Repository\uc758 save() \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - domainFood: Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\n    ///   - context: NSManagedObjectContext\n    ///\n    /// - Returns: \uc0c8\ub85c \uc0bd\uc785\ub418\uc5c8\uc73c\uba74 true, \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc73c\uba74 false\n    ///\n    /// - Throws: Core Data \uc800\uc7a5 \uc2e4\ud328 \uc2dc \uc624\ub958 \ubc1c\uc0dd\n    ///\n    /// - Example:\n    /// ```swift\n    /// let food = Food(id: UUID(), name: \"\uae40\uce58\ucc0c\uac1c\", ...)\n    /// let mapper = FoodEntityMapper()\n    ///\n    /// let wasInserted = try mapper.saveUnique(domainFood: food, context: context)\n    /// if wasInserted {\n    ///     print(\"\uc0c8\ub85c\uc6b4 \uc74c\uc2dd\uc774 \uce90\uc2dc\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4\")\n    /// } else {\n    ///     print(\"\uae30\uc874 \uc74c\uc2dd\uc774 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4\")\n    /// }\n    /// ```\n    @discardableResult\n    func saveUnique(domainFood: Bodii.Food, context: NSManagedObjectContext) throws -> Bool {\n        let insertedCount = try saveUnique(from: [domainFood], context: context)\n        return insertedCount > 0\n    }\n\n    /// \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\ub97c Core Data\ub85c \uc800\uc7a5\ud558\uace0 context\ub97c \uc790\ub3d9\uc73c\ub85c \uc800\uc7a5\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Auto-save Convenience\n    /// toEntity() + context.save()\ub97c \ud55c \ubc88\uc5d0 \uc218\ud589\ud558\ub294 \ud3b8\uc758 \uba54\uc11c\ub4dc\n    /// \ud83d\udca1 Java \ube44\uad50: @Transactional \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\ud55c \ud6a8\uacfc\n    ///\n    /// - Parameters:\n    ///   - domainFood: Food \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\n    ///   - context: NSManagedObjectContext\n    ///\n    /// - Returns: \uc800\uc7a5\ub41c FoodEntity Core Data \uac1d\uccb4\n    ///\n    /// - Throws: Core Data \uc800\uc7a5 \uc2e4\ud328 \uc2dc \uc624\ub958 \ubc1c\uc0dd\n    ///\n    /// - Example:\n    /// ```swift\n    /// let food = Food(id: UUID(), name: \"\uae40\uce58\ucc0c\uac1c\", ...)\n    /// let mapper = FoodEntityMapper()\n    ///\n    /// // toEntity() + context.save()\ub97c \ud55c \ubc88\uc5d0 \uc218\ud589\n    /// let savedEntity = try mapper.toEntityAndSave(from: food, context: context)\n    /// ```\n    @discardableResult\n    func toEntityAndSave(from domainFood: Bodii.Food, context: NSManagedObjectContext) throws -> Food {\n        let entity = toEntity(from: domainFood, context: context)\n        try context.save()\n        return entity\n    }\n}\n\n// MARK: - Usage Documentation\n\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: FoodEntityMapper \uc0ac\uc6a9 \uac00\uc774\ub4dc\n///\n/// **\uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624:**\n///\n/// 1. **\uce90\uc2dc\uc5d0\uc11c \uc77d\uc5b4\uc624\uae30 (Core Data \u2192 Domain):**\n///    ```swift\n///    let mapper = FoodEntityMapper()\n///    let fetchRequest = Food.fetchRecentFoods(limit: 20)\n///    let foodEntities = try context.fetch(fetchRequest)\n///    let foods = mapper.toDomainArray(from: foodEntities)\n///    ```\n///\n/// 2. **API \uacb0\uacfc\ub97c \uce90\uc2dc\uc5d0 \uc800\uc7a5\ud558\uae30 (Domain \u2192 Core Data):**\n///    ```swift\n///    let apiResults: [Food] = // ... from API\n///    let mapper = FoodEntityMapper()\n///\n///    // \uc911\ubcf5 \uc81c\uac70\ud558\uba70 \uc800\uc7a5 (upsert)\n///    let insertedCount = try mapper.saveUnique(from: apiResults, context: context)\n///    try context.save()\n///    ```\n///\n/// 3. **\ub2e8\uc77c \uc74c\uc2dd \uc800\uc7a5:**\n///    ```swift\n///    let food = Food(id: UUID(), name: \"\uae40\uce58\ucc0c\uac1c\", ...)\n///    let mapper = FoodEntityMapper()\n///\n///    // \uc800\uc7a5 + context.save() \uc790\ub3d9 \uc218\ud589\n///    let entity = try mapper.toEntityAndSave(from: food, context: context)\n///    ```\n///\n/// 4. **\uae30\uc874 \uc5d4\ud2f0\ud2f0 \uc5c5\ub370\uc774\ud2b8:**\n///    ```swift\n///    let existingEntity = // ... fetch from Core Data\n///    let updatedFood = Food(id: existingEntity.id, name: \"New Name\", ...)\n///\n///    let mapper = FoodEntityMapper()\n///    mapper.update(entity: existingEntity, from: updatedFood)\n///    try context.save()\n///    ```\n///\n/// **\uc544\ud0a4\ud14d\ucc98 \uc6d0\uce59:**\n/// - Repository \uacc4\uce35\uc5d0\uc11c\ub9cc \uc774 \ub9e4\ud37c\ub97c \uc0ac\uc6a9\n/// - ViewModel\uc774\ub098 View\uc5d0\uc11c\ub294 \uc9c1\uc811 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc74c\n/// - Domain \uc5d4\ud2f0\ud2f0(Food)\ub9cc \uc0c1\uc704 \uacc4\uce35\uc73c\ub85c \ub178\ucd9c\n/// - Core Data \uc5d4\ud2f0\ud2f0(FoodEntity)\ub294 Data \uacc4\uce35 \ub0b4\ubd80\uc5d0 \uc228\uae40\n///\n/// \ud83d\udca1 Java \ube44\uad50:\n/// - Repository\uc5d0\uc11c JPA Entity\ub97c Domain Model\ub85c \ubcc0\ud658\ud558\ub294 \uac83\uacfc \ub3d9\uc77c\ud55c \ud328\ud134\n/// - Service \uacc4\uce35 \uc774\uc0c1\uc5d0\uc11c\ub294 Domain Model\ub9cc \uc0ac\uc6a9\n",
        "last_modified": "2026-01-14T22:55:39.262261"
      },
      "task_intent": {
        "title": "005-korean-food-database-integration",
        "description": "Integrate Korean Food & Drug Administration (\uc2dd\uc57d\ucc98) food nutrition database API as primary source, with USDA FoodData Central as fallback for international foods. Prioritize Korean dishes (kimchi jjigae, bibimbap, tteokbokki) that are poorly covered by competitors.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-13T07:43:31.888376",
  "last_updated": "2026-01-13T07:46:24.102656"
}