{
  "file_path": "BodiiTests/SleepStatusTests.swift",
  "main_branch_history": [],
  "task_views": {
    "004-project-foundation-core-data-model": {
      "task_id": "004-project-foundation-core-data-model",
      "branch_point": {
        "commit_hash": "2abdae73fb6199bcbf4f21f6deeb7952225f81e6",
        "content": "",
        "timestamp": "2026-01-12T19:14:54.682468"
      },
      "worktree_state": {
        "content": "//\n//  SleepStatusTests.swift\n//  BodiiTests\n//\n//  Created by Auto-Claude on 2026-01-12.\n//\n\nimport XCTest\n@testable import Bodii\n\n/// Unit tests for SleepStatus factory method\n///\n/// SleepStatus \ud329\ud1a0\ub9ac \uba54\uc11c\ub4dc\uc5d0 \ub300\ud55c \ub2e8\uc704 \ud14c\uc2a4\ud2b8\nfinal class SleepStatusTests: XCTestCase {\n\n    // MARK: - Bad Status Tests (<330 minutes)\n\n    /// Test: 0 minutes should return bad status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 0\ubd84\uc740 \ub098\uc068 \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_ZeroMinutes_ReturnsBad() {\n        // Given: 0 minutes of sleep (no sleep)\n        let duration: Int32 = 0\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return bad status\n        XCTAssertEqual(status, .bad, \"0 minutes should return bad status\")\n        XCTAssertEqual(status.displayName, \"\ub098\uc068\", \"Display name should be '\ub098\uc068'\")\n    }\n\n    /// Test: 1 minute should return bad status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 1\ubd84\uc740 \ub098\uc068 \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_OneMinute_ReturnsBad() {\n        // Given: 1 minute of sleep\n        let duration: Int32 = 1\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return bad status\n        XCTAssertEqual(status, .bad, \"1 minute should return bad status\")\n    }\n\n    /// Test: 329 minutes (just below boundary) should return bad status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 329\ubd84(\uacbd\uacc4 \ubc14\ub85c \uc544\ub798)\uc740 \ub098\uc068 \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_329Minutes_ReturnsBad() {\n        // Given: 329 minutes of sleep (5h 29m, just below soso threshold)\n        let duration: Int32 = 329\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return bad status\n        XCTAssertEqual(status, .bad, \"329 minutes should return bad status (just below 330)\")\n    }\n\n    /// Test: Normal bad sleep duration (4 hours = 240 minutes)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc77c\ubc18\uc801\uc778 \ub098\uc068 \uc218\uba74 \uc2dc\uac04 (4\uc2dc\uac04 = 240\ubd84)\n    func testFrom_240Minutes_ReturnsBad() {\n        // Given: 240 minutes of sleep (4 hours)\n        let duration: Int32 = 240\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return bad status\n        XCTAssertEqual(status, .bad, \"240 minutes (4 hours) should return bad status\")\n    }\n\n    // MARK: - Soso Status Tests (330-389 minutes)\n\n    /// Test: 330 minutes (minimum boundary) should return soso status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 330\ubd84(\ucd5c\uc18c \uacbd\uacc4)\uc740 \ubcf4\ud1b5 \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_330Minutes_ReturnsSoso() {\n        // Given: 330 minutes of sleep (5h 30m, minimum soso threshold)\n        let duration: Int32 = 330\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return soso status\n        XCTAssertEqual(status, .soso, \"330 minutes should return soso status (minimum boundary)\")\n        XCTAssertEqual(status.displayName, \"\ubcf4\ud1b5\", \"Display name should be '\ubcf4\ud1b5'\")\n    }\n\n    /// Test: 331 minutes (just above minimum) should return soso status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 331\ubd84(\ucd5c\uc18c \uacbd\uacc4 \ubc14\ub85c \uc704)\uc740 \ubcf4\ud1b5 \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_331Minutes_ReturnsSoso() {\n        // Given: 331 minutes of sleep (5h 31m)\n        let duration: Int32 = 331\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return soso status\n        XCTAssertEqual(status, .soso, \"331 minutes should return soso status\")\n    }\n\n    /// Test: 360 minutes (middle of range) should return soso status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 360\ubd84(\ubc94\uc704 \uc911\uac04)\uc740 \ubcf4\ud1b5 \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_360Minutes_ReturnsSoso() {\n        // Given: 360 minutes of sleep (6 hours, middle of soso range)\n        let duration: Int32 = 360\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return soso status\n        XCTAssertEqual(status, .soso, \"360 minutes (6 hours) should return soso status\")\n    }\n\n    /// Test: 389 minutes (just below maximum) should return soso status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 389\ubd84(\ucd5c\ub300 \uacbd\uacc4 \ubc14\ub85c \uc544\ub798)\uc740 \ubcf4\ud1b5 \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_389Minutes_ReturnsSoso() {\n        // Given: 389 minutes of sleep (6h 29m, just below good threshold)\n        let duration: Int32 = 389\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return soso status\n        XCTAssertEqual(status, .soso, \"389 minutes should return soso status (just below 390)\")\n    }\n\n    // MARK: - Good Status Tests (390-449 minutes)\n\n    /// Test: 390 minutes (minimum boundary) should return good status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 390\ubd84(\ucd5c\uc18c \uacbd\uacc4)\uc740 \uc88b\uc74c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_390Minutes_ReturnsGood() {\n        // Given: 390 minutes of sleep (6h 30m, minimum good threshold)\n        let duration: Int32 = 390\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return good status\n        XCTAssertEqual(status, .good, \"390 minutes should return good status (minimum boundary)\")\n        XCTAssertEqual(status.displayName, \"\uc88b\uc74c\", \"Display name should be '\uc88b\uc74c'\")\n    }\n\n    /// Test: 391 minutes (just above minimum) should return good status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 391\ubd84(\ucd5c\uc18c \uacbd\uacc4 \ubc14\ub85c \uc704)\uc740 \uc88b\uc74c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_391Minutes_ReturnsGood() {\n        // Given: 391 minutes of sleep (6h 31m)\n        let duration: Int32 = 391\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return good status\n        XCTAssertEqual(status, .good, \"391 minutes should return good status\")\n    }\n\n    /// Test: 420 minutes (middle of range) should return good status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 420\ubd84(\ubc94\uc704 \uc911\uac04)\uc740 \uc88b\uc74c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_420Minutes_ReturnsGood() {\n        // Given: 420 minutes of sleep (7 hours, middle of good range)\n        let duration: Int32 = 420\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return good status\n        XCTAssertEqual(status, .good, \"420 minutes (7 hours) should return good status\")\n    }\n\n    /// Test: 449 minutes (just below maximum) should return good status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 449\ubd84(\ucd5c\ub300 \uacbd\uacc4 \ubc14\ub85c \uc544\ub798)\uc740 \uc88b\uc74c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_449Minutes_ReturnsGood() {\n        // Given: 449 minutes of sleep (7h 29m, just below excellent threshold)\n        let duration: Int32 = 449\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return good status\n        XCTAssertEqual(status, .good, \"449 minutes should return good status (just below 450)\")\n    }\n\n    // MARK: - Excellent Status Tests (450-540 minutes)\n\n    /// Test: 450 minutes (minimum boundary) should return excellent status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 450\ubd84(\ucd5c\uc18c \uacbd\uacc4)\uc740 \ub9e4\uc6b0 \uc88b\uc74c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_450Minutes_ReturnsExcellent() {\n        // Given: 450 minutes of sleep (7h 30m, minimum excellent threshold)\n        let duration: Int32 = 450\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return excellent status\n        XCTAssertEqual(status, .excellent, \"450 minutes should return excellent status (minimum boundary)\")\n        XCTAssertEqual(status.displayName, \"\ub9e4\uc6b0 \uc88b\uc74c\", \"Display name should be '\ub9e4\uc6b0 \uc88b\uc74c'\")\n    }\n\n    /// Test: 451 minutes (just above minimum) should return excellent status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 451\ubd84(\ucd5c\uc18c \uacbd\uacc4 \ubc14\ub85c \uc704)\uc740 \ub9e4\uc6b0 \uc88b\uc74c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_451Minutes_ReturnsExcellent() {\n        // Given: 451 minutes of sleep (7h 31m)\n        let duration: Int32 = 451\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return excellent status\n        XCTAssertEqual(status, .excellent, \"451 minutes should return excellent status\")\n    }\n\n    /// Test: 480 minutes (middle of range) should return excellent status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 480\ubd84(\ubc94\uc704 \uc911\uac04)\uc740 \ub9e4\uc6b0 \uc88b\uc74c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_480Minutes_ReturnsExcellent() {\n        // Given: 480 minutes of sleep (8 hours, middle of excellent range)\n        let duration: Int32 = 480\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return excellent status\n        XCTAssertEqual(status, .excellent, \"480 minutes (8 hours) should return excellent status\")\n    }\n\n    /// Test: 540 minutes (maximum boundary) should return excellent status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 540\ubd84(\ucd5c\ub300 \uacbd\uacc4)\uc740 \ub9e4\uc6b0 \uc88b\uc74c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_540Minutes_ReturnsExcellent() {\n        // Given: 540 minutes of sleep (9 hours, maximum excellent threshold)\n        let duration: Int32 = 540\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return excellent status\n        XCTAssertEqual(status, .excellent, \"540 minutes should return excellent status (maximum boundary)\")\n    }\n\n    // MARK: - Oversleep Status Tests (>540 minutes)\n\n    /// Test: 541 minutes (just above maximum) should return oversleep status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 541\ubd84(\ucd5c\ub300 \uacbd\uacc4 \ubc14\ub85c \uc704)\uc740 \uacfc\ub2e4 \uc218\uba74 \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_541Minutes_ReturnsOversleep() {\n        // Given: 541 minutes of sleep (9h 1m, just above excellent threshold)\n        let duration: Int32 = 541\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return oversleep status\n        XCTAssertEqual(status, .oversleep, \"541 minutes should return oversleep status (just above 540)\")\n        XCTAssertEqual(status.displayName, \"\uacfc\ub2e4 \uc218\uba74\", \"Display name should be '\uacfc\ub2e4 \uc218\uba74'\")\n    }\n\n    /// Test: 600 minutes (10 hours) should return oversleep status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 600\ubd84(10\uc2dc\uac04)\uc740 \uacfc\ub2e4 \uc218\uba74 \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_600Minutes_ReturnsOversleep() {\n        // Given: 600 minutes of sleep (10 hours)\n        let duration: Int32 = 600\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return oversleep status\n        XCTAssertEqual(status, .oversleep, \"600 minutes (10 hours) should return oversleep status\")\n    }\n\n    /// Test: 720 minutes (12 hours) should return oversleep status\n    ///\n    /// \ud14c\uc2a4\ud2b8: 720\ubd84(12\uc2dc\uac04)\uc740 \uacfc\ub2e4 \uc218\uba74 \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_720Minutes_ReturnsOversleep() {\n        // Given: 720 minutes of sleep (12 hours)\n        let duration: Int32 = 720\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return oversleep status\n        XCTAssertEqual(status, .oversleep, \"720 minutes (12 hours) should return oversleep status\")\n    }\n\n    /// Test: Very large duration should return oversleep status\n    ///\n    /// \ud14c\uc2a4\ud2b8: \ub9e4\uc6b0 \ud070 \uc2dc\uac04\uc740 \uacfc\ub2e4 \uc218\uba74 \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud568\n    func testFrom_VeryLargeDuration_ReturnsOversleep() {\n        // Given: 1440 minutes of sleep (24 hours, extreme case)\n        let duration: Int32 = 1440\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return oversleep status\n        XCTAssertEqual(status, .oversleep, \"1440 minutes (24 hours) should return oversleep status\")\n    }\n\n    // MARK: - Boundary Verification Tests\n\n    /// Test: All boundary values are correctly handled\n    ///\n    /// \ud14c\uc2a4\ud2b8: \ubaa8\ub4e0 \uacbd\uacc4\uac12\uc774 \uc62c\ubc14\ub974\uac8c \ucc98\ub9ac\ub418\ub294\uc9c0 \ud655\uc778\n    func testFrom_AllBoundaries_CorrectStatuses() {\n        // Given: Array of (duration, expected status) tuples\n        let testCases: [(duration: Int32, expected: SleepStatus, description: String)] = [\n            (0, .bad, \"0\ubd84 (\ubc24\uc0d8)\"),\n            (329, .bad, \"329\ubd84 (bad \ucd5c\ub300)\"),\n            (330, .soso, \"330\ubd84 (soso \ucd5c\uc18c)\"),\n            (389, .soso, \"389\ubd84 (soso \ucd5c\ub300)\"),\n            (390, .good, \"390\ubd84 (good \ucd5c\uc18c)\"),\n            (449, .good, \"449\ubd84 (good \ucd5c\ub300)\"),\n            (450, .excellent, \"450\ubd84 (excellent \ucd5c\uc18c)\"),\n            (540, .excellent, \"540\ubd84 (excellent \ucd5c\ub300)\"),\n            (541, .oversleep, \"541\ubd84 (oversleep \ucd5c\uc18c)\")\n        ]\n\n        // When/Then: Each boundary should return correct status\n        for testCase in testCases {\n            let status = SleepStatus.from(durationMinutes: testCase.duration)\n            XCTAssertEqual(\n                status,\n                testCase.expected,\n                \"\\(testCase.description) should return \\(testCase.expected.displayName)\"\n            )\n        }\n    }\n\n    // MARK: - Real-world Scenario Tests\n\n    /// Test: Common real-world sleep durations return expected statuses\n    ///\n    /// \ud14c\uc2a4\ud2b8: \uc77c\ubc18\uc801\uc778 \uc2e4\uc81c \uc218\uba74 \uc2dc\uac04\uc774 \uc608\uc0c1\ub41c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud558\ub294\uc9c0 \ud655\uc778\n    func testFrom_RealWorldScenarios_CorrectStatuses() {\n        // Given: Common sleep durations\n        let testCases: [(hours: Int, minutes: Int, expected: SleepStatus)] = [\n            (3, 0, .bad),          // 3\uc2dc\uac04 (\uadf9\ub2e8\uc801 \ubd80\uc871)\n            (5, 0, .bad),          // 5\uc2dc\uac04 (\ubd80\uc871)\n            (5, 30, .soso),        // 5\uc2dc\uac04 30\ubd84 (\uacbd\uacc4)\n            (6, 0, .soso),         // 6\uc2dc\uac04 (\ubcf4\ud1b5)\n            (6, 30, .good),        // 6\uc2dc\uac04 30\ubd84 (\uacbd\uacc4)\n            (7, 0, .good),         // 7\uc2dc\uac04 (\uc88b\uc74c)\n            (7, 30, .excellent),   // 7\uc2dc\uac04 30\ubd84 (\uacbd\uacc4)\n            (8, 0, .excellent),    // 8\uc2dc\uac04 (\ub9e4\uc6b0 \uc88b\uc74c)\n            (9, 0, .excellent),    // 9\uc2dc\uac04 (\ub9e4\uc6b0 \uc88b\uc74c)\n            (10, 0, .oversleep),   // 10\uc2dc\uac04 (\uacfc\ub2e4)\n            (12, 0, .oversleep)    // 12\uc2dc\uac04 (\uacfc\ub2e4)\n        ]\n\n        // When/Then: Each duration should return correct status\n        for testCase in testCases {\n            let totalMinutes: Int32 = Int32(testCase.hours * 60 + testCase.minutes)\n            let status = SleepStatus.from(durationMinutes: totalMinutes)\n            XCTAssertEqual(\n                status,\n                testCase.expected,\n                \"\\(testCase.hours)\uc2dc\uac04 \\(testCase.minutes)\ubd84 should return \\(testCase.expected.displayName)\"\n            )\n        }\n    }\n\n    // MARK: - Edge Case from Documentation\n\n    /// Test: Edge case from docs - 0 hours 0 minutes allowed (all-nighter)\n    ///\n    /// \ud14c\uc2a4\ud2b8: \ubb38\uc11c\uc758 \uc5e3\uc9c0 \ucf00\uc774\uc2a4 - 0\uc2dc\uac04 0\ubd84 \ud5c8\uc6a9 (\ubc24\uc0d8)\n    func testFrom_AllNighter_ReturnsBad() {\n        // Given: 0 minutes of sleep (all-nighter scenario from docs)\n        let duration: Int32 = 0\n\n        // When: Creating sleep status\n        let status = SleepStatus.from(durationMinutes: duration)\n\n        // Then: Should return bad status (documented as allowed)\n        XCTAssertEqual(status, .bad, \"All-nighter (0\ubd84) should return bad status\")\n    }\n}\n",
        "last_modified": "2026-01-12T19:28:09.046837"
      },
      "task_intent": {
        "title": "004-project-foundation-core-data-model",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-12T19:14:55.194471",
  "last_updated": "2026-01-12T19:14:55.203875"
}