{
  "file_path": "Bodii/App/DIContainer.swift",
  "main_branch_history": [],
  "task_views": {
    "001-": {
      "task_id": "001-",
      "branch_point": {
        "commit_hash": "bffa4407a91d66f875164727541505e70fc173ed",
        "content": "",
        "timestamp": "2026-01-11T19:11:51.451495"
      },
      "worktree_state": {
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - HealthKitManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - BodyRepository\n    // - FoodRepository\n    // - ExerciseRepository\n    // - SleepRepository\n    // - GoalRepository\n\n    // MARK: - Use Cases\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - CalculateBMRUseCase\n    // - CalculateTDEEUseCase\n    // - RecordBodyUseCase\n    // - SearchFoodUseCase\n    // - etc.\n\n    // MARK: - View Models\n\n    // TODO: Phase 5\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - OnboardingViewModel\n    // - DashboardViewModel\n    // - BodyViewModel\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeBodyViewModel() -> BodyViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "last_modified": "2026-01-11T19:36:37.966654"
      },
      "task_intent": {
        "title": "001-",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    },
    "003-body-composition-tracking-with-bmr-tdee": {
      "task_id": "003-body-composition-tracking-with-bmr-tdee",
      "branch_point": {
        "commit_hash": "2abdae73fb6199bcbf4f21f6deeb7952225f81e6",
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - HealthKitManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - BodyRepository\n    // - FoodRepository\n    // - ExerciseRepository\n    // - SleepRepository\n    // - GoalRepository\n\n    // MARK: - Use Cases\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - CalculateBMRUseCase\n    // - CalculateTDEEUseCase\n    // - RecordBodyUseCase\n    // - SearchFoodUseCase\n    // - etc.\n\n    // MARK: - View Models\n\n    // TODO: Phase 5\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - OnboardingViewModel\n    // - DashboardViewModel\n    // - BodyViewModel\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeBodyViewModel() -> BodyViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "timestamp": "2026-01-13T07:46:22.394743"
      },
      "worktree_state": {
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    /// Body composition \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var bodyLocalDataSource: BodyLocalDataSource = {\n        return BodyLocalDataSource(persistenceController: .shared)\n    }()\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - HealthKitManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    /// Body composition \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// bodyLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var bodyRepository: BodyRepositoryProtocol = {\n        return BodyRepository(localDataSource: bodyLocalDataSource)\n    }()\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - FoodRepository\n    // - ExerciseRepository\n    // - SleepRepository\n    // - GoalRepository\n\n    // MARK: - Use Cases\n\n    /// BMR \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateBMRUseCase = CalculateBMRUseCase()\n\n    /// TDEE \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateTDEEUseCase = CalculateTDEEUseCase()\n\n    /// Body composition \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with Dependencies\n    /// \uc5ec\ub7ec Use Case\uc640 Repository\ub97c \uc870\ud569\ud558\uc5ec \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with @Autowired dependencies\n    lazy var recordBodyCompositionUseCase: RecordBodyCompositionUseCase = {\n        return RecordBodyCompositionUseCase(\n            calculateBMRUseCase: calculateBMRUseCase,\n            calculateTDEEUseCase: calculateTDEEUseCase,\n            bodyRepository: bodyRepository\n        )\n    }()\n\n    /// Body trends \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \ub370\uc774\ud130 \uc870\ud68c \ubc0f \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchBodyTrendsUseCase: FetchBodyTrendsUseCase = {\n        return FetchBodyTrendsUseCase(bodyRepository: bodyRepository)\n    }()\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - SearchFoodUseCase\n    // - LogExerciseUseCase\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // MARK: - Body Composition ViewModels\n\n    /// BodyCompositionViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - ViewModel \uc0dd\uc131 \ub85c\uc9c1\uc744 \uc911\uc559\ud654\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc mock \uc8fc\uc785\uc774 \uc26c\uc6cc\uc9d0\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userProfile: \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 (BMR/TDEE \uacc4\uc0b0\uc5d0 \ud544\uc694)\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyCompositionViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyCompositionViewModel(userProfile: UserProfile) -> BodyCompositionViewModel {\n        return BodyCompositionViewModel(\n            recordBodyCompositionUseCase: recordBodyCompositionUseCase,\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository,\n            userProfile: userProfile\n        )\n    }\n\n    /// BodyTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyTrendsViewModel() -> BodyTrendsViewModel {\n        return BodyTrendsViewModel(\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository\n        )\n    }\n\n    /// MetabolismViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ub300\uc2dc\ubcf4\ub4dc\uc6a9 BMR/TDEE \ud45c\uc2dc ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 MetabolismViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeMetabolismViewModel() -> MetabolismViewModel {\n        return MetabolismViewModel(bodyRepository: bodyRepository)\n    }\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeFoodLogViewModel() -> FoodLogViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "last_modified": "2026-01-14T22:58:13.146936"
      },
      "task_intent": {
        "title": "Body Composition Tracking with BMR/TDEE",
        "description": "Complete body composition logging system including height, weight, body fat percentage, muscle mass, with automatic BMR (Mifflin-St Jeor) and TDEE calculations. Visualize changes over time with Swift Charts graphs showing trends and goal progress.",
        "from_plan": true
      },
      "commits_behind_main": 1,
      "status": "active",
      "merged_at": null
    },
    "005-korean-food-database-integration": {
      "task_id": "005-korean-food-database-integration",
      "branch_point": {
        "commit_hash": "c44bfbcd7c1699b176a8bb155e8c35f43ebd4ad9",
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - HealthKitManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - BodyRepository\n    // - FoodRepository\n    // - ExerciseRepository\n    // - SleepRepository\n    // - GoalRepository\n\n    // MARK: - Use Cases\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - CalculateBMRUseCase\n    // - CalculateTDEEUseCase\n    // - RecordBodyUseCase\n    // - SearchFoodUseCase\n    // - etc.\n\n    // MARK: - View Models\n\n    // TODO: Phase 5\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - OnboardingViewModel\n    // - DashboardViewModel\n    // - BodyViewModel\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeBodyViewModel() -> BodyViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "timestamp": "2026-01-13T07:46:23.878686"
      },
      "worktree_state": {
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    /// \ub124\ud2b8\uc6cc\ud06c \ub9e4\ub2c8\uc800 (\uc2f1\uae00\ud1a4)\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Dependency\n    /// \ubaa8\ub4e0 \ub124\ud2b8\uc6cc\ud06c \uc694\uccad\uc5d0 \uacf5\uc720\ub418\ub294 \ub9e4\ub2c8\uc800\n    /// \ud83d\udca1 Java \ube44\uad50: OkHttpClient\ub97c \uc2f1\uae00\ud1a4\uc73c\ub85c \uad00\ub9ac\ud558\ub294 \ud328\ud134\n    lazy var networkManager: NetworkManager = {\n        NetworkManager()\n    }()\n\n    // MARK: - Data Sources\n\n    /// \uc2dd\uc57d\ucc98 API \uc11c\ube44\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: API Service\n    /// \ud55c\uad6d \uc2dd\ud488 \uc601\uc591 \ub370\uc774\ud130\ubca0\uc774\uc2a4 API \ud638\ucd9c \uc11c\ube44\uc2a4\n    /// \ud83d\udca1 Java \ube44\uad50: Retrofit Service \uc778\uc2a4\ud134\uc2a4\n    lazy var kfdaFoodAPIService: KFDAFoodAPIService = {\n        KFDAFoodAPIService(networkManager: self.networkManager)\n    }()\n\n    /// USDA API \uc11c\ube44\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: API Service\n    /// \ubbf8\uad6d \ub18d\ubb34\ubd80 \uc2dd\ud488 \ub370\uc774\ud130\ubca0\uc774\uc2a4 API \ud638\ucd9c \uc11c\ube44\uc2a4\n    /// \ud83d\udca1 Java \ube44\uad50: Retrofit Service \uc778\uc2a4\ud134\uc2a4\n    lazy var usdaFoodAPIService: USDAFoodAPIService = {\n        USDAFoodAPIService(networkManager: self.networkManager)\n    }()\n\n    /// \ud1b5\ud569 \uc2dd\ud488 \uac80\uc0c9 \uc11c\ube44\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Unified Service\n    /// \uc5ec\ub7ec API\ub97c \ud1b5\ud569\ud558\uc5ec \ucd5c\uc801\uc758 \uac80\uc0c9 \uacb0\uacfc \uc81c\uacf5\n    /// \ud55c\uad6d \uc74c\uc2dd\uc740 \uc2dd\uc57d\ucc98 \uc6b0\uc120, \uc678\uad6d \uc74c\uc2dd\uc740 USDA \uc6b0\uc120\n    /// \ud83d\udca1 Java \ube44\uad50: Facade Pattern\uc758 \uad6c\ud604\uccb4\n    lazy var unifiedFoodSearchService: UnifiedFoodSearchService = {\n        UnifiedFoodSearchService(\n            kfdaService: self.kfdaFoodAPIService,\n            usdaService: self.usdaFoodAPIService\n        )\n    }()\n\n    /// \uc2dd\ud488 \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Local Data Source\n    /// Core Data\ub97c \uc0ac\uc6a9\ud55c \uc2dd\ud488 \uce90\uc2f1 \ubc0f \uc624\ud504\ub77c\uc778 \uc9c0\uc6d0\n    /// \ud83d\udca1 Java \ube44\uad50: Room Database\uc758 DAO\uc640 \uc720\uc0ac\n    lazy var foodLocalDataSource: FoodLocalDataSource = {\n        FoodLocalDataSourceImpl()\n    }()\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - HealthKitManager\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    /// \uc2dd\ud488 \uac80\uc0c9 \uc800\uc7a5\uc18c\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Repository Pattern\n    /// \ub2e4\uc911 \ub370\uc774\ud130 \uc18c\uc2a4(API + \ub85c\uceec)\ub97c \ucd94\uc0c1\ud654\ud55c \ub2e8\uc77c \uc778\ud130\ud398\uc774\uc2a4\n    /// \ud83d\udca1 Java \ube44\uad50: Spring Data Repository\n    lazy var foodSearchRepository: FoodSearchRepository = {\n        FoodSearchRepositoryImpl(\n            searchService: self.unifiedFoodSearchService,\n            localDataSource: self.foodLocalDataSource\n        )\n    }()\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - BodyRepository\n    // - ExerciseRepository\n    // - SleepRepository\n    // - GoalRepository\n\n    // MARK: - Use Cases\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - CalculateBMRUseCase\n    // - CalculateTDEEUseCase\n    // - RecordBodyUseCase\n    // - SearchFoodUseCase\n    // - etc.\n\n    // MARK: - View Models\n\n    // TODO: Phase 5\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - OnboardingViewModel\n    // - DashboardViewModel\n    // - BodyViewModel\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n    // \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n\n    // MARK: - Food Search\n\n    /// FoodSearchViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: ViewModel Factory\n    /// ViewModel \uc0dd\uc131 \uc2dc \ud544\uc694\ud55c \ubaa8\ub4e0 \uc758\uc874\uc131\uc744 \uc8fc\uc785\n    /// \ud83d\udca1 Java \ube44\uad50: ViewModelProvider.Factory\n    ///\n    /// - Returns: FoodSearchViewModel \uc778\uc2a4\ud134\uc2a4\n    /// - Note: Phase 9\uc5d0\uc11c FoodSearchViewModel \uad6c\ud604 \uc2dc \ud65c\uc131\ud654\n    // func makeFoodSearchViewModel() -> FoodSearchViewModel {\n    //     FoodSearchViewModel(repository: foodSearchRepository)\n    // }\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeBodyViewModel() -> BodyViewModel\n    // func makeFoodRecordViewModel() -> FoodRecordViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "last_modified": "2026-01-14T22:55:39.256496"
      },
      "task_intent": {
        "title": "005-korean-food-database-integration",
        "description": "Integrate Korean Food & Drug Administration (\uc2dd\uc57d\ucc98) food nutrition database API as primary source, with USDA FoodData Central as fallback for international foods. Prioritize Korean dishes (kimchi jjigae, bibimbap, tteokbokki) that are poorly covered by competitors.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    },
    "008-exercise-tracking-with-met-calculations": {
      "task_id": "008-exercise-tracking-with-met-calculations",
      "branch_point": {
        "commit_hash": "4e56d606f7b0d4cb74120dd392544f3fe2d4f5b4",
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    /// Body composition \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var bodyLocalDataSource: BodyLocalDataSource = {\n        return BodyLocalDataSource(persistenceController: .shared)\n    }()\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - HealthKitManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    /// Body composition \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// bodyLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var bodyRepository: BodyRepositoryProtocol = {\n        return BodyRepository(localDataSource: bodyLocalDataSource)\n    }()\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - FoodRepository\n    // - ExerciseRepository\n    // - SleepRepository\n    // - GoalRepository\n\n    // MARK: - Use Cases\n\n    /// BMR \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateBMRUseCase = CalculateBMRUseCase()\n\n    /// TDEE \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateTDEEUseCase = CalculateTDEEUseCase()\n\n    /// Body composition \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with Dependencies\n    /// \uc5ec\ub7ec Use Case\uc640 Repository\ub97c \uc870\ud569\ud558\uc5ec \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with @Autowired dependencies\n    lazy var recordBodyCompositionUseCase: RecordBodyCompositionUseCase = {\n        return RecordBodyCompositionUseCase(\n            calculateBMRUseCase: calculateBMRUseCase,\n            calculateTDEEUseCase: calculateTDEEUseCase,\n            bodyRepository: bodyRepository\n        )\n    }()\n\n    /// Body trends \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \ub370\uc774\ud130 \uc870\ud68c \ubc0f \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchBodyTrendsUseCase: FetchBodyTrendsUseCase = {\n        return FetchBodyTrendsUseCase(bodyRepository: bodyRepository)\n    }()\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - SearchFoodUseCase\n    // - LogExerciseUseCase\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // MARK: - Body Composition ViewModels\n\n    /// BodyCompositionViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - ViewModel \uc0dd\uc131 \ub85c\uc9c1\uc744 \uc911\uc559\ud654\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc mock \uc8fc\uc785\uc774 \uc26c\uc6cc\uc9d0\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userProfile: \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 (BMR/TDEE \uacc4\uc0b0\uc5d0 \ud544\uc694)\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyCompositionViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyCompositionViewModel(userProfile: UserProfile) -> BodyCompositionViewModel {\n        return BodyCompositionViewModel(\n            recordBodyCompositionUseCase: recordBodyCompositionUseCase,\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository,\n            userProfile: userProfile\n        )\n    }\n\n    /// BodyTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyTrendsViewModel() -> BodyTrendsViewModel {\n        return BodyTrendsViewModel(\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository\n        )\n    }\n\n    /// MetabolismViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ub300\uc2dc\ubcf4\ub4dc\uc6a9 BMR/TDEE \ud45c\uc2dc ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 MetabolismViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeMetabolismViewModel() -> MetabolismViewModel {\n        return MetabolismViewModel(bodyRepository: bodyRepository)\n    }\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeFoodLogViewModel() -> FoodLogViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "timestamp": "2026-01-14T11:45:41.765455"
      },
      "worktree_state": {
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    /// \uc6b4\ub3d9 \uae30\ub85d \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    /// \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\uba70, \uc774\ud6c4\uc5d0\ub294 \uce90\uc2dc\ub41c \uc778\uc2a4\ud134\uc2a4 \ubc18\ud658\n    lazy var exerciseRecordLocalDataSource: ExerciseRecordLocalDataSource = {\n        ExerciseRecordLocalDataSource(context: PersistenceController.shared.viewContext)\n    }()\n\n    /// \uc77c\uc77c \uae30\ub85d \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    lazy var dailyLogLocalDataSource: DailyLogLocalDataSource = {\n        DailyLogLocalDataSource(context: PersistenceController.shared.viewContext)\n    }()\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - HealthKitManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    /// \uc6b4\ub3d9 \uae30\ub85d \uc800\uc7a5\uc18c\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Protocol\uc744 \ud0c0\uc785\uc73c\ub85c \uc0ac\uc6a9\n    /// \ud14c\uc2a4\ud2b8 \uc2dc Mock\uc73c\ub85c \uad50\uccb4 \uac00\ub2a5\ud558\ub3c4\ub85d \ud504\ub85c\ud1a0\ucf5c \ud0c0\uc785 \uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: Interface \ud0c0\uc785\uc73c\ub85c \ud544\ub4dc \uc120\uc5b8\ud558\ub294 \uac83\uacfc \ub3d9\uc77c\n    lazy var exerciseRecordRepository: ExerciseRecordRepository = {\n        ExerciseRecordRepositoryImpl(localDataSource: exerciseRecordLocalDataSource)\n    }()\n\n    /// \uc77c\uc77c \uae30\ub85d \uc800\uc7a5\uc18c\n    lazy var dailyLogRepository: DailyLogRepository = {\n        DailyLogRepositoryImpl(localDataSource: dailyLogLocalDataSource)\n    }()\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - BodyRepository\n    // - FoodRepository\n    // - SleepRepository\n    // - GoalRepository\n\n    // MARK: - Services\n\n    /// \uc77c\uc77c \uae30\ub85d \uad00\ub9ac \uc11c\ube44\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Service Layer\n    /// Repository\ub97c \uc870\ud569\ud558\uc5ec \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \ucc98\ub9ac\n    lazy var dailyLogService: DailyLogService = {\n        DailyLogService(repository: dailyLogRepository)\n    }()\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: ExerciseCalcService\ub294 enum\uc774\ubbc0\ub85c \ub4f1\ub85d \ubd88\ud544\uc694\n    // static \uba54\uc11c\ub4dc\ub9cc \uc788\uc5b4\uc11c \uc778\uc2a4\ud134\uc2a4\ud654\ud560 \ud544\uc694 \uc5c6\uc74c\n    // \ud83d\udca1 Java \ube44\uad50: Utility \ud074\ub798\uc2a4\uc758 static \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n\n    // MARK: - Use Cases\n\n    /// \uc6b4\ub3d9 \uae30\ub85d \ucd94\uac00 \uc720\uc2a4\ucf00\uc774\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Use Case Pattern\n    /// \ub2e8\uc77c \ucc45\uc784 \uc6d0\uce59 - \ud558\ub098\uc758 Use Case\ub294 \ud558\ub098\uc758 \ube44\uc988\ub2c8\uc2a4 \uc561\uc158\ub9cc \ub2f4\ub2f9\n    lazy var addExerciseRecordUseCase: AddExerciseRecordUseCase = {\n        AddExerciseRecordUseCase(\n            exerciseRepository: exerciseRecordRepository,\n            dailyLogService: dailyLogService\n        )\n    }()\n\n    /// \uc6b4\ub3d9 \uae30\ub85d \uc218\uc815 \uc720\uc2a4\ucf00\uc774\uc2a4\n    lazy var updateExerciseRecordUseCase: UpdateExerciseRecordUseCase = {\n        UpdateExerciseRecordUseCase(\n            exerciseRepository: exerciseRecordRepository,\n            dailyLogService: dailyLogService\n        )\n    }()\n\n    /// \uc6b4\ub3d9 \uae30\ub85d \uc0ad\uc81c \uc720\uc2a4\ucf00\uc774\uc2a4\n    lazy var deleteExerciseRecordUseCase: DeleteExerciseRecordUseCase = {\n        DeleteExerciseRecordUseCase(\n            exerciseRepository: exerciseRecordRepository,\n            dailyLogService: dailyLogService\n        )\n    }()\n\n    /// \uc6b4\ub3d9 \uae30\ub85d \uc870\ud68c \uc720\uc2a4\ucf00\uc774\uc2a4\n    lazy var getExerciseRecordsUseCase: GetExerciseRecordsUseCase = {\n        GetExerciseRecordsUseCase(exerciseRepository: exerciseRecordRepository)\n    }()\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - CalculateBMRUseCase\n    // - CalculateTDEEUseCase\n    // - RecordBodyUseCase\n    // - SearchFoodUseCase\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // MARK: - Exercise ViewModels\n\n    /// \uc6b4\ub3d9 \ubaa9\ub85d ViewModel \uc0dd\uc131\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// ViewModel \uc0dd\uc131 \uc2dc \ud544\uc694\ud55c \ubaa8\ub4e0 \uc758\uc874\uc131\uc744 \uc8fc\uc785\n    /// \ud14c\uc2a4\ud2b8 \uc2dc \uc774 \uba54\uc11c\ub4dc\ub9cc \uc624\ubc84\ub77c\uc774\ub4dc\ud558\uba74 Mock ViewModel \uc81c\uacf5 \uac00\ub2a5\n    ///\n    /// - Parameter userId: \uc0ac\uc6a9\uc790 ID\n    /// - Returns: \uc758\uc874\uc131\uc774 \uc8fc\uc785\ub41c ExerciseListViewModel\n    ///\n    /// - Example:\n    /// ```swift\n    /// let viewModel = DIContainer.shared.makeExerciseListViewModel(userId: user.id)\n    /// ExerciseListView(viewModel: viewModel)\n    /// ```\n    func makeExerciseListViewModel(userId: UUID) -> ExerciseListViewModel {\n        ExerciseListViewModel(\n            getExerciseRecordsUseCase: getExerciseRecordsUseCase,\n            deleteExerciseRecordUseCase: deleteExerciseRecordUseCase,\n            dailyLogRepository: dailyLogRepository,\n            userId: userId\n        )\n    }\n\n    /// \uc6b4\ub3d9 \uc785\ub825 ViewModel \uc0dd\uc131\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: \uc678\ubd80 \ud30c\ub77c\ubbf8\ud130\uac00 \ub9ce\uc740 Factory Method\n    /// ViewModel\uc774 \uc0ac\uc6a9\uc790\ubcc4 \ub370\uc774\ud130(\uccb4\uc911, BMR, TDEE)\ub97c \ud544\uc694\ub85c \ud560 \ub54c\n    /// Factory Method\ub85c \uae54\ub054\ud558\uac8c \uc8fc\uc785\n    ///\n    /// - Parameters:\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    ///   - userWeight: \uc0ac\uc6a9\uc790 \uccb4\uc911 (kg) - \uce7c\ub85c\ub9ac \uacc4\uc0b0\uc5d0 \ud544\uc694\n    ///   - userBMR: \uc0ac\uc6a9\uc790 \uae30\ucd08\ub300\uc0ac\ub7c9 (kcal)\n    ///   - userTDEE: \uc0ac\uc6a9\uc790 \ud65c\ub3d9\ub300\uc0ac\ub7c9 (kcal)\n    ///   - editingExercise: \ud3b8\uc9d1\ud560 \uc6b4\ub3d9 \uae30\ub85d (\ud3b8\uc9d1 \ubaa8\ub4dc\uc77c \ub54c\ub9cc \uc81c\uacf5)\n    /// - Returns: \uc758\uc874\uc131\uc774 \uc8fc\uc785\ub41c ExerciseInputViewModel\n    ///\n    /// - Example:\n    /// ```swift\n    /// // \ucd94\uac00 \ubaa8\ub4dc\n    /// let viewModel = DIContainer.shared.makeExerciseInputViewModel(\n    ///     userId: user.id,\n    ///     userWeight: user.currentWeight ?? 70.0,\n    ///     userBMR: user.currentBMR ?? 1650,\n    ///     userTDEE: user.currentTDEE ?? 2310\n    /// )\n    ///\n    /// // \ud3b8\uc9d1 \ubaa8\ub4dc\n    /// let viewModel = DIContainer.shared.makeExerciseInputViewModel(\n    ///     userId: user.id,\n    ///     userWeight: 70.0,\n    ///     userBMR: 1650,\n    ///     userTDEE: 2310,\n    ///     editingExercise: exercise\n    /// )\n    /// ```\n    func makeExerciseInputViewModel(\n        userId: UUID,\n        userWeight: Decimal,\n        userBMR: Int32,\n        userTDEE: Int32,\n        editingExercise: ExerciseRecord? = nil\n    ) -> ExerciseInputViewModel {\n        ExerciseInputViewModel(\n            addExerciseRecordUseCase: addExerciseRecordUseCase,\n            updateExerciseRecordUseCase: editingExercise != nil ? updateExerciseRecordUseCase : nil,\n            userId: userId,\n            userWeight: userWeight,\n            userBMR: userBMR,\n            userTDEE: userTDEE,\n            editingExercise: editingExercise\n        )\n    }\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeBodyViewModel() -> BodyViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "last_modified": "2026-01-14T22:54:09.699430"
      },
      "task_intent": {
        "title": "008-exercise-tracking-with-met-calculations",
        "description": "Exercise logging with activity type selection, duration input, and automatic calorie burn calculation using MET (Metabolic Equivalent of Task) values. Track both cardio and strength training with appropriate calculations.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    },
    "009-sleep-tracking-with-5-status-system": {
      "task_id": "009-sleep-tracking-with-5-status-system",
      "branch_point": {
        "commit_hash": "4e56d606f7b0d4cb74120dd392544f3fe2d4f5b4",
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    /// Body composition \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var bodyLocalDataSource: BodyLocalDataSource = {\n        return BodyLocalDataSource(persistenceController: .shared)\n    }()\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - HealthKitManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    /// Body composition \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// bodyLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var bodyRepository: BodyRepositoryProtocol = {\n        return BodyRepository(localDataSource: bodyLocalDataSource)\n    }()\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - FoodRepository\n    // - ExerciseRepository\n    // - SleepRepository\n    // - GoalRepository\n\n    // MARK: - Use Cases\n\n    /// BMR \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateBMRUseCase = CalculateBMRUseCase()\n\n    /// TDEE \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateTDEEUseCase = CalculateTDEEUseCase()\n\n    /// Body composition \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with Dependencies\n    /// \uc5ec\ub7ec Use Case\uc640 Repository\ub97c \uc870\ud569\ud558\uc5ec \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with @Autowired dependencies\n    lazy var recordBodyCompositionUseCase: RecordBodyCompositionUseCase = {\n        return RecordBodyCompositionUseCase(\n            calculateBMRUseCase: calculateBMRUseCase,\n            calculateTDEEUseCase: calculateTDEEUseCase,\n            bodyRepository: bodyRepository\n        )\n    }()\n\n    /// Body trends \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \ub370\uc774\ud130 \uc870\ud68c \ubc0f \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchBodyTrendsUseCase: FetchBodyTrendsUseCase = {\n        return FetchBodyTrendsUseCase(bodyRepository: bodyRepository)\n    }()\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - SearchFoodUseCase\n    // - LogExerciseUseCase\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // MARK: - Body Composition ViewModels\n\n    /// BodyCompositionViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - ViewModel \uc0dd\uc131 \ub85c\uc9c1\uc744 \uc911\uc559\ud654\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc mock \uc8fc\uc785\uc774 \uc26c\uc6cc\uc9d0\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userProfile: \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 (BMR/TDEE \uacc4\uc0b0\uc5d0 \ud544\uc694)\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyCompositionViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyCompositionViewModel(userProfile: UserProfile) -> BodyCompositionViewModel {\n        return BodyCompositionViewModel(\n            recordBodyCompositionUseCase: recordBodyCompositionUseCase,\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository,\n            userProfile: userProfile\n        )\n    }\n\n    /// BodyTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyTrendsViewModel() -> BodyTrendsViewModel {\n        return BodyTrendsViewModel(\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository\n        )\n    }\n\n    /// MetabolismViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ub300\uc2dc\ubcf4\ub4dc\uc6a9 BMR/TDEE \ud45c\uc2dc ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 MetabolismViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeMetabolismViewModel() -> MetabolismViewModel {\n        return MetabolismViewModel(bodyRepository: bodyRepository)\n    }\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeFoodLogViewModel() -> FoodLogViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "timestamp": "2026-01-14T21:03:40.462795"
      },
      "worktree_state": {
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    /// Body composition \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var bodyLocalDataSource: BodyLocalDataSource = {\n        return BodyLocalDataSource(persistenceController: .shared)\n    }()\n\n    /// Sleep tracking \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var sleepLocalDataSource: SleepLocalDataSource = {\n        return SleepLocalDataSource(persistenceController: .shared)\n    }()\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - HealthKitManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    /// Body composition \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// bodyLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var bodyRepository: BodyRepositoryProtocol = {\n        return BodyRepository(localDataSource: bodyLocalDataSource)\n    }()\n\n    /// Sleep tracking \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// sleepLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var sleepRepository: SleepRepositoryProtocol = {\n        return SleepRepository(localDataSource: sleepLocalDataSource)\n    }()\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - FoodRepository\n    // - ExerciseRepository\n    // - GoalRepository\n\n    // MARK: - Use Cases\n\n    /// BMR \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateBMRUseCase = CalculateBMRUseCase()\n\n    /// TDEE \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateTDEEUseCase = CalculateTDEEUseCase()\n\n    /// Body composition \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with Dependencies\n    /// \uc5ec\ub7ec Use Case\uc640 Repository\ub97c \uc870\ud569\ud558\uc5ec \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with @Autowired dependencies\n    lazy var recordBodyCompositionUseCase: RecordBodyCompositionUseCase = {\n        return RecordBodyCompositionUseCase(\n            calculateBMRUseCase: calculateBMRUseCase,\n            calculateTDEEUseCase: calculateTDEEUseCase,\n            bodyRepository: bodyRepository\n        )\n    }()\n\n    /// Body trends \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \ub370\uc774\ud130 \uc870\ud68c \ubc0f \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchBodyTrendsUseCase: FetchBodyTrendsUseCase = {\n        return FetchBodyTrendsUseCase(bodyRepository: bodyRepository)\n    }()\n\n    /// Sleep \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Domain Use Case with Auto Status Calculation\n    /// \uc218\uba74 \uc2dc\uac04\uc744 \uc785\ub825\ubc1b\uc544 \uc0c1\ud0dc\ub97c \uc790\ub3d9 \uacc4\uc0b0\ud558\uace0 \uc800\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with business logic\n    lazy var recordSleepUseCase: RecordSleepUseCase = {\n        return RecordSleepUseCase(sleepRepository: sleepRepository)\n    }()\n\n    /// Sleep \ud788\uc2a4\ud1a0\ub9ac \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ub9ac\uc2a4\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \uc218\uba74 \uae30\ub85d \uc870\ud68c \ubc0f \ud1b5\uacc4 \uacc4\uc0b0\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchSleepHistoryUseCase: FetchSleepHistoryUseCase = {\n        return FetchSleepHistoryUseCase(sleepRepository: sleepRepository)\n    }()\n\n    /// Sleep \ud1b5\uacc4 \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Statistics Use Case\n    /// \ucc28\ud2b8 \ubc0f \ub300\uc2dc\ubcf4\ub4dc \ud45c\uc2dc\ub97c \uc704\ud55c \uc218\uba74 \ud1b5\uacc4 \uacc4\uc0b0\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with analytics logic\n    lazy var fetchSleepStatsUseCase: FetchSleepStatsUseCase = {\n        return FetchSleepStatsUseCase(sleepRepository: sleepRepository)\n    }()\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - SearchFoodUseCase\n    // - LogExerciseUseCase\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // MARK: - Body Composition ViewModels\n\n    /// BodyCompositionViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - ViewModel \uc0dd\uc131 \ub85c\uc9c1\uc744 \uc911\uc559\ud654\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc mock \uc8fc\uc785\uc774 \uc26c\uc6cc\uc9d0\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userProfile: \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 (BMR/TDEE \uacc4\uc0b0\uc5d0 \ud544\uc694)\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyCompositionViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyCompositionViewModel(userProfile: UserProfile) -> BodyCompositionViewModel {\n        return BodyCompositionViewModel(\n            recordBodyCompositionUseCase: recordBodyCompositionUseCase,\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository,\n            userProfile: userProfile\n        )\n    }\n\n    /// BodyTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyTrendsViewModel() -> BodyTrendsViewModel {\n        return BodyTrendsViewModel(\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository\n        )\n    }\n\n    /// MetabolismViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ub300\uc2dc\ubcf4\ub4dc\uc6a9 BMR/TDEE \ud45c\uc2dc ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 MetabolismViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeMetabolismViewModel() -> MetabolismViewModel {\n        return MetabolismViewModel(bodyRepository: bodyRepository)\n    }\n\n    // MARK: - Sleep ViewModels\n\n    /// SleepInputViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \uc218\uba74 \uc785\ub825\uc744 \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \uae30\ubcf8 \uc218\uba74 \uc2dc\uac04 \uc124\uc815 \uac00\ub2a5\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    ///   - defaultHours: \uae30\ubcf8 \uc218\uba74 \uc2dc\uac04 (\uc2dc\uac04, \uae30\ubcf8\uac12: 7)\n    ///   - defaultMinutes: \uae30\ubcf8 \uc218\uba74 \uc2dc\uac04 (\ubd84, \uae30\ubcf8\uac12: 0)\n    /// - Returns: \uc0c8\ub85c\uc6b4 SleepInputViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeSleepInputViewModel(\n        userId: UUID,\n        defaultHours: Int = 7,\n        defaultMinutes: Int = 0\n    ) -> SleepInputViewModel {\n        return SleepInputViewModel(\n            recordSleepUseCase: recordSleepUseCase,\n            userId: userId,\n            defaultHours: defaultHours,\n            defaultMinutes: defaultMinutes\n        )\n    }\n\n    /// SleepHistoryViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \uc218\uba74 \ud788\uc2a4\ud1a0\ub9ac \ub9ac\uc2a4\ud2b8\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \uae30\ubcf8 \uc870\ud68c \ubaa8\ub4dc \uc124\uc815 \uac00\ub2a5 (\ucd5c\uadfc 30\uc77c)\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameter defaultMode: \uae30\ubcf8 \uc870\ud68c \ubaa8\ub4dc (\uae30\ubcf8\uac12: \ucd5c\uadfc 30\uc77c)\n    /// - Returns: \uc0c8\ub85c\uc6b4 SleepHistoryViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeSleepHistoryViewModel(\n        defaultMode: FetchSleepHistoryUseCase.QueryMode = .recent(days: 30)\n    ) -> SleepHistoryViewModel {\n        return SleepHistoryViewModel(\n            fetchSleepHistoryUseCase: fetchSleepHistoryUseCase,\n            sleepRepository: sleepRepository,\n            defaultMode: defaultMode\n        )\n    }\n\n    /// SleepTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \uc218\uba74 \ud2b8\ub80c\ub4dc \ucc28\ud2b8\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\uc6a9 \ud1b5\uacc4 \ub370\uc774\ud130 \uc81c\uacf5\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 SleepTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeSleepTrendsViewModel() -> SleepTrendsViewModel {\n        return SleepTrendsViewModel(\n            fetchSleepStatsUseCase: fetchSleepStatsUseCase,\n            sleepRepository: sleepRepository\n        )\n    }\n\n    // MARK: - Managers\n\n    /// SleepPromptManager \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Manager Factory Method\n    /// - \uc544\uce68 \uc218\uba74 \uae30\ub85d \ud504\ub86c\ud504\ud2b8 \uad00\ub9ac\uc790 \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - UserDefaults\ub294 \uae30\ubcf8\uac12(.standard) \uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 SleepPromptManager \uc778\uc2a4\ud134\uc2a4\n    func makeSleepPromptManager() -> SleepPromptManager {\n        return SleepPromptManager(\n            sleepRepository: sleepRepository,\n            userDefaults: .standard\n        )\n    }\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeFoodLogViewModel() -> FoodLogViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "last_modified": "2026-01-18T17:07:01.335165"
      },
      "task_intent": {
        "title": "009-sleep-tracking-with-5-status-system",
        "description": "Sleep logging with 5-status tracking (bad, soso, good, excellent, oversleep), duration input, wake time prompts, and correlation with other health metrics. Automatic morning prompt to log previous night's sleep.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    },
    "010-unified-daily-dashboard": {
      "task_id": "010-unified-daily-dashboard",
      "branch_point": {
        "commit_hash": "258ac79ef8a0421a402798007601756ccc05aeaa",
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    /// Body composition \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var bodyLocalDataSource: BodyLocalDataSource = {\n        return BodyLocalDataSource(persistenceController: .shared)\n    }()\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - HealthKitManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    /// Body composition \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// bodyLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var bodyRepository: BodyRepositoryProtocol = {\n        return BodyRepository(localDataSource: bodyLocalDataSource)\n    }()\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - FoodRepository\n    // - ExerciseRepository\n    // - SleepRepository\n    // - GoalRepository\n\n    // MARK: - Use Cases\n\n    /// BMR \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateBMRUseCase = CalculateBMRUseCase()\n\n    /// TDEE \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateTDEEUseCase = CalculateTDEEUseCase()\n\n    /// Body composition \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with Dependencies\n    /// \uc5ec\ub7ec Use Case\uc640 Repository\ub97c \uc870\ud569\ud558\uc5ec \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with @Autowired dependencies\n    lazy var recordBodyCompositionUseCase: RecordBodyCompositionUseCase = {\n        return RecordBodyCompositionUseCase(\n            calculateBMRUseCase: calculateBMRUseCase,\n            calculateTDEEUseCase: calculateTDEEUseCase,\n            bodyRepository: bodyRepository\n        )\n    }()\n\n    /// Body trends \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \ub370\uc774\ud130 \uc870\ud68c \ubc0f \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchBodyTrendsUseCase: FetchBodyTrendsUseCase = {\n        return FetchBodyTrendsUseCase(bodyRepository: bodyRepository)\n    }()\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - SearchFoodUseCase\n    // - LogExerciseUseCase\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // MARK: - Body Composition ViewModels\n\n    /// BodyCompositionViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - ViewModel \uc0dd\uc131 \ub85c\uc9c1\uc744 \uc911\uc559\ud654\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc mock \uc8fc\uc785\uc774 \uc26c\uc6cc\uc9d0\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userProfile: \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 (BMR/TDEE \uacc4\uc0b0\uc5d0 \ud544\uc694)\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyCompositionViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyCompositionViewModel(userProfile: UserProfile) -> BodyCompositionViewModel {\n        return BodyCompositionViewModel(\n            recordBodyCompositionUseCase: recordBodyCompositionUseCase,\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository,\n            userProfile: userProfile\n        )\n    }\n\n    /// BodyTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyTrendsViewModel() -> BodyTrendsViewModel {\n        return BodyTrendsViewModel(\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository\n        )\n    }\n\n    /// MetabolismViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ub300\uc2dc\ubcf4\ub4dc\uc6a9 BMR/TDEE \ud45c\uc2dc ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 MetabolismViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeMetabolismViewModel() -> MetabolismViewModel {\n        return MetabolismViewModel(bodyRepository: bodyRepository)\n    }\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeFoodLogViewModel() -> FoodLogViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "timestamp": "2026-01-16T13:58:36.256742"
      },
      "worktree_state": {
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    /// Body composition \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var bodyLocalDataSource: BodyLocalDataSource = {\n        return BodyLocalDataSource(persistenceController: .shared)\n    }()\n\n    /// DailyLog \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Core Data Context Injection\n    /// PersistenceController.shared.viewContext\ub97c \uc8fc\uc785\ud558\uc5ec Core Data \uc791\uc5c5 \uc218\ud589\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired DAO\uc640 \uc720\uc0ac\n    lazy var dailyLogLocalDataSource: DailyLogLocalDataSource = {\n        return DailyLogLocalDataSource(context: PersistenceController.shared.viewContext)\n    }()\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - HealthKitManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    /// Body composition \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// bodyLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var bodyRepository: BodyRepositoryProtocol = {\n        return BodyRepository(localDataSource: bodyLocalDataSource)\n    }()\n\n    /// DailyLog \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Repository Pattern\n    /// dailyLogLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc77c\uc77c \uc9d1\uacc4 \ub370\uc774\ud130 \uad00\ub9ac\n    /// DashboardViewModel\uc5d0\uc11c \uc0ac\uc6a9\ud558\uc5ec \uc0ac\uc804 \uacc4\uc0b0\ub41c \uac12 \uc870\ud68c\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var dailyLogRepository: DailyLogRepository = {\n        return DailyLogRepositoryImpl(localDataSource: dailyLogLocalDataSource)\n    }()\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - FoodRepository\n    // - ExerciseRepository\n    // - SleepRepository\n    // - GoalRepository\n\n    // MARK: - Use Cases\n\n    /// BMR \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateBMRUseCase = CalculateBMRUseCase()\n\n    /// TDEE \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateTDEEUseCase = CalculateTDEEUseCase()\n\n    /// Body composition \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with Dependencies\n    /// \uc5ec\ub7ec Use Case\uc640 Repository\ub97c \uc870\ud569\ud558\uc5ec \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with @Autowired dependencies\n    lazy var recordBodyCompositionUseCase: RecordBodyCompositionUseCase = {\n        return RecordBodyCompositionUseCase(\n            calculateBMRUseCase: calculateBMRUseCase,\n            calculateTDEEUseCase: calculateTDEEUseCase,\n            bodyRepository: bodyRepository\n        )\n    }()\n\n    /// Body trends \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \ub370\uc774\ud130 \uc870\ud68c \ubc0f \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchBodyTrendsUseCase: FetchBodyTrendsUseCase = {\n        return FetchBodyTrendsUseCase(bodyRepository: bodyRepository)\n    }()\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - SearchFoodUseCase\n    // - LogExerciseUseCase\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // MARK: - Body Composition ViewModels\n\n    /// BodyCompositionViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - ViewModel \uc0dd\uc131 \ub85c\uc9c1\uc744 \uc911\uc559\ud654\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc mock \uc8fc\uc785\uc774 \uc26c\uc6cc\uc9d0\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userProfile: \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 (BMR/TDEE \uacc4\uc0b0\uc5d0 \ud544\uc694)\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyCompositionViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyCompositionViewModel(userProfile: UserProfile) -> BodyCompositionViewModel {\n        return BodyCompositionViewModel(\n            recordBodyCompositionUseCase: recordBodyCompositionUseCase,\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository,\n            userProfile: userProfile\n        )\n    }\n\n    /// BodyTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyTrendsViewModel() -> BodyTrendsViewModel {\n        return BodyTrendsViewModel(\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository\n        )\n    }\n\n    /// MetabolismViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ub300\uc2dc\ubcf4\ub4dc\uc6a9 BMR/TDEE \ud45c\uc2dc ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 MetabolismViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeMetabolismViewModel() -> MetabolismViewModel {\n        return MetabolismViewModel(bodyRepository: bodyRepository)\n    }\n\n    // MARK: - Dashboard ViewModels\n\n    /// DashboardViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \uc77c\uc77c \ub300\uc2dc\ubcf4\ub4dc ViewModel \uc0dd\uc131\n    /// - DailyLogRepository \uc758\uc874\uc131 \uc8fc\uc785\n    /// - \uc0ac\uc6a9\uc790\ubcc4 \uc77c\uc77c \uc9d1\uacc4 \ub370\uc774\ud130 \uc870\ud68c\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameter userId: \uc0ac\uc6a9\uc790 ID\n    /// - Returns: \uc0c8\ub85c\uc6b4 DashboardViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeDashboardViewModel(userId: UUID) -> DashboardViewModel {\n        return DashboardViewModel(\n            dailyLogRepository: dailyLogRepository,\n            userId: userId\n        )\n    }\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeFoodLogViewModel() -> FoodLogViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "last_modified": "2026-01-18T17:08:27.027290"
      },
      "task_intent": {
        "title": "010-unified-daily-dashboard",
        "description": "Central dashboard showing all daily health metrics: calorie balance (intake vs. TDEE), macro breakdown, exercise summary, sleep quality, and body composition status. Pre-calculated values from DailyLog for fast loading (<0.5s).",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    },
    "011-apple-healthkit-integration": {
      "task_id": "011-apple-healthkit-integration",
      "branch_point": {
        "commit_hash": "258ac79ef8a0421a402798007601756ccc05aeaa",
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    /// Body composition \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var bodyLocalDataSource: BodyLocalDataSource = {\n        return BodyLocalDataSource(persistenceController: .shared)\n    }()\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - HealthKitManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    /// Body composition \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// bodyLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var bodyRepository: BodyRepositoryProtocol = {\n        return BodyRepository(localDataSource: bodyLocalDataSource)\n    }()\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - FoodRepository\n    // - ExerciseRepository\n    // - SleepRepository\n    // - GoalRepository\n\n    // MARK: - Use Cases\n\n    /// BMR \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateBMRUseCase = CalculateBMRUseCase()\n\n    /// TDEE \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateTDEEUseCase = CalculateTDEEUseCase()\n\n    /// Body composition \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with Dependencies\n    /// \uc5ec\ub7ec Use Case\uc640 Repository\ub97c \uc870\ud569\ud558\uc5ec \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with @Autowired dependencies\n    lazy var recordBodyCompositionUseCase: RecordBodyCompositionUseCase = {\n        return RecordBodyCompositionUseCase(\n            calculateBMRUseCase: calculateBMRUseCase,\n            calculateTDEEUseCase: calculateTDEEUseCase,\n            bodyRepository: bodyRepository\n        )\n    }()\n\n    /// Body trends \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \ub370\uc774\ud130 \uc870\ud68c \ubc0f \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchBodyTrendsUseCase: FetchBodyTrendsUseCase = {\n        return FetchBodyTrendsUseCase(bodyRepository: bodyRepository)\n    }()\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - SearchFoodUseCase\n    // - LogExerciseUseCase\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // MARK: - Body Composition ViewModels\n\n    /// BodyCompositionViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - ViewModel \uc0dd\uc131 \ub85c\uc9c1\uc744 \uc911\uc559\ud654\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc mock \uc8fc\uc785\uc774 \uc26c\uc6cc\uc9d0\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userProfile: \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 (BMR/TDEE \uacc4\uc0b0\uc5d0 \ud544\uc694)\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyCompositionViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyCompositionViewModel(userProfile: UserProfile) -> BodyCompositionViewModel {\n        return BodyCompositionViewModel(\n            recordBodyCompositionUseCase: recordBodyCompositionUseCase,\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository,\n            userProfile: userProfile\n        )\n    }\n\n    /// BodyTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyTrendsViewModel() -> BodyTrendsViewModel {\n        return BodyTrendsViewModel(\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository\n        )\n    }\n\n    /// MetabolismViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ub300\uc2dc\ubcf4\ub4dc\uc6a9 BMR/TDEE \ud45c\uc2dc ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 MetabolismViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeMetabolismViewModel() -> MetabolismViewModel {\n        return MetabolismViewModel(bodyRepository: bodyRepository)\n    }\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeFoodLogViewModel() -> FoodLogViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "timestamp": "2026-01-17T00:44:29.139154"
      },
      "worktree_state": {
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\nimport HealthKit\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    /// Body composition \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var bodyLocalDataSource: BodyLocalDataSource = {\n        return BodyLocalDataSource(persistenceController: .shared)\n    }()\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - HealthKit\n\n    /// HealthKit Store\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Shared HKHealthStore Instance\n    /// - HealthKit\uc758 \uc9c4\uc785\uc810\uc774 \ub418\ub294 HKHealthStore \uc778\uc2a4\ud134\uc2a4\n    /// - \ubaa8\ub4e0 HealthKit \uc11c\ube44\uc2a4\uc5d0\uc11c \uacf5\uc720\ud558\uc5ec \uc0ac\uc6a9\n    /// - lazy initialization\uc73c\ub85c \ud544\uc694\ud560 \ub54c\ub9cc \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: HealthConnectClient\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n    lazy var healthStore: HKHealthStore = {\n        return HKHealthStore()\n    }()\n\n    /// HealthKit \uad8c\ud55c \uc11c\ube44\uc2a4\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Authorization Service\n    /// - HealthKit \uad8c\ud55c \uc694\uccad \ubc0f \uc0c1\ud0dc \ud655\uc778\n    /// - \uc124\uc815 \ud654\uba74\uc5d0\uc11c \uc0ac\uc6a9\n    /// - \ubaa8\ub4e0 HealthKit \uc791\uc5c5 \uc804\uc5d0 \uad8c\ud55c \ud655\uc778 \ud544\uc694\n    /// \ud83d\udca1 Java \ube44\uad50: PermissionManager\uc640 \uc720\uc0ac\n    lazy var healthKitAuthorizationService: HealthKitAuthorizationService = {\n        return HealthKitAuthorizationService(healthStore: healthStore)\n    }()\n\n    /// HealthKit \uc77d\uae30 \uc11c\ube44\uc2a4\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Read Service\n    /// - HealthKit\uc5d0\uc11c \ub370\uc774\ud130 \uc77d\uae30 (\uccb4\uc911, \uccb4\uc9c0\ubc29, \ud65c\ub3d9 \uce7c\ub85c\ub9ac, \uac78\uc74c \uc218, \uc218\uba74, \uc6b4\ub3d9)\n    /// - DailyLogService\uc5d0\uc11c \uac78\uc74c \uc218 \ub3d9\uae30\ud654\uc5d0 \uc0ac\uc6a9\n    /// - HealthKitSyncService\uc5d0\uc11c \uc804\uccb4 \ub370\uc774\ud130 \ub3d9\uae30\ud654\uc5d0 \uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: Repository\uc758 read \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    lazy var healthKitReadService: HealthKitReadService = {\n        return HealthKitReadService(healthStore: healthStore)\n    }()\n\n    /// HealthKit \uc4f0\uae30 \uc11c\ube44\uc2a4\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Write Service\n    /// - Bodii \ub370\uc774\ud130\ub97c HealthKit\uc5d0 \uc800\uc7a5 (\uccb4\uc911, \uccb4\uc9c0\ubc29, \uc6b4\ub3d9, \uc12d\ucde8 \uce7c\ub85c\ub9ac)\n    /// - \uc591\ubc29\ud5a5 \ub3d9\uae30\ud654\uc758 Export \ubc29\ud5a5 \ub2f4\ub2f9\n    /// \ud83d\udca1 Java \ube44\uad50: Repository\uc758 save \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    lazy var healthKitWriteService: HealthKitWriteService = {\n        return HealthKitWriteService(healthStore: healthStore)\n    }()\n\n    /// HealthKit \ub3d9\uae30\ud654 \uc11c\ube44\uc2a4\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Sync Orchestration Service\n    /// - HealthKit \u2194 Bodii \uc591\ubc29\ud5a5 \ub3d9\uae30\ud654 \uc870\uc815\n    /// - \uc77d\uae30/\uc4f0\uae30/\uad8c\ud55c \uc11c\ube44\uc2a4\ub97c \uc870\ud569\ud558\uc5ec \uc804\uccb4 \ub3d9\uae30\ud654 \uc218\ud589\n    /// - \ub9c8\uc9c0\ub9c9 \ub3d9\uae30\ud654 \uc2dc\uac01 \ucd94\uc801 (\uc99d\ubd84 \ub3d9\uae30\ud654)\n    /// \ud83d\udca1 Java \ube44\uad50: Service Layer\uc5d0\uc11c \uc5ec\ub7ec Repository \uc870\uc815\ud558\ub294 \uc5ed\ud560\n    lazy var healthKitSyncService: HealthKitSyncService = {\n        return HealthKitSyncService(\n            readService: healthKitReadService,\n            writeService: healthKitWriteService,\n            authService: healthKitAuthorizationService\n        )\n    }()\n\n    /// HealthKit \ubc31\uadf8\ub77c\uc6b4\ub4dc \ub3d9\uae30\ud654\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Background Sync with HKObserverQuery\n    /// - HealthKit \ub370\uc774\ud130 \ubcc0\uacbd \uc2dc \ubc31\uadf8\ub77c\uc6b4\ub4dc\uc5d0\uc11c \uc790\ub3d9 \ub3d9\uae30\ud654\n    /// - HKObserverQuery\ub85c \ub370\uc774\ud130 \ubcc0\uacbd \uac10\uc9c0\n    /// - \uc571\uc774 \ub2eb\ud600 \uc788\uc5b4\ub3c4 \ub3d9\uae30\ud654 \uac00\ub2a5\n    /// \ud83d\udca1 Java \ube44\uad50: WorkManager + Observer Pattern \uc870\ud569\n    lazy var healthKitBackgroundSync: HealthKitBackgroundSync = {\n        return HealthKitBackgroundSync(\n            healthStore: healthStore,\n            authService: healthKitAuthorizationService,\n            syncService: healthKitSyncService\n        )\n    }()\n\n    // MARK: - Repositories\n\n    /// Body composition \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// bodyLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var bodyRepository: BodyRepositoryProtocol = {\n        return BodyRepository(localDataSource: bodyLocalDataSource)\n    }()\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - FoodRepository\n    // - ExerciseRepository\n    // - SleepRepository\n    // - GoalRepository\n\n    // MARK: - Use Cases\n\n    /// BMR \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateBMRUseCase = CalculateBMRUseCase()\n\n    /// TDEE \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateTDEEUseCase = CalculateTDEEUseCase()\n\n    /// Body composition \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with Dependencies\n    /// \uc5ec\ub7ec Use Case\uc640 Repository\ub97c \uc870\ud569\ud558\uc5ec \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with @Autowired dependencies\n    lazy var recordBodyCompositionUseCase: RecordBodyCompositionUseCase = {\n        return RecordBodyCompositionUseCase(\n            calculateBMRUseCase: calculateBMRUseCase,\n            calculateTDEEUseCase: calculateTDEEUseCase,\n            bodyRepository: bodyRepository\n        )\n    }()\n\n    /// Body trends \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \ub370\uc774\ud130 \uc870\ud68c \ubc0f \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchBodyTrendsUseCase: FetchBodyTrendsUseCase = {\n        return FetchBodyTrendsUseCase(bodyRepository: bodyRepository)\n    }()\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - SearchFoodUseCase\n    // - LogExerciseUseCase\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // MARK: - Body Composition ViewModels\n\n    /// BodyCompositionViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - ViewModel \uc0dd\uc131 \ub85c\uc9c1\uc744 \uc911\uc559\ud654\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc mock \uc8fc\uc785\uc774 \uc26c\uc6cc\uc9d0\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userProfile: \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 (BMR/TDEE \uacc4\uc0b0\uc5d0 \ud544\uc694)\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyCompositionViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyCompositionViewModel(userProfile: UserProfile) -> BodyCompositionViewModel {\n        return BodyCompositionViewModel(\n            recordBodyCompositionUseCase: recordBodyCompositionUseCase,\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository,\n            userProfile: userProfile\n        )\n    }\n\n    /// BodyTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyTrendsViewModel() -> BodyTrendsViewModel {\n        return BodyTrendsViewModel(\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository\n        )\n    }\n\n    /// MetabolismViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ub300\uc2dc\ubcf4\ub4dc\uc6a9 BMR/TDEE \ud45c\uc2dc ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 MetabolismViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeMetabolismViewModel() -> MetabolismViewModel {\n        return MetabolismViewModel(bodyRepository: bodyRepository)\n    }\n\n    // MARK: - HealthKit ViewModels\n\n    /// HealthKitSettingsViewModel \uc0dd\uc131\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method for Settings ViewModel\n    /// - HealthKit \uc124\uc815 \ud654\uba74\uc6a9 ViewModel \uc0dd\uc131\n    /// - \uad8c\ud55c \uc11c\ube44\uc2a4\uc640 \ub3d9\uae30\ud654 \uc11c\ube44\uc2a4\ub97c \uc8fc\uc785\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc Mock \uc11c\ube44\uc2a4\ub85c \uad50\uccb4 \uac00\ub2a5\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 HealthKitSettingsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeHealthKitSettingsViewModel() -> HealthKitSettingsViewModel {\n        return HealthKitSettingsViewModel(\n            authService: healthKitAuthorizationService,\n            syncService: healthKitSyncService\n        )\n    }\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeFoodLogViewModel() -> FoodLogViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "last_modified": "2026-01-18T17:11:40.678563"
      },
      "task_intent": {
        "title": "011-apple-healthkit-integration",
        "description": "Bidirectional sync with Apple HealthKit for weight, body fat, active calories, sleep, and workout data. Read existing data and write Bodii records to maintain ecosystem connectivity.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    },
    "018-merge-all-worktrees-and-fix-xcode-project": {
      "task_id": "018-merge-all-worktrees-and-fix-xcode-project",
      "branch_point": {
        "commit_hash": "73b2bf8c87423e73ab1ee00cbd87ef9055b5e418",
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Data Sources\n\n    /// Body composition \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var bodyLocalDataSource: BodyLocalDataSource = {\n        return BodyLocalDataSource(persistenceController: .shared)\n    }()\n\n    /// Sleep tracking \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var sleepLocalDataSource: SleepLocalDataSource = {\n        return SleepLocalDataSource(persistenceController: .shared)\n    }()\n\n    /// Goal \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var goalLocalDataSource: GoalLocalDataSource = {\n        return GoalLocalDataSource(persistenceController: .shared)\n    }()\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - NetworkManager\n    // - HealthKitManager\n    // - FoodAPIDataSource\n    // - GeminiAPIDataSource\n\n    // MARK: - Repositories\n\n    /// Body composition \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// bodyLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var bodyRepository: BodyRepositoryProtocol = {\n        return BodyRepository(localDataSource: bodyLocalDataSource)\n    }()\n\n    /// Sleep tracking \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// sleepLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var sleepRepository: SleepRepositoryProtocol = {\n        return SleepRepository(localDataSource: sleepLocalDataSource)\n    }()\n\n    /// Goal \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// goalLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var goalRepository: GoalRepositoryProtocol = {\n        return GoalRepository(localDataSource: goalLocalDataSource)\n    }()\n\n    // TODO: Phase 3\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - UserRepository\n    // - FoodRepository\n    // - ExerciseRepository\n\n    // MARK: - Use Cases\n\n    /// BMR \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateBMRUseCase = CalculateBMRUseCase()\n\n    /// TDEE \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateTDEEUseCase = CalculateTDEEUseCase()\n\n    /// Body composition \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with Dependencies\n    /// \uc5ec\ub7ec Use Case\uc640 Repository\ub97c \uc870\ud569\ud558\uc5ec \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with @Autowired dependencies\n    lazy var recordBodyCompositionUseCase: RecordBodyCompositionUseCase = {\n        return RecordBodyCompositionUseCase(\n            calculateBMRUseCase: calculateBMRUseCase,\n            calculateTDEEUseCase: calculateTDEEUseCase,\n            bodyRepository: bodyRepository\n        )\n    }()\n\n    /// Body trends \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \ub370\uc774\ud130 \uc870\ud68c \ubc0f \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchBodyTrendsUseCase: FetchBodyTrendsUseCase = {\n        return FetchBodyTrendsUseCase(bodyRepository: bodyRepository)\n    }()\n\n    /// Sleep \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Domain Use Case with Auto Status Calculation\n    /// \uc218\uba74 \uc2dc\uac04\uc744 \uc785\ub825\ubc1b\uc544 \uc0c1\ud0dc\ub97c \uc790\ub3d9 \uacc4\uc0b0\ud558\uace0 \uc800\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with business logic\n    lazy var recordSleepUseCase: RecordSleepUseCase = {\n        return RecordSleepUseCase(sleepRepository: sleepRepository)\n    }()\n\n    /// Sleep \ud788\uc2a4\ud1a0\ub9ac \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ub9ac\uc2a4\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \uc218\uba74 \uae30\ub85d \uc870\ud68c \ubc0f \ud1b5\uacc4 \uacc4\uc0b0\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchSleepHistoryUseCase: FetchSleepHistoryUseCase = {\n        return FetchSleepHistoryUseCase(sleepRepository: sleepRepository)\n    }()\n\n    /// Sleep \ud1b5\uacc4 \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Statistics Use Case\n    /// \ucc28\ud2b8 \ubc0f \ub300\uc2dc\ubcf4\ub4dc \ud45c\uc2dc\ub97c \uc704\ud55c \uc218\uba74 \ud1b5\uacc4 \uacc4\uc0b0\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with analytics logic\n    lazy var fetchSleepStatsUseCase: FetchSleepStatsUseCase = {\n        return FetchSleepStatsUseCase(sleepRepository: sleepRepository)\n    }()\n\n    // MARK: - Goal Use Cases\n\n    /// Goal \uc124\uc815 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with Dependencies\n    /// \uc5ec\ub7ec Repository\ub97c \uc870\ud569\ud558\uc5ec \ubaa9\ud45c \uc124\uc815 \ub85c\uc9c1 \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with @Autowired dependencies\n    lazy var setGoalUseCase: SetGoalUseCase = {\n        return SetGoalUseCase(\n            bodyRepository: bodyRepository,\n            goalRepository: goalRepository\n        )\n    }()\n\n    /// Goal \uc9c4\ud589\uc0c1\ud669 \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ubaa9\ud45c \uc9c4\ud589\ub960, \ub9c8\uc77c\uc2a4\ud1a4, \ud2b8\ub80c\ub4dc \ubd84\uc11d \ub370\uc774\ud130 \uc870\ud68c\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var getGoalProgressUseCase: GetGoalProgressUseCase = {\n        return GetGoalProgressUseCase(\n            goalRepository: goalRepository,\n            bodyRepository: bodyRepository\n        )\n    }()\n\n    /// Goal \uc5c5\ub370\uc774\ud2b8 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Update Use Case\n    /// \uae30\uc874 \ubaa9\ud45c \uc218\uc815 (\ud788\uc2a4\ud1a0\ub9ac \ubcf4\uc874)\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with update operations\n    lazy var updateGoalUseCase: UpdateGoalUseCase = {\n        return UpdateGoalUseCase(goalRepository: goalRepository)\n    }()\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - SearchFoodUseCase\n    // - LogExerciseUseCase\n    // - etc.\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // MARK: - Body Composition ViewModels\n\n    /// BodyCompositionViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - ViewModel \uc0dd\uc131 \ub85c\uc9c1\uc744 \uc911\uc559\ud654\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc mock \uc8fc\uc785\uc774 \uc26c\uc6cc\uc9d0\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userProfile: \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 (BMR/TDEE \uacc4\uc0b0\uc5d0 \ud544\uc694)\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyCompositionViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyCompositionViewModel(userProfile: UserProfile) -> BodyCompositionViewModel {\n        return BodyCompositionViewModel(\n            recordBodyCompositionUseCase: recordBodyCompositionUseCase,\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository,\n            userProfile: userProfile\n        )\n    }\n\n    /// BodyTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyTrendsViewModel() -> BodyTrendsViewModel {\n        return BodyTrendsViewModel(\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository\n        )\n    }\n\n    /// MetabolismViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ub300\uc2dc\ubcf4\ub4dc\uc6a9 BMR/TDEE \ud45c\uc2dc ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 MetabolismViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeMetabolismViewModel() -> MetabolismViewModel {\n        return MetabolismViewModel(bodyRepository: bodyRepository)\n    }\n\n    // MARK: - Sleep ViewModels\n\n    /// SleepInputViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \uc218\uba74 \uc785\ub825\uc744 \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \uae30\ubcf8 \uc218\uba74 \uc2dc\uac04 \uc124\uc815 \uac00\ub2a5\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    ///   - defaultHours: \uae30\ubcf8 \uc218\uba74 \uc2dc\uac04 (\uc2dc\uac04, \uae30\ubcf8\uac12: 7)\n    ///   - defaultMinutes: \uae30\ubcf8 \uc218\uba74 \uc2dc\uac04 (\ubd84, \uae30\ubcf8\uac12: 0)\n    /// - Returns: \uc0c8\ub85c\uc6b4 SleepInputViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeSleepInputViewModel(\n        userId: UUID,\n        defaultHours: Int = 7,\n        defaultMinutes: Int = 0\n    ) -> SleepInputViewModel {\n        return SleepInputViewModel(\n            recordSleepUseCase: recordSleepUseCase,\n            userId: userId,\n            defaultHours: defaultHours,\n            defaultMinutes: defaultMinutes\n        )\n    }\n\n    /// SleepHistoryViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \uc218\uba74 \ud788\uc2a4\ud1a0\ub9ac \ub9ac\uc2a4\ud2b8\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \uae30\ubcf8 \uc870\ud68c \ubaa8\ub4dc \uc124\uc815 \uac00\ub2a5 (\ucd5c\uadfc 30\uc77c)\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameter defaultMode: \uae30\ubcf8 \uc870\ud68c \ubaa8\ub4dc (\uae30\ubcf8\uac12: \ucd5c\uadfc 30\uc77c)\n    /// - Returns: \uc0c8\ub85c\uc6b4 SleepHistoryViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeSleepHistoryViewModel(\n        defaultMode: FetchSleepHistoryUseCase.QueryMode = .recent(days: 30)\n    ) -> SleepHistoryViewModel {\n        return SleepHistoryViewModel(\n            fetchSleepHistoryUseCase: fetchSleepHistoryUseCase,\n            sleepRepository: sleepRepository,\n            defaultMode: defaultMode\n        )\n    }\n\n    /// SleepTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \uc218\uba74 \ud2b8\ub80c\ub4dc \ucc28\ud2b8\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\uc6a9 \ud1b5\uacc4 \ub370\uc774\ud130 \uc81c\uacf5\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 SleepTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeSleepTrendsViewModel() -> SleepTrendsViewModel {\n        return SleepTrendsViewModel(\n            fetchSleepStatsUseCase: fetchSleepStatsUseCase,\n            sleepRepository: sleepRepository\n        )\n    }\n\n    // MARK: - Goal ViewModels\n\n    /// GoalSettingViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ubaa9\ud45c \uc124\uc815 \ud654\uba74\uc6a9 ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameter userId: \uc0ac\uc6a9\uc790 ID (\ubaa9\ud45c \uc18c\uc720\uc790)\n    /// - Returns: \uc0c8\ub85c\uc6b4 GoalSettingViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeGoalSettingViewModel(userId: UUID) -> GoalSettingViewModel {\n        return GoalSettingViewModel(\n            setGoalUseCase: setGoalUseCase,\n            userId: userId\n        )\n    }\n\n    /// GoalProgressViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ubaa9\ud45c \uc9c4\ud589\uc0c1\ud669 \ud654\uba74\uc6a9 ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 GoalProgressViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeGoalProgressViewModel() -> GoalProgressViewModel {\n        return GoalProgressViewModel(getGoalProgressUseCase: getGoalProgressUseCase)\n    }\n\n    // MARK: - Managers\n\n    /// SleepPromptManager \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Manager Factory Method\n    /// - \uc544\uce68 \uc218\uba74 \uae30\ub85d \ud504\ub86c\ud504\ud2b8 \uad00\ub9ac\uc790 \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - UserDefaults\ub294 \uae30\ubcf8\uac12(.standard) \uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 SleepPromptManager \uc778\uc2a4\ud134\uc2a4\n    func makeSleepPromptManager() -> SleepPromptManager {\n        return SleepPromptManager(\n            sleepRepository: sleepRepository,\n            userDefaults: .standard\n        )\n    }\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeDashboardViewModel() -> DashboardViewModel\n    // func makeFoodLogViewModel() -> FoodLogViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif",
        "timestamp": "2026-01-18T19:07:50.550140"
      },
      "worktree_state": {
        "content": "//\n//  DIContainer.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Container\n// \uc571 \uc804\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc758\uc874\uc131\ub4e4\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \ucee8\ud14c\uc774\ub108\n// \ud83d\udca1 Java \ube44\uad50: Dagger/Hilt\uc758 Component\uc640 \uc720\uc0ac\ud55c \uc5ed\ud560\n\nimport Foundation\n\n// MARK: - DI Container\n\n/// \uc758\uc874\uc131 \uc8fc\uc785 \ucee8\ud14c\uc774\ub108\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Singleton Pattern\n/// \uc571 \uc804\uc5ed\uc5d0\uc11c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \uc758\uc874\uc131\uc5d0 \uc811\uadfc\n/// \ud83d\udca1 Java \ube44\uad50: static getInstance() \ud328\ud134\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uac04\uacb0\nfinal class DIContainer {\n\n    // MARK: - Singleton\n\n    /// \uacf5\uc720 \uc778\uc2a4\ud134\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: static let\n    /// Swift\uc5d0\uc11c \uc2f1\uae00\ud1a4\uc740 static let\uc73c\ub85c \uac04\ub2e8\ud788 \uad6c\ud604\n    /// Thread-safe\ud558\uac8c \ud55c \ubc88\ub9cc \ucd08\uae30\ud654\ub428 (Swift \ub7f0\ud0c0\uc784 \ubcf4\uc7a5)\n    static let shared = DIContainer()\n\n    // MARK: - Initialization\n\n    /// private init\uc73c\ub85c \uc678\ubd80 \uc778\uc2a4\ud134\uc2a4\ud654 \ubc29\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Access Control\n    /// private init\uc740 \uc678\ubd80\uc5d0\uc11c new\ub97c \ub9c9\uc544 \uc2f1\uae00\ud1a4 \ubcf4\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: private constructor\uc640 \ub3d9\uc77c\n    private init() {}\n\n    // MARK: - Infrastructure\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\n    // \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \ucd08\uae30\ud654\ub418\ub294 \ud504\ub85c\ud37c\ud2f0\n    // \ubb34\uac70\uc6b4 \uac1d\uccb4\uc758 \uc9c0\uc5f0 \ucd08\uae30\ud654\uc5d0 \uc720\uc6a9\n    // \ud83d\udca1 Java \ube44\uad50: Lazy initialization pattern\n\n    /// Persistence Controller (Core Data)\n    /// \u26a0\ufe0f \uc8fc\uc758: PersistenceController\ub294 \ubcc4\ub3c4\ub85c shared \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac\n\n    // MARK: - Infrastructure\n\n    /// \ub124\ud2b8\uc6cc\ud06c \ub9e4\ub2c8\uc800\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Network Layer\n    /// \ubaa8\ub4e0 HTTP \uc694\uccad\uc744 \ucc98\ub9ac\ud558\ub294 \uc911\uc559\ud654\ub41c \ub124\ud2b8\uc6cc\ud06c \ub808\uc774\uc5b4\n    /// \ud83d\udca1 Java \ube44\uad50: Retrofit, OkHttp\uc640 \uc720\uc0ac\n    lazy var networkManager: NetworkManager = {\n        return NetworkManager(timeout: 30, maxRetries: 2)\n    }()\n\n    /// API \uc124\uc815\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Configuration Singleton\n    /// API \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \ubc0f \uc778\uc99d \ud0a4 \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Configuration \ud074\ub798\uc2a4\uc640 \uc720\uc0ac\n    var apiConfig: APIConfigProtocol {\n        return APIConfig.shared\n    }\n\n    // MARK: - Data Sources\n\n    /// Body composition \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var bodyLocalDataSource: BodyLocalDataSource = {\n        return BodyLocalDataSource(persistenceController: .shared)\n    }()\n\n    /// Sleep tracking \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var sleepLocalDataSource: SleepLocalDataSource = {\n        return SleepLocalDataSource(persistenceController: .shared)\n    }()\n\n    /// DailyLog \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Core Data Context Injection\n    /// PersistenceController.shared.viewContext\ub97c \uc8fc\uc785\ud558\uc5ec Core Data \uc791\uc5c5 \uc218\ud589\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired DAO\uc640 \uc720\uc0ac\n    lazy var dailyLogLocalDataSource: DailyLogLocalDataSource = {\n        return DailyLogLocalDataSource(context: PersistenceController.shared.viewContext)\n    }()\n\n    /// \ud1b5\ud569 \uc74c\uc2dd \uac80\uc0c9 \uc11c\ube44\uc2a4 (KFDA + USDA)\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Unified Search Service\n    /// \uc5ec\ub7ec \ub370\uc774\ud130 \uc18c\uc2a4\ub97c \ud1b5\ud569\ud558\uc5ec \uac80\uc0c9\ud558\ub294 \uc11c\ube44\uc2a4\n    /// \ud83d\udca1 Java \ube44\uad50: Facade pattern\uc73c\ub85c \uc5ec\ub7ec API\ub97c \ud1b5\ud569\n    lazy var unifiedFoodSearchService: UnifiedFoodSearchService = {\n        return UnifiedFoodSearchService()\n    }()\n\n    /// Vision API \uc11c\ube44\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: AI Service Integration\n    /// Google Cloud Vision API\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc74c\uc2dd \uc0ac\uc9c4 \ubd84\uc11d\n    /// \ud83d\udca1 Java \ube44\uad50: External API Client Service\n    lazy var visionAPIService: VisionAPIServiceProtocol = {\n        return VisionAPIService(\n            networkManager: networkManager,\n            apiConfig: apiConfig,\n            usageTracker: VisionAPIUsageTracker.shared\n        )\n    }()\n\n    /// Goal \ub85c\uceec \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Lazy Initialization\n    /// \uccab \uc811\uadfc \uc2dc \ud55c \ubc88\ub9cc \uc0dd\uc131\ub418\uc5b4 \uc7ac\uc0ac\uc6a9\ub428\n    /// \ud83d\udca1 Java \ube44\uad50: @Lazy + @Autowired\uc640 \uc720\uc0ac\n    lazy var goalLocalDataSource: GoalLocalDataSource = {\n        return GoalLocalDataSource(persistenceController: .shared)\n    }()\n\n    /// Gemini API \uc11c\ube44\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: AI API Service with Rate Limiting\n    /// Gemini AI API \ud638\ucd9c\uc744 \ub2f4\ub2f9\ud558\ub294 \ub370\uc774\ud130 \uc18c\uc2a4\n    /// \ud83d\udca1 Java \ube44\uad50: Retrofit Service Interface\uc640 \uc720\uc0ac\n    lazy var geminiAPIService: GeminiAPIService = {\n        return GeminiAPIService()\n    }()\n\n    /// Diet comment \uce90\uc2dc\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Actor-based In-Memory Cache\n    /// AI \ucf54\uba58\ud2b8\ub97c \uce90\uc2f1\ud558\uc5ec \uc911\ubcf5 API \ud638\ucd9c \ubc29\uc9c0\n    /// \ud83d\udca1 Java \ube44\uad50: Caffeine Cache\uc640 \uc720\uc0ac\n    lazy var dietCommentCache: DietCommentCache = {\n        return DietCommentCache()\n    }()\n\n    // TODO: Phase 2\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - HealthKitManager\n\n    // MARK: - Services\n\n    /// Gemini AI \uc11c\ube44\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Domain Service Layer\n    /// AI \uc2dd\ub2e8 \ucf54\uba58\ud2b8 \uc0dd\uc131\uc744 \ub2f4\ub2f9\ud558\ub294 \ub3c4\uba54\uc778 \uc11c\ube44\uc2a4\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \ud074\ub798\uc2a4\uc640 \uc720\uc0ac\n    lazy var geminiService: GeminiServiceProtocol = {\n        return GeminiService(geminiAPIService: geminiAPIService)\n    }()\n\n    // MARK: - Repositories\n\n    /// Body composition \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// bodyLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var bodyRepository: BodyRepositoryProtocol = {\n        return BodyRepository(localDataSource: bodyLocalDataSource)\n    }()\n\n    /// Sleep tracking \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// sleepLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var sleepRepository: SleepRepositoryProtocol = {\n        return SleepRepository(localDataSource: sleepLocalDataSource)\n    }()\n\n    /// Food Repository\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Protocol Type\n    /// \ud504\ub85c\ud1a0\ucf5c \ud0c0\uc785\uc73c\ub85c \uc120\uc5b8\ud558\uc5ec \uad6c\ud604 \uad50\uccb4 \uac00\ub2a5 (\ud14c\uc2a4\ud2b8\uc6a9 Mock \ub4f1)\n    /// \ud83d\udca1 Java \ube44\uad50: Interface \ud0c0\uc785 \ud544\ub4dc\uc640 \ub3d9\uc77c\n    lazy var foodRepository: FoodRepositoryProtocol = {\n        FoodRepository(context: PersistenceController.shared.viewContext)\n    }()\n\n    /// FoodRecord Repository\n    lazy var foodRecordRepository: FoodRecordRepositoryProtocol = {\n        FoodRecordRepository(context: PersistenceController.shared.viewContext)\n    }()\n\n    /// Diet comment \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: AI Service Repository\n    /// AI \ucf54\uba58\ud2b8 \uc0dd\uc131 \ubc0f \uce90\uc2f1\uc744 \uc870\uc815\ud558\ub294 \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Repository with @Service dependencies\n    lazy var dietCommentRepository: DietCommentRepository = {\n        return DietCommentRepositoryImpl(\n            geminiService: geminiService,\n            cache: dietCommentCache,\n            foodRecordRepository: foodRecordRepository\n        )\n    }()\n\n    /// DailyLog Repository (for unified dashboard)\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Repository Pattern\n    /// dailyLogLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc77c\uc77c \uc9d1\uacc4 \ub370\uc774\ud130 \uad00\ub9ac\n    /// DashboardViewModel\uc5d0\uc11c \uc0ac\uc6a9\ud558\uc5ec \uc0ac\uc804 \uacc4\uc0b0\ub41c \uac12 \uc870\ud68c\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var dailyLogRepository: DailyLogRepositoryProtocol = {\n        DailyLogRepository(context: PersistenceController.shared.viewContext)\n    }()\n\n    /// \uc0ac\uc6a9\uc790 Repository\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: lazy var\ub85c \uc9c0\uc5f0 \ucd08\uae30\ud654\n    /// \ucc98\uc74c \uc811\uadfc\ud560 \ub54c\ub9cc \uc0dd\uc131\ub418\uc5b4 \uba54\ubaa8\ub9ac \ud6a8\uc728\uc801\n    lazy var userRepository: UserRepository = {\n        let context = PersistenceController.shared.container.viewContext\n        return UserRepository(context: context)\n    }()\n\n    /// \uc6b4\ub3d9 \uae30\ub85d Repository\n    lazy var exerciseRecordRepository: ExerciseRecordRepository = {\n        let context = PersistenceController.shared.container.viewContext\n        return ExerciseRecordRepository(context: context)\n    }()\n\n    /// Goal \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection Chain\n    /// goalLocalDataSource\ub97c \uc8fc\uc785\ubc1b\uc544 \uc0dd\uc131\n    /// \ud83d\udca1 Java \ube44\uad50: @Autowired Repository\uc640 \uc720\uc0ac\n    lazy var goalRepository: GoalRepositoryProtocol = {\n        return GoalRepository(localDataSource: goalLocalDataSource)\n    }()\n\n    // MARK: - Domain Services\n\n    /// FoodRecord Service\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Service Layer\n    /// \uc5ec\ub7ec Repository\ub97c \uc870\ud569\ud558\uc5ec \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \ucc98\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc5b4\ub178\ud14c\uc774\uc158\uc774 \ubd99\uc740 \uc11c\ube44\uc2a4 \ud074\ub798\uc2a4\uc640 \uc720\uc0ac\n    lazy var foodRecordService: FoodRecordServiceProtocol = {\n        FoodRecordService(\n            foodRecordRepository: foodRecordRepository,\n            dailyLogRepository: dailyLogRepository,\n            foodRepository: foodRepository\n        )\n    }()\n\n    /// Food Search Service\n    lazy var foodSearchService: FoodSearchServiceProtocol = {\n        LocalFoodSearchService(foodRepository: foodRepository)\n    }()\n\n    /// Recent Foods Service\n    lazy var recentFoodsService: RecentFoodsServiceProtocol = {\n        RecentFoodsService(\n            foodRepository: foodRepository,\n            maxRecentFoods: 10,\n            maxFrequentFoods: 10,\n            maxQuickAddFoods: 15\n        )\n    }()\n\n    /// \uc6b4\ub3d9 \uce7c\ub85c\ub9ac \uacc4\uc0b0 \uc11c\ube44\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Static Service\n    /// ExerciseCalcService\ub294 enum with static methods\uc774\ubbc0\ub85c\n    /// \uc778\uc2a4\ud134\uc2a4\ud654 \ubd88\ud544\uc694 (\uc9c1\uc811 ExerciseCalcService.calculateCaloriesBurned \ud638\ucd9c)\n\n    /// \uc6b4\ub3d9 \uae30\ub85d \uc11c\ube44\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Service with Dependencies\n    /// \uc5ec\ub7ec Repository\ub97c \uc870\ud569\ud558\uc5ec \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \ucc98\ub9ac\n    lazy var exerciseRecordService: ExerciseRecordService = {\n        return ExerciseRecordService(\n            exerciseRecordRepository: exerciseRecordRepository,\n            dailyLogRepository: dailyLogRepository,\n            userRepository: userRepository\n        )\n    }()\n\n    // MARK: - Use Cases\n\n    /// BMR \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateBMRUseCase = CalculateBMRUseCase()\n\n    /// TDEE \uacc4\uc0b0 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Stateless Use Case\n    /// struct\uc774\ubbc0\ub85c \ub9e4\ubc88 \uc0c8\ub85c \uc0dd\uc131\ud574\ub3c4 \ubb34\ubc29\ud558\uc9c0\ub9cc lazy\ub85c \uc7ac\uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Service \uc2f1\uae00\ud1a4 \ube48\uacfc \uc720\uc0ac\n    lazy var calculateTDEEUseCase = CalculateTDEEUseCase()\n\n    /// Body composition \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with Dependencies\n    /// \uc5ec\ub7ec Use Case\uc640 Repository\ub97c \uc870\ud569\ud558\uc5ec \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with @Autowired dependencies\n    lazy var recordBodyCompositionUseCase: RecordBodyCompositionUseCase = {\n        return RecordBodyCompositionUseCase(\n            calculateBMRUseCase: calculateBMRUseCase,\n            calculateTDEEUseCase: calculateTDEEUseCase,\n            bodyRepository: bodyRepository\n        )\n    }()\n\n    /// Body trends \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \ub370\uc774\ud130 \uc870\ud68c \ubc0f \ubcc0\ud658\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchBodyTrendsUseCase: FetchBodyTrendsUseCase = {\n        return FetchBodyTrendsUseCase(bodyRepository: bodyRepository)\n    }()\n\n    /// Sleep \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Domain Use Case with Auto Status Calculation\n    /// \uc218\uba74 \uc2dc\uac04\uc744 \uc785\ub825\ubc1b\uc544 \uc0c1\ud0dc\ub97c \uc790\ub3d9 \uacc4\uc0b0\ud558\uace0 \uc800\uc7a5\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with business logic\n    lazy var recordSleepUseCase: RecordSleepUseCase = {\n        return RecordSleepUseCase(sleepRepository: sleepRepository)\n    }()\n\n    /// Sleep \ud788\uc2a4\ud1a0\ub9ac \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ub9ac\uc2a4\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c \uc218\uba74 \uae30\ub85d \uc870\ud68c \ubc0f \ud1b5\uacc4 \uacc4\uc0b0\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var fetchSleepHistoryUseCase: FetchSleepHistoryUseCase = {\n        return FetchSleepHistoryUseCase(sleepRepository: sleepRepository)\n    }()\n\n    /// Sleep \ud1b5\uacc4 \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Statistics Use Case\n    /// \ucc28\ud2b8 \ubc0f \ub300\uc2dc\ubcf4\ub4dc \ud45c\uc2dc\ub97c \uc704\ud55c \uc218\uba74 \ud1b5\uacc4 \uacc4\uc0b0\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with analytics logic\n    lazy var fetchSleepStatsUseCase: FetchSleepStatsUseCase = {\n        return FetchSleepStatsUseCase(sleepRepository: sleepRepository)\n    }()\n\n    // MARK: - Goal Use Cases\n\n    /// Goal \uc124\uc815 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with Dependencies\n    /// \uc5ec\ub7ec Repository\ub97c \uc870\ud569\ud558\uc5ec \ubaa9\ud45c \uc124\uc815 \ub85c\uc9c1 \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with @Autowired dependencies\n    lazy var setGoalUseCase: SetGoalUseCase = {\n        return SetGoalUseCase(\n            bodyRepository: bodyRepository,\n            goalRepository: goalRepository\n        )\n    }()\n\n    /// Goal \uc9c4\ud589\uc0c1\ud669 \uc870\ud68c Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Query Use Case\n    /// \ubaa9\ud45c \uc9c4\ud589\ub960, \ub9c8\uc77c\uc2a4\ud1a4, \ud2b8\ub80c\ub4dc \ubd84\uc11d \ub370\uc774\ud130 \uc870\ud68c\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with read-only operations\n    lazy var getGoalProgressUseCase: GetGoalProgressUseCase = {\n        return GetGoalProgressUseCase(\n            goalRepository: goalRepository,\n            bodyRepository: bodyRepository\n        )\n    }()\n\n    /// Goal \uc5c5\ub370\uc774\ud2b8 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Update Use Case\n    /// \uae30\uc874 \ubaa9\ud45c \uc218\uc815 (\ud788\uc2a4\ud1a0\ub9ac \ubcf4\uc874)\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with update operations\n    lazy var updateGoalUseCase: UpdateGoalUseCase = {\n        return UpdateGoalUseCase(goalRepository: goalRepository)\n    }()\n\n    /// AI \uc2dd\ub2e8 \ucf54\uba58\ud2b8 \uc0dd\uc131 Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Orchestration Use Case with AI Service\n    /// AI \ucf54\uba58\ud2b8 \uc0dd\uc131, \uce90\uc2f1, \uc5d0\ub7ec \ucc98\ub9ac\ub97c \uc870\uc815\ud558\ub294 \uc720\uc2a4\ucf00\uc774\uc2a4\n    /// \ud83d\udca1 Java \ube44\uad50: @Service with multiple repository dependencies\n    lazy var generateDietCommentUseCase: GenerateDietCommentUseCase = {\n        return GenerateDietCommentUseCase(\n            dietCommentRepository: dietCommentRepository,\n            geminiService: geminiService,\n            foodRecordRepository: foodRecordRepository\n        )\n    }()\n\n    // TODO: Phase 4\uc5d0\uc11c \ucd94\uac00 \uc608\uc815\n    // - LogExerciseUseCase\n    // - etc.\n\n    // MARK: - Domain Services\n\n    /// \uc74c\uc2dd \ub77c\ubca8 \ub9e4\uce6d \uc11c\ube44\uc2a4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: AI Label Matching Service\n    /// Vision API \ub77c\ubca8\uc744 \uc74c\uc2dd \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc640 \ub9e4\uce6d\ud558\ub294 \uc11c\ube44\uc2a4\n    /// \ud83d\udca1 Java \ube44\uad50: Business Logic Service with translation\n    lazy var foodLabelMatcherService: FoodLabelMatcherServiceProtocol = {\n        return FoodLabelMatcherService(\n            unifiedSearchService: unifiedFoodSearchService,\n            maxAlternatives: 3,\n            minConfidence: 0.3\n        )\n    }()\n}\n\n// MARK: - Factory Methods\n\nextension DIContainer {\n\n    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Pattern\n    // \uc758\uc874\uc131 \uc0dd\uc131 \ub85c\uc9c1\uc744 \ucea1\uc290\ud654\n    // \ud14c\uc2a4\ud2b8 \uc2dc Mock \uac1d\uccb4\ub85c \uad50\uccb4 \uac00\ub2a5\n\n    // MARK: - Body Composition ViewModels\n\n    /// BodyCompositionViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - ViewModel \uc0dd\uc131 \ub85c\uc9c1\uc744 \uc911\uc559\ud654\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc mock \uc8fc\uc785\uc774 \uc26c\uc6cc\uc9d0\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userProfile: \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 (BMR/TDEE \uacc4\uc0b0\uc5d0 \ud544\uc694)\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyCompositionViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyCompositionViewModel(userProfile: UserProfile) -> BodyCompositionViewModel {\n        return BodyCompositionViewModel(\n            recordBodyCompositionUseCase: recordBodyCompositionUseCase,\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository,\n            userProfile: userProfile\n        )\n    }\n\n    /// BodyTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 BodyTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeBodyTrendsViewModel() -> BodyTrendsViewModel {\n        return BodyTrendsViewModel(\n            fetchBodyTrendsUseCase: fetchBodyTrendsUseCase,\n            bodyRepository: bodyRepository\n        )\n    }\n\n    /// MetabolismViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ub300\uc2dc\ubcf4\ub4dc\uc6a9 BMR/TDEE \ud45c\uc2dc ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 MetabolismViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeMetabolismViewModel() -> MetabolismViewModel {\n        return MetabolismViewModel(bodyRepository: bodyRepository)\n    }\n\n    // MARK: - Sleep ViewModels\n\n    /// SleepInputViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \uc218\uba74 \uc785\ub825\uc744 \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \uae30\ubcf8 \uc218\uba74 \uc2dc\uac04 \uc124\uc815 \uac00\ub2a5\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    ///   - defaultHours: \uae30\ubcf8 \uc218\uba74 \uc2dc\uac04 (\uc2dc\uac04, \uae30\ubcf8\uac12: 7)\n    ///   - defaultMinutes: \uae30\ubcf8 \uc218\uba74 \uc2dc\uac04 (\ubd84, \uae30\ubcf8\uac12: 0)\n    /// - Returns: \uc0c8\ub85c\uc6b4 SleepInputViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeSleepInputViewModel(\n        userId: UUID,\n        defaultHours: Int = 7,\n        defaultMinutes: Int = 0\n    ) -> SleepInputViewModel {\n        return SleepInputViewModel(\n            recordSleepUseCase: recordSleepUseCase,\n            userId: userId,\n            defaultHours: defaultHours,\n            defaultMinutes: defaultMinutes\n        )\n    }\n\n    /// SleepHistoryViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \uc218\uba74 \ud788\uc2a4\ud1a0\ub9ac \ub9ac\uc2a4\ud2b8\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \uae30\ubcf8 \uc870\ud68c \ubaa8\ub4dc \uc124\uc815 \uac00\ub2a5 (\ucd5c\uadfc 30\uc77c)\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameter defaultMode: \uae30\ubcf8 \uc870\ud68c \ubaa8\ub4dc (\uae30\ubcf8\uac12: \ucd5c\uadfc 30\uc77c)\n    /// - Returns: \uc0c8\ub85c\uc6b4 SleepHistoryViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeSleepHistoryViewModel(\n        defaultMode: FetchSleepHistoryUseCase.QueryMode = .recent(days: 30)\n    ) -> SleepHistoryViewModel {\n        return SleepHistoryViewModel(\n            fetchSleepHistoryUseCase: fetchSleepHistoryUseCase,\n            sleepRepository: sleepRepository,\n            defaultMode: defaultMode\n        )\n    }\n\n    /// SleepTrendsViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \uc218\uba74 \ud2b8\ub80c\ub4dc \ucc28\ud2b8\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - \ucc28\ud2b8 \ud45c\uc2dc\uc6a9 \ud1b5\uacc4 \ub370\uc774\ud130 \uc81c\uacf5\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 SleepTrendsViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeSleepTrendsViewModel() -> SleepTrendsViewModel {\n        return SleepTrendsViewModel(\n            fetchSleepStatsUseCase: fetchSleepStatsUseCase,\n            sleepRepository: sleepRepository\n        )\n    }\n\n    // MARK: - Managers\n\n    /// SleepPromptManager \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Manager Factory Method\n    /// - \uc544\uce68 \uc218\uba74 \uae30\ub85d \ud504\ub86c\ud504\ud2b8 \uad00\ub9ac\uc790 \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// - UserDefaults\ub294 \uae30\ubcf8\uac12(.standard) \uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 SleepPromptManager \uc778\uc2a4\ud134\uc2a4\n    func makeSleepPromptManager() -> SleepPromptManager {\n        return SleepPromptManager(\n            sleepRepository: sleepRepository,\n            userDefaults: .standard\n        )\n    }\n\n    // MARK: - Diet/Food ViewModels\n\n    /// DailyMealViewModel \uc0dd\uc131\n    /// - Returns: DailyMealViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeDailyMealViewModel() -> DailyMealViewModel {\n        DailyMealViewModel(\n            foodRecordService: foodRecordService,\n            dailyLogRepository: dailyLogRepository\n        )\n    }\n\n    /// FoodSearchViewModel \uc0dd\uc131\n    /// - Returns: FoodSearchViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeFoodSearchViewModel() -> FoodSearchViewModel {\n        FoodSearchViewModel(\n            foodSearchService: foodSearchService,\n            recentFoodsService: recentFoodsService\n        )\n    }\n\n    /// FoodDetailViewModel \uc0dd\uc131\n    /// - Parameters:\n    ///   - foodId: \uc74c\uc2dd ID\n    ///   - selectedDate: \uc120\ud0dd\ub41c \ub0a0\uc9dc\n    ///   - selectedMealType: \uc120\ud0dd\ub41c \uc2dd\uc0ac \uc720\ud615\n    /// - Returns: FoodDetailViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeFoodDetailViewModel(\n        foodId: UUID,\n        selectedDate: Date,\n        selectedMealType: MealType\n    ) -> FoodDetailViewModel {\n        FoodDetailViewModel(\n            foodId: foodId,\n            selectedDate: selectedDate,\n            selectedMealType: selectedMealType,\n            foodRepository: foodRepository,\n            foodRecordService: foodRecordService\n        )\n    }\n\n    /// ManualFoodEntryViewModel \uc0dd\uc131\n    /// - Parameters:\n    ///   - selectedDate: \uc120\ud0dd\ub41c \ub0a0\uc9dc\n    ///   - selectedMealType: \uc120\ud0dd\ub41c \uc2dd\uc0ac \uc720\ud615\n    /// - Returns: ManualFoodEntryViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeManualFoodEntryViewModel(\n        selectedDate: Date,\n        selectedMealType: MealType\n    ) -> ManualFoodEntryViewModel {\n        ManualFoodEntryViewModel(\n            selectedDate: selectedDate,\n            selectedMealType: selectedMealType,\n            foodRepository: foodRepository,\n            foodRecordService: foodRecordService\n        )\n    }\n\n    // MARK: - Exercise Feature\n\n    /// \uc6b4\ub3d9 \ubaa9\ub85d ViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method\n    /// ViewModel \uc0dd\uc131 \uc2dc \ud544\uc694\ud55c \uc758\uc874\uc131\uc744 \uc8fc\uc785\n    /// \ud14c\uc2a4\ud2b8 \uc2dc Mock\uc73c\ub85c \uad50\uccb4 \uac00\ub2a5\n    func makeExerciseViewModel() -> ExerciseViewModel {\n        return ExerciseViewModel(exerciseRecordService: exerciseRecordService)\n    }\n\n    /// \uc6b4\ub3d9 \uc785\ub825 ViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method with Parameters\n    /// \uae30\uc874 \uc6b4\ub3d9 \ub808\ucf54\ub4dc\ub97c \ubc1b\uc544 \ud3b8\uc9d1 \ubaa8\ub4dc \uc9c0\uc6d0\n    ///\n    /// - Parameter existingRecord: \ud3b8\uc9d1\ud560 \uae30\uc874 \uc6b4\ub3d9 \ub808\ucf54\ub4dc (nil\uc774\uba74 \uc0dd\uc131 \ubaa8\ub4dc)\n    /// - Returns: \uc0dd\uc131\ub41c ExerciseInputViewModel\n    func makeExerciseInputViewModel(existingRecord: ExerciseRecord? = nil) -> ExerciseInputViewModel {\n        return ExerciseInputViewModel(\n            exerciseRecordService: exerciseRecordService,\n            existingRecord: existingRecord\n        )\n    }\n\n    // MARK: - Dashboard ViewModels\n\n    /// DashboardViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \uc77c\uc77c \ub300\uc2dc\ubcf4\ub4dc ViewModel \uc0dd\uc131\n    /// - DailyLogRepository \uc758\uc874\uc131 \uc8fc\uc785\n    /// - \uc0ac\uc6a9\uc790\ubcc4 \uc77c\uc77c \uc9d1\uacc4 \ub370\uc774\ud130 \uc870\ud68c\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameter userId: \uc0ac\uc6a9\uc790 ID\n    /// - Returns: \uc0c8\ub85c\uc6b4 DashboardViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeDashboardViewModel(userId: UUID) -> DashboardViewModel {\n        return DashboardViewModel(\n            dailyLogRepository: dailyLogRepository,\n            userId: userId\n        )\n    }\n\n    // MARK: - Photo Recognition ViewModels\n\n    /// PhotoRecognitionViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Complex ViewModel Factory\n    /// - AI \uc0ac\uc9c4 \uc778\uc2dd \uc6cc\ud06c\ud50c\ub85c\uc6b0\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc5ec\ub7ec \uc11c\ube44\uc2a4\uc758 \uc758\uc874\uc131\uc744 \uc870\ud569\ud558\uc5ec \uc8fc\uc785\n    /// - Vision API, \uc74c\uc2dd \ub9e4\uce6d, \uc2dd\ub2e8 \uae30\ub85d \uc11c\ube44\uc2a4 \ud1b5\ud569\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\ub85c \ubcf5\uc7a1\ud55c \uc758\uc874\uc131 \uadf8\ub798\ud504 \uad00\ub9ac\n    ///\n    /// - Parameters:\n    ///   - foodRecordService: \uc2dd\ub2e8 \uae30\ub85d \uc11c\ube44\uc2a4 (\uc678\ubd80\uc5d0\uc11c \uc8fc\uc785, Core Data \ucee8\ud14d\uc2a4\ud2b8 \uacf5\uc720\ub97c \uc704\ud574)\n    /// - Returns: \uc0c8\ub85c\uc6b4 PhotoRecognitionViewModel \uc778\uc2a4\ud134\uc2a4\n    func makePhotoRecognitionViewModel(\n        foodRecordService: FoodRecordServiceProtocol\n    ) -> PhotoRecognitionViewModel {\n        return PhotoRecognitionViewModel(\n            visionAPIService: visionAPIService,\n            foodLabelMatcher: foodLabelMatcherService,\n            foodRecordService: foodRecordService,\n            usageTracker: VisionAPIUsageTracker.shared\n        )\n    }\n\n    // MARK: - Goal ViewModels\n\n    /// GoalSettingViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ubaa9\ud45c \uc124\uc815 \ud654\uba74\uc6a9 ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameter userId: \uc0ac\uc6a9\uc790 ID (\ubaa9\ud45c \uc18c\uc720\uc790)\n    /// - Returns: \uc0c8\ub85c\uc6b4 GoalSettingViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeGoalSettingViewModel(userId: UUID) -> GoalSettingViewModel {\n        return GoalSettingViewModel(\n            setGoalUseCase: setGoalUseCase,\n            userId: userId\n        )\n    }\n\n    /// GoalProgressViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - \ubaa9\ud45c \uc9c4\ud589\uc0c1\ud669 \ud654\uba74\uc6a9 ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \uc0c8\ub85c\uc6b4 GoalProgressViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeGoalProgressViewModel() -> GoalProgressViewModel {\n        return GoalProgressViewModel(getGoalProgressUseCase: getGoalProgressUseCase)\n    }\n\n    // MARK: - Diet Comment ViewModels\n\n    /// DietCommentViewModel \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Factory Method Pattern\n    /// - AI \uc2dd\ub2e8 \ucf54\uba58\ud2b8 \ud45c\uc2dc\ub97c \uc704\ud55c ViewModel \uc0dd\uc131\n    /// - \uc758\uc874\uc131 \uc8fc\uc785\uc744 \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: @Bean \uba54\uc11c\ub4dc\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    ///   - goalType: \ubaa9\ud45c \ud0c0\uc785 (\uac10\ub7c9/\uc720\uc9c0/\uc99d\ub7c9)\n    ///   - tdee: \ucd1d \uc77c\uc77c \uc5d0\ub108\uc9c0 \uc18c\ube44\ub7c9\n    /// - Returns: \uc0c8\ub85c\uc6b4 DietCommentViewModel \uc778\uc2a4\ud134\uc2a4\n    func makeDietCommentViewModel(\n        userId: UUID,\n        goalType: GoalType,\n        tdee: Int\n    ) -> DietCommentViewModel {\n        return DietCommentViewModel(\n            generateCommentUseCase: generateDietCommentUseCase,\n            userId: userId,\n            userGoalType: goalType,\n            userTDEE: tdee\n        )\n    }\n\n    // TODO: \uac01 Feature \uad6c\ud604 \uc2dc Factory \uba54\uc11c\ub4dc \ucd94\uac00\n    // func makeOnboardingViewModel() -> OnboardingViewModel\n    // func makeFoodLogViewModel() -> FoodLogViewModel\n}\n\n// MARK: - Testing Support\n\n#if DEBUG\nextension DIContainer {\n\n    /// \ud14c\uc2a4\ud2b8\uc6a9 \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: #if DEBUG\n    /// \ub514\ubc84\uadf8 \ube4c\ub4dc\uc5d0\uc11c\ub9cc \ud3ec\ud568\ub418\ub294 \ucf54\ub4dc\n    /// \ud504\ub85c\ub355\uc158 \ube4c\ub4dc \ud06c\uae30\uc640 \ubcf4\uc548\uc5d0 \uc601\ud5a5 \uc5c6\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: BuildConfig.DEBUG \uccb4\ud06c\uc640 \uc720\uc0ac\n    static func makeForTesting() -> DIContainer {\n        return DIContainer()\n    }\n}\n#endif\n",
        "last_modified": "2026-01-18T19:07:52.241823"
      },
      "task_intent": {
        "title": "018-merge-all-worktrees-and-fix-xcode-project",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 293,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-11T19:04:11.948709",
  "last_updated": "2026-01-18T19:07:51.886948"
}