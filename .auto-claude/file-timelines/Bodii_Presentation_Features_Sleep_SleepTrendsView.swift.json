{
  "file_path": "Bodii/Presentation/Features/Sleep/SleepTrendsView.swift",
  "main_branch_history": [],
  "task_views": {
    "009-sleep-tracking-with-5-status-system": {
      "task_id": "009-sleep-tracking-with-5-status-system",
      "branch_point": {
        "commit_hash": "4e56d606f7b0d4cb74120dd392544f3fe2d4f5b4",
        "content": "",
        "timestamp": "2026-01-14T21:03:40.462795"
      },
      "worktree_state": {
        "content": "//\n//  SleepTrendsView.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-14.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Chart Display View Pattern for Sleep Trends\n// \ucc28\ud2b8 \uc911\uc2ec\uc758 \uc218\uba74 \ud2b8\ub80c\ub4dc \ubd84\uc11d \ud654\uba74\n// \ud83d\udca1 Java \ube44\uad50: Android\uc758 Chart Fragment\uc640 \uc720\uc0ac\ud558\uc9c0\ub9cc \ub354 \uc120\uc5b8\uc801\n\nimport SwiftUI\nimport Charts\n\n// MARK: - SleepTrendsView\n\n/// \uc218\uba74 \ud2b8\ub80c\ub4dc \ucc28\ud2b8 \ud654\uba74\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Chart-Focused View for Sleep Analytics\n/// - \uc218\uba74 \uc2dc\uac04 \ubc0f \ud488\uc9c8 \ud2b8\ub80c\ub4dc \ucc28\ud2b8 \ud45c\uc2dc\n/// - \uae30\uac04 \uc120\ud0dd \uae30\ub2a5 (7/30/90\uc77c)\n/// - \ud1b5\uacc4 \uc694\uc57d \uc815\ubcf4 \ud45c\uc2dc\n/// - \uc0c1\ud0dc\ubcc4 \ubd84\ud3ec \ud45c\uc2dc\n/// - \ube48 \uc0c1\ud0dc \ucc98\ub9ac\n/// \ud83d\udca1 Java \ube44\uad50: Android\uc758 Analytics Fragment\uc640 \uc720\uc0ac\nstruct SleepTrendsView: View {\n\n    // MARK: - Properties\n\n    /// ViewModel - \ud2b8\ub80c\ub4dc \ub370\uc774\ud130 \uad00\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: @StateObject\n    /// - View\uc758 \uc0dd\uba85\uc8fc\uae30\uc640 \uc5f0\uacb0\ub41c ObservableObject\n    /// - View\uac00 \uc0ac\ub77c\uc838\ub3c4 \uc0c1\ud0dc \uc720\uc9c0\n    /// \ud83d\udca1 Java \ube44\uad50: Android ViewModel\uacfc \uc720\uc0ac\n    @StateObject private var viewModel: SleepTrendsViewModel\n\n    /// \ud654\uba74 \ub2eb\uae30 \uc561\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Environment Dismiss\n    /// - Sheet\ub098 NavigationStack\uc5d0\uc11c \ud654\uba74\uc744 \ub2eb\uc744 \ub54c \uc0ac\uc6a9\n    /// \ud83d\udca1 Java \ube44\uad50: finish() \ub610\ub294 popBackStack()\uacfc \uc720\uc0ac\n    @Environment(\\.dismiss) private var dismiss\n\n    // MARK: - Initialization\n\n    /// SleepTrendsView \ucd08\uae30\ud654\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection via Constructor\n    /// - ViewModel\uc744 \uc678\ubd80\uc5d0\uc11c \uc8fc\uc785\ubc1b\uc74c\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc Mock ViewModel \uc8fc\uc785 \uac00\ub2a5\n    /// \ud83d\udca1 Java \ube44\uad50: Constructor injection\uacfc \uc720\uc0ac\n    ///\n    /// - Parameter viewModel: \ud2b8\ub80c\ub4dc ViewModel\n    init(viewModel: SleepTrendsViewModel) {\n        self._viewModel = StateObject(wrappedValue: viewModel)\n    }\n\n    // MARK: - Body\n\n    var body: some View {\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: NavigationStack\n        // iOS 16+\uc758 \uc0c8\ub85c\uc6b4 \ub124\ube44\uac8c\uc774\uc158 \uc2dc\uc2a4\ud15c\n        // \ud83d\udca1 Java \ube44\uad50: Navigation Component\uc640 \uc720\uc0ac\n        NavigationStack {\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: ScrollView for Scrollable Content\n            // \uc5ec\ub7ec \uc139\uc158\uc744 \uc2a4\ud06c\ub864 \uac00\ub2a5\ud558\uac8c \ud45c\uc2dc\n            ScrollView {\n                VStack(spacing: 20) {\n                    // \uae30\uac04 \uc120\ud0dd\uae30\n                    periodSelectorSection\n\n                    // \ucc28\ud2b8 \uc139\uc158\n                    if viewModel.isLoading {\n                        loadingView\n                    } else if viewModel.isEmpty {\n                        emptyStateView\n                    } else {\n                        // \ud1b5\uacc4 \uc694\uc57d\n                        statisticsSection\n\n                        // \uc218\uba74 \ud2b8\ub80c\ub4dc \ucc28\ud2b8\n                        sleepChartSection\n\n                        // \uc0c1\ud0dc \ubd84\ud3ec\n                        statusDistributionSection\n                    }\n                }\n                .padding(.horizontal, 16)\n                .padding(.vertical, 20)\n            }\n            .navigationTitle(\"\uc218\uba74 \ud2b8\ub80c\ub4dc \ubd84\uc11d\")\n            .navigationBarTitleDisplayMode(.large)\n            .toolbar {\n                ToolbarItem(placement: .navigationBarTrailing) {\n                    closeButton\n                }\n            }\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: refreshable modifier\n            // Pull-to-refresh \uad6c\ud604\n            .refreshable {\n                await viewModel.refresh()\n            }\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Alert for Errors\n            // \uc5d0\ub7ec \ubc1c\uc0dd \uc2dc \uc54c\ub9bc \ud45c\uc2dc\n            .alert(\"\uc624\ub958\", isPresented: .constant(viewModel.errorMessage != nil)) {\n                Button(\"\ud655\uc778\") {\n                    viewModel.clearError()\n                }\n            } message: {\n                if let errorMessage = viewModel.errorMessage {\n                    Text(errorMessage)\n                }\n            }\n        }\n    }\n\n    // MARK: - Subviews\n\n    /// \uae30\uac04 \uc120\ud0dd\uae30 \uc139\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Period Selector Section\n    /// - Picker\ub97c \uce74\ub4dc \uc548\uc5d0 \ubc30\uce58\n    private var periodSelectorSection: some View {\n        VStack(spacing: 12) {\n            HStack {\n                Image(systemName: \"calendar\")\n                    .font(.subheadline)\n                    .foregroundStyle(.purple)\n\n                Text(\"\ubd84\uc11d \uae30\uac04\")\n                    .font(.headline)\n                    .fontWeight(.semibold)\n                    .foregroundStyle(.primary)\n\n                Spacer()\n            }\n\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Segmented Picker\n            // iOS \uc2a4\ud0c0\uc77c \uc138\uadf8\uba3c\ud2b8 \ucee8\ud2b8\ub864\n            Picker(\"\uae30\uac04\", selection: $viewModel.selectedPeriod) {\n                Text(\"7\uc77c\").tag(FetchSleepStatsUseCase.StatsPeriod.week)\n                Text(\"30\uc77c\").tag(FetchSleepStatsUseCase.StatsPeriod.month)\n                Text(\"90\uc77c\").tag(FetchSleepStatsUseCase.StatsPeriod.quarter)\n            }\n            .pickerStyle(.segmented)\n        }\n        .padding(16)\n        .background(cardBackground)\n        .cornerRadius(12)\n        .shadow(color: Color.black.opacity(0.05), radius: 8, x: 0, y: 2)\n    }\n\n    /// \ud1b5\uacc4 \uc694\uc57d \uc139\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Statistics Summary for Sleep\n    /// - \ud3c9\uade0 \uc218\uba74 \uc2dc\uac04, \uc77c\uad00\uc131, \ud488\uc9c8 \uc9c0\ud45c \ud45c\uc2dc\n    private var statisticsSection: some View {\n        VStack(alignment: .leading, spacing: 12) {\n            // \uc139\uc158 \ud5e4\ub354\n            sectionHeader(\n                title: \"\ud1b5\uacc4 \uc694\uc57d\",\n                icon: \"chart.bar.fill\"\n            )\n\n            if let output = viewModel.statsOutput {\n                statisticsCard(output: output)\n            }\n        }\n    }\n\n    /// \ud1b5\uacc4 \uce74\ub4dc\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Statistics Display Card for Sleep\n    /// - \uc5ec\ub7ec \ud1b5\uacc4 \uc9c0\ud45c\ub97c \uadf8\ub9ac\ub4dc\ub85c \ud45c\uc2dc\n    ///\n    /// - Parameter output: \uc218\uba74 \ud1b5\uacc4 \ub370\uc774\ud130 \ucd9c\ub825\n    /// - Returns: \ud1b5\uacc4 \uce74\ub4dc \ubdf0\n    private func statisticsCard(output: FetchSleepStatsUseCase.Output) -> some View {\n        VStack(spacing: 16) {\n            // \ub370\uc774\ud130 \uae30\uac04\n            HStack {\n                Image(systemName: \"calendar\")\n                    .font(.caption)\n                    .foregroundStyle(.secondary)\n\n                Text(\"\uae30\uac04: \\(formatDate(output.startDate, style: .short)) - \\(formatDate(output.endDate, style: .short))\")\n                    .font(.caption)\n                    .foregroundStyle(.secondary)\n\n                Spacer()\n\n                Text(\"\\(output.count)\uac1c \uae30\ub85d\")\n                    .font(.caption)\n                    .fontWeight(.medium)\n                    .foregroundStyle(.purple)\n            }\n\n            Divider()\n\n            // \ud1b5\uacc4 \uadf8\ub9ac\ub4dc\n            LazyVGrid(columns: [\n                GridItem(.flexible()),\n                GridItem(.flexible())\n            ], spacing: 16) {\n                // \ud3c9\uade0 \uc218\uba74 \uc2dc\uac04\n                statisticItem(\n                    title: \"\ud3c9\uade0 \uc218\uba74\",\n                    value: viewModel.averageDurationString,\n                    icon: \"moon.fill\",\n                    color: .purple\n                )\n\n                // \uac00\uc7a5 \ub9ce\uc740 \uc218\uba74 \uc0c1\ud0dc\n                statisticItem(\n                    title: \"\uac00\uc7a5 \ub9ce\uc740 \uc0c1\ud0dc\",\n                    value: viewModel.mostCommonStatusString,\n                    icon: output.mostCommonStatus?.iconName ?? \"moon.stars\",\n                    color: output.mostCommonStatus?.color ?? .blue\n                )\n\n                // \uc88b\uc740 \uc218\uba74 \ube44\uc728\n                statisticItem(\n                    title: \"\uc88b\uc740 \uc218\uba74 \ube44\uc728\",\n                    value: viewModel.goodSleepPercentageString,\n                    icon: \"checkmark.circle.fill\",\n                    color: .green\n                )\n\n                // \uc77c\uad00\uc131 \uc810\uc218\n                statisticItem(\n                    title: \"\uc77c\uad00\uc131 \uc810\uc218\",\n                    value: viewModel.consistencyScoreString,\n                    icon: \"chart.line.uptrend.xyaxis\",\n                    color: .blue\n                )\n            }\n\n            // \ucd94\uc138 \uc815\ubcf4 (\uc788\ub294 \uacbd\uc6b0)\n            if let trend = viewModel.trendInfo {\n                Divider()\n\n                HStack(spacing: 8) {\n                    Image(systemName: trend.change >= 0 ? \"arrow.up.circle.fill\" : \"arrow.down.circle.fill\")\n                        .font(.subheadline)\n                        .foregroundStyle(trend.change >= 0 ? .green : .orange)\n\n                    Text(\"\ucd5c\uadfc \ucd94\uc138: \\(viewModel.trendString)\")\n                        .font(.subheadline)\n                        .foregroundStyle(.secondary)\n\n                    Spacer()\n                }\n            }\n        }\n        .padding(16)\n        .background(cardBackground)\n        .cornerRadius(12)\n        .shadow(color: Color.black.opacity(0.05), radius: 8, x: 0, y: 2)\n    }\n\n    /// \uac1c\ubcc4 \ud1b5\uacc4 \uc544\uc774\ud15c\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Reusable Statistic Item\n    /// - \ud1b5\uacc4 \uc9c0\ud45c\ub97c \uc77c\uad00\ub41c \ud615\uc2dd\uc73c\ub85c \ud45c\uc2dc\n    ///\n    /// - Parameters:\n    ///   - title: \ud1b5\uacc4 \uc81c\ubaa9\n    ///   - value: \ud1b5\uacc4 \uac12\n    ///   - icon: SF Symbol \uc544\uc774\ucf58\n    ///   - color: \uac15\uc870 \uc0c9\uc0c1\n    /// - Returns: \ud1b5\uacc4 \uc544\uc774\ud15c \ubdf0\n    private func statisticItem(\n        title: String,\n        value: String,\n        icon: String,\n        color: Color\n    ) -> some View {\n        VStack(alignment: .leading, spacing: 8) {\n            // \uc544\uc774\ucf58\uacfc \uc81c\ubaa9\n            HStack(spacing: 4) {\n                Image(systemName: icon)\n                    .font(.caption2)\n                    .foregroundStyle(color)\n\n                Text(title)\n                    .font(.caption)\n                    .foregroundStyle(.secondary)\n            }\n\n            // \uac12\n            Text(value)\n                .font(.title3)\n                .fontWeight(.semibold)\n                .foregroundStyle(.primary)\n        }\n        .frame(maxWidth: .infinity, alignment: .leading)\n        .padding(12)\n        .background(\n            RoundedRectangle(cornerRadius: 8)\n                .fill(Color(.secondarySystemBackground))\n        )\n    }\n\n    /// \uc218\uba74 \ucc28\ud2b8 \uc139\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Chart Section\n    /// - SleepBarChart\ub97c \uce74\ub4dc \uc548\uc5d0 \ubc30\uce58\n    private var sleepChartSection: some View {\n        VStack(spacing: 0) {\n            SleepBarChart(\n                viewModel: viewModel,\n                isInteractive: true,\n                height: 300,\n                showStatusLegend: true\n            )\n            .padding(16)\n        }\n        .background(cardBackground)\n        .cornerRadius(12)\n        .shadow(color: Color.black.opacity(0.05), radius: 8, x: 0, y: 2)\n    }\n\n    /// \uc0c1\ud0dc \ubd84\ud3ec \uc139\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Status Distribution Display\n    /// - \uc218\uba74 \uc0c1\ud0dc\ubcc4 \ube48\ub3c4\ub97c \uc2dc\uac01\uc801\uc73c\ub85c \ud45c\uc2dc\n    private var statusDistributionSection: some View {\n        VStack(alignment: .leading, spacing: 12) {\n            // \uc139\uc158 \ud5e4\ub354\n            sectionHeader(\n                title: \"\uc218\uba74 \uc0c1\ud0dc \ubd84\ud3ec\",\n                icon: \"chart.pie.fill\"\n            )\n\n            if let output = viewModel.statsOutput {\n                statusDistributionCard(statusStats: output.statusStats)\n            }\n        }\n    }\n\n    /// \uc0c1\ud0dc \ubd84\ud3ec \uce74\ub4dc\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Status Distribution Card\n    /// - \uac01 \uc218\uba74 \uc0c1\ud0dc\uc758 \ud69f\uc218\uc640 \ube44\uc728\uc744 \ud45c\uc2dc\n    ///\n    /// - Parameter statusStats: \uc0c1\ud0dc\ubcc4 \ud1b5\uacc4\n    /// - Returns: \uc0c1\ud0dc \ubd84\ud3ec \uce74\ub4dc \ubdf0\n    private func statusDistributionCard(statusStats: [FetchSleepStatsUseCase.StatusStats]) -> some View {\n        VStack(spacing: 12) {\n            // \uc0c1\ud0dc\ubcc4 \ud45c\uc2dc\n            ForEach(statusStats) { stat in\n                statusDistributionRow(stat: stat)\n            }\n\n            // \ube48 \uc0c1\ud0dc (\ub370\uc774\ud130\uac00 \uc5c6\ub294 \uacbd\uc6b0)\n            if statusStats.isEmpty {\n                Text(\"\uc0c1\ud0dc\ubcc4 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4\")\n                    .font(.subheadline)\n                    .foregroundStyle(.secondary)\n                    .frame(maxWidth: .infinity)\n                    .padding(.vertical, 20)\n            }\n        }\n        .padding(16)\n        .background(cardBackground)\n        .cornerRadius(12)\n        .shadow(color: Color.black.opacity(0.05), radius: 8, x: 0, y: 2)\n    }\n\n    /// \uc0c1\ud0dc \ubd84\ud3ec \ud589\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Status Distribution Row\n    /// - \ud558\ub098\uc758 \uc218\uba74 \uc0c1\ud0dc\uc5d0 \ub300\ud55c \uc815\ubcf4 \ud45c\uc2dc\n    ///\n    /// - Parameter stat: \uc0c1\ud0dc \ud1b5\uacc4\n    /// - Returns: \uc0c1\ud0dc \ubd84\ud3ec \ud589 \ubdf0\n    private func statusDistributionRow(stat: FetchSleepStatsUseCase.StatusStats) -> some View {\n        VStack(spacing: 8) {\n            // \uc0c1\ud0dc \uc815\ubcf4\n            HStack {\n                // \uc544\uc774\ucf58\uacfc \uc774\ub984\n                HStack(spacing: 8) {\n                    Image(systemName: stat.status.iconName)\n                        .font(.body)\n                        .foregroundStyle(stat.status.color)\n                        .frame(width: 24)\n\n                    Text(stat.status.displayName)\n                        .font(.subheadline)\n                        .fontWeight(.medium)\n                        .foregroundStyle(.primary)\n                }\n\n                Spacer()\n\n                // \ud69f\uc218\uc640 \ube44\uc728\n                HStack(spacing: 12) {\n                    Text(\"\\(stat.count)\ud68c\")\n                        .font(.subheadline)\n                        .foregroundStyle(.secondary)\n\n                    Text(String(format: \"%.0f%%\", stat.percentage * 100))\n                        .font(.subheadline)\n                        .fontWeight(.semibold)\n                        .foregroundStyle(stat.status.color)\n                }\n            }\n\n            // \uc9c4\ud589 \ubc14\n            GeometryReader { geometry in\n                ZStack(alignment: .leading) {\n                    // \ubc30\uacbd \ubc14\n                    RoundedRectangle(cornerRadius: 4)\n                        .fill(Color(.systemGray5))\n                        .frame(height: 8)\n\n                    // \ucc44\uc6cc\uc9c4 \ubc14\n                    RoundedRectangle(cornerRadius: 4)\n                        .fill(stat.status.color)\n                        .frame(width: geometry.size.width * CGFloat(stat.percentage), height: 8)\n                }\n            }\n            .frame(height: 8)\n        }\n    }\n\n    /// \ub2eb\uae30 \ubc84\ud2bc\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Toolbar Item\n    /// - \ub124\ube44\uac8c\uc774\uc158 \ubc14\uc5d0 \ub2eb\uae30 \ubc84\ud2bc \ucd94\uac00\n    private var closeButton: some View {\n        Button(action: {\n            dismiss()\n        }) {\n            HStack(spacing: 4) {\n                Image(systemName: \"xmark.circle.fill\")\n                    .font(.subheadline)\n                Text(\"\ub2eb\uae30\")\n                    .font(.subheadline)\n                    .fontWeight(.medium)\n            }\n            .foregroundStyle(.purple)\n        }\n    }\n\n    /// \ub85c\ub529 \ubdf0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Loading State UI\n    private var loadingView: some View {\n        VStack(spacing: 16) {\n            ProgressView()\n                .scaleEffect(1.5)\n\n            Text(\"\uc218\uba74 \ud2b8\ub80c\ub4dc \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911...\")\n                .font(.subheadline)\n                .foregroundStyle(.secondary)\n        }\n        .frame(maxWidth: .infinity)\n        .frame(height: 300)\n        .background(cardBackground)\n        .cornerRadius(12)\n        .shadow(color: Color.black.opacity(0.05), radius: 8, x: 0, y: 2)\n    }\n\n    /// \ube48 \uc0c1\ud0dc \ubdf0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Empty State UI\n    /// - \ub370\uc774\ud130\uac00 \uc5c6\uc744 \ub54c \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc548\ub0b4\n    private var emptyStateView: some View {\n        VStack(spacing: 20) {\n            Image(systemName: \"moon.zzz\")\n                .font(.system(size: 70))\n                .foregroundStyle(.purple.opacity(0.3))\n\n            VStack(spacing: 8) {\n                Text(\"\uc218\uba74 \ud2b8\ub80c\ub4dc \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4\")\n                    .font(.headline)\n                    .fontWeight(.semibold)\n                    .foregroundStyle(.primary)\n\n                Text(\"\uc120\ud0dd\ud55c \uae30\uac04 \ub3d9\uc548\uc758 \uc218\uba74 \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.\\n\uc218\uba74 \uae30\ub85d\uc744 \uc785\ub825\ud558\uba74\\n\ud2b8\ub80c\ub4dc\ub97c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\")\n                    .font(.subheadline)\n                    .foregroundStyle(.secondary)\n                    .multilineTextAlignment(.center)\n            }\n\n            // \ub2e4\ub978 \uae30\uac04 \uc120\ud0dd \uc548\ub0b4\n            VStack(spacing: 12) {\n                Text(\"\ub2e4\ub978 \uae30\uac04\uc744 \uc120\ud0dd\ud574\ubcf4\uc138\uc694:\")\n                    .font(.caption)\n                    .fontWeight(.medium)\n                    .foregroundStyle(.secondary)\n\n                // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Inline Period Picker\n                // \ube48 \uc0c1\ud0dc\uc5d0\uc11c\ub3c4 \uae30\uac04\uc744 \uc27d\uac8c \ubcc0\uacbd\ud560 \uc218 \uc788\ub3c4\ub85d\n                Picker(\"\uae30\uac04\", selection: $viewModel.selectedPeriod) {\n                    Text(\"7\uc77c\").tag(FetchSleepStatsUseCase.StatsPeriod.week)\n                    Text(\"30\uc77c\").tag(FetchSleepStatsUseCase.StatsPeriod.month)\n                    Text(\"90\uc77c\").tag(FetchSleepStatsUseCase.StatsPeriod.quarter)\n                }\n                .pickerStyle(.segmented)\n                .frame(maxWidth: 250)\n            }\n            .padding(.top, 8)\n        }\n        .frame(maxWidth: .infinity)\n        .frame(height: 400)\n        .padding(.horizontal, 32)\n        .background(cardBackground)\n        .cornerRadius(12)\n        .shadow(color: Color.black.opacity(0.05), radius: 8, x: 0, y: 2)\n    }\n\n    /// \uc139\uc158 \ud5e4\ub354\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Section Header Component\n    ///\n    /// - Parameters:\n    ///   - title: \uc139\uc158 \uc81c\ubaa9\n    ///   - icon: SF Symbol \uc544\uc774\ucf58\n    /// - Returns: \uc139\uc158 \ud5e4\ub354 \ubdf0\n    private func sectionHeader(title: String, icon: String) -> some View {\n        HStack(spacing: 8) {\n            Image(systemName: icon)\n                .font(.subheadline)\n                .foregroundStyle(.purple)\n\n            Text(title)\n                .font(.headline)\n                .fontWeight(.semibold)\n                .foregroundStyle(.primary)\n        }\n    }\n\n    /// \uce74\ub4dc \ubc30\uacbd\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Adaptive Colors\n    /// - \ub77c\uc774\ud2b8/\ub2e4\ud06c \ubaa8\ub4dc\uc5d0 \uc790\ub3d9 \ub300\uc751\ud558\ub294 \uc0c9\uc0c1\n    private var cardBackground: some View {\n        RoundedRectangle(cornerRadius: 12)\n            .fill(Color(.systemBackground))\n            .overlay(\n                RoundedRectangle(cornerRadius: 12)\n                    .stroke(Color(.systemGray5), lineWidth: 1)\n            )\n    }\n\n    // MARK: - Helper Methods\n\n    /// \ub0a0\uc9dc \ud3ec\ub9f7\ud305\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Date Formatting\n    ///\n    /// - Parameters:\n    ///   - date: \ub0a0\uc9dc\n    ///   - style: \ub0a0\uc9dc \uc2a4\ud0c0\uc77c (\uae30\ubcf8\uac12: .medium)\n    /// - Returns: \ud3ec\ub9f7\ub41c \ubb38\uc790\uc5f4\n    private func formatDate(_ date: Date, style: DateFormatter.Style = .medium) -> String {\n        let formatter = DateFormatter()\n        formatter.dateStyle = style\n        formatter.timeStyle = .none\n        formatter.locale = Locale(identifier: \"ko_KR\")\n        return formatter.string(from: date)\n    }\n}\n\n// MARK: - Preview\n\n#if DEBUG\n#Preview(\"\uae30\ubcf8 \uc0c1\ud0dc\") {\n    // TODO: ViewModel Mock \uad6c\ud604 \ud6c4 Preview \ucd94\uac00\n    // SleepTrendsView(viewModel: .makePreview())\n    Text(\"Preview\ub97c \uc704\ud574 Mock ViewModel\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\")\n}\n\n#Preview(\"\ub370\uc774\ud130 \uc788\uc74c\") {\n    // TODO: ViewModel Mock \uad6c\ud604 \ud6c4 Preview \ucd94\uac00\n    Text(\"Preview\ub97c \uc704\ud574 Mock ViewModel\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\")\n}\n\n#Preview(\"\ube48 \uc0c1\ud0dc\") {\n    // TODO: ViewModel Mock \uad6c\ud604 \ud6c4 Preview \ucd94\uac00\n    Text(\"Preview\ub97c \uc704\ud574 Mock ViewModel\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\")\n}\n\n#Preview(\"\ub2e4\ud06c \ubaa8\ub4dc\") {\n    // TODO: ViewModel Mock \uad6c\ud604 \ud6c4 Preview \ucd94\uac00\n    Text(\"Preview\ub97c \uc704\ud574 Mock ViewModel\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\")\n        .preferredColorScheme(.dark)\n}\n#endif\n\n// MARK: - Documentation\n\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: SleepTrendsView \uc0ac\uc6a9\ubc95\n///\n/// \uae30\ubcf8 \uc0ac\uc6a9 (DIContainer\uc5d0\uc11c \uc0dd\uc131):\n/// ```swift\n/// struct ContentView: View {\n///     let container: DIContainer\n///\n///     var body: some View {\n///         SleepTrendsView(\n///             viewModel: container.makeSleepTrendsViewModel()\n///         )\n///     }\n/// }\n/// ```\n///\n/// Sheet\ub85c \ud45c\uc2dc (\uad8c\uc7a5):\n/// ```swift\n/// struct SleepTabView: View {\n///     @State private var showTrendsView = false\n///\n///     var body: some View {\n///         VStack {\n///             Button(\"\ud2b8\ub80c\ub4dc \ubcf4\uae30\") {\n///                 showTrendsView = true\n///             }\n///         }\n///         .sheet(isPresented: $showTrendsView) {\n///             SleepTrendsView(\n///                 viewModel: trendsViewModel\n///             )\n///         }\n///     }\n/// }\n/// ```\n///\n/// NavigationLink\ub85c \ud45c\uc2dc:\n/// ```swift\n/// NavigationLink(\"\ud2b8\ub80c\ub4dc \ubd84\uc11d\") {\n///     SleepTrendsView(\n///         viewModel: trendsViewModel\n///     )\n/// }\n/// ```\n///\n/// \uc8fc\uc694 \uae30\ub2a5:\n/// - \uae30\uac04 \uc120\ud0dd (7/30/90\uc77c)\n/// - \uc218\uba74 \uc2dc\uac04 \ud2b8\ub80c\ub4dc \ucc28\ud2b8 (\uc0c1\ud0dc\ubcc4 \uc0c9\uc0c1 \uad6c\ubd84)\n/// - \ud1b5\uacc4 \uc694\uc57d (\ud3c9\uade0, \uc77c\uad00\uc131, \uc88b\uc740 \uc218\uba74 \ube44\uc728, \ucd94\uc138)\n/// - \uc0c1\ud0dc\ubcc4 \ubd84\ud3ec (\ud69f\uc218\uc640 \ube44\uc728)\n/// - \uc778\ud130\ub799\ud2f0\ube0c \ucc28\ud2b8 (\ud0ed\ud558\uc5ec \uc0c1\uc138 \uc815\ubcf4)\n/// - Pull-to-refresh \uc0c8\ub85c\uace0\uce68\n/// - \ube48 \uc0c1\ud0dc \ucc98\ub9ac\n/// - \ub85c\ub529 \ubc0f \uc5d0\ub7ec \uc0c1\ud0dc \ud45c\uc2dc\n///\n/// \ud654\uba74 \uad6c\uc131:\n/// 1. \uae30\uac04 \uc120\ud0dd\uae30: 7/30/90\uc77c \uc138\uadf8\uba3c\ud2b8 \ucee8\ud2b8\ub864\n/// 2. \ud1b5\uacc4 \uc694\uc57d: \ud3c9\uade0 \uc218\uba74, \uc77c\uad00\uc131, \uc88b\uc740 \uc218\uba74 \ube44\uc728, \ucd94\uc138\n/// 3. \uc218\uba74 \ucc28\ud2b8: SleepBarChart (\uc0c1\ud0dc\ubcc4 \uc0c9\uc0c1)\n/// 4. \uc0c1\ud0dc \ubd84\ud3ec: \uac01 \uc0c1\ud0dc\uc758 \ud69f\uc218\uc640 \ube44\uc728\n///\n/// \ub124\ube44\uac8c\uc774\uc158:\n/// - NavigationStack \uc0ac\uc6a9\n/// - \ub2eb\uae30 \ubc84\ud2bc\uc73c\ub85c dismiss\n/// - Environment dismiss \uc0ac\uc6a9\n///\n/// \uc0c1\ud0dc \uad00\ub9ac:\n/// - ViewModel\uc758 @Published \ud504\ub85c\ud37c\ud2f0 \uad00\ucc30\n/// - @StateObject\ub85c ViewModel \uc0dd\uba85\uc8fc\uae30 \uad00\ub9ac\n/// - @Environment(\\.dismiss)\ub85c \ud654\uba74 \ub2eb\uae30\n///\n/// \uc5d0\ub7ec \ucc98\ub9ac:\n/// - Alert\ub85c \uc5d0\ub7ec \uba54\uc2dc\uc9c0 \ud45c\uc2dc\n/// - ViewModel\uc5d0\uc11c \uc5d0\ub7ec \uc0c1\ud0dc \uad00\ub9ac\n/// - \uc0ac\uc6a9\uc790 \uce5c\ud654\uc801\uc778 \ud55c\uae00 \uba54\uc2dc\uc9c0\n///\n/// \ud83d\udca1 Android \ube44\uad50:\n/// - Android: Fragment + Chart + Statistics + Distribution\n/// - SwiftUI: View + ScrollView + Chart + Stats + Distribution\n/// - Android: RecyclerView with different view types\n/// - SwiftUI: VStack with different sections\n/// - Android: SwipeRefreshLayout\n/// - SwiftUI: .refreshable modifier\n///\n/// \uc811\uadfc\uc131:\n/// - VoiceOver \uc9c0\uc6d0\n/// - Dynamic Type \uc9c0\uc6d0\n/// - \ucda9\ubd84\ud55c \ud130\uce58 \uc601\uc5ed\n/// - \uba85\ud655\ud55c \ub808\uc774\ube14\uacfc \ud78c\ud2b8\n///\n/// \uc131\ub2a5 \ucd5c\uc801\ud654:\n/// - ScrollView\ub85c \uc2a4\ud06c\ub864 \uac00\ub2a5\n/// - \ucc28\ud2b8\ub294 \uc120\ud0dd\uc801 \uc0c1\ud638\uc791\uc6a9 (isInteractive)\n/// - ViewModel\uc5d0\uc11c \ub370\uc774\ud130 \uce90\uc2f1\n/// - \uae30\uac04 \ubcc0\uacbd \uc2dc debounce\ub85c \uc911\ubcf5 \ud638\ucd9c \ubc29\uc9c0\n///\n/// SleepHistoryView\uc640\uc758 \ucc28\uc774:\n/// - SleepHistoryView: \ub9ac\uc2a4\ud2b8 \ud45c\uc2dc \ubc0f \ud3b8\uc9d1/\uc0ad\uc81c\n/// - SleepTrendsView: \ucc28\ud2b8 \ubc0f \ud1b5\uacc4 \ubd84\uc11d \ud45c\uc2dc\n/// - SleepHistoryView: CRUD \uc791\uc5c5 \uc911\uc2ec\n/// - SleepTrendsView: \ub370\uc774\ud130 \ubd84\uc11d \ubc0f \uc2dc\uac01\ud654 \uc911\uc2ec\n///\n/// BodyTrendsView\uc640\uc758 \uc720\uc0ac\uc810:\n/// - \ub3d9\uc77c\ud55c \uad6c\uc870 \ud328\ud134 (\uae30\uac04 \uc120\ud0dd + \ud1b5\uacc4 + \ucc28\ud2b8)\n/// - \ub3d9\uc77c\ud55c \ub124\ube44\uac8c\uc774\uc158 \ud328\ud134\n/// - \ub3d9\uc77c\ud55c \uc0c1\ud0dc \uad00\ub9ac \ubc29\uc2dd\n/// - \ucc28\uc774\uc810: \uc218\uba74 \ub370\uc774\ud130\ub294 \uc0c1\ud0dc\ubcc4 \uc0c9\uc0c1 \uad6c\ubd84, \uc0c1\ud0dc \ubd84\ud3ec \uc139\uc158 \ucd94\uac00\n///\n",
        "last_modified": "2026-01-14T22:52:08.914359"
      },
      "task_intent": {
        "title": "009-sleep-tracking-with-5-status-system",
        "description": "Sleep logging with 5-status tracking (bad, soso, good, excellent, oversleep), duration input, wake time prompts, and correlation with other health metrics. Automatic morning prompt to log previous night's sleep.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-14T18:01:05.033760",
  "last_updated": "2026-01-14T21:03:40.647732"
}