{
  "file_path": "Bodii/Presentation/Features/Sleep/SleepInputSheet.swift",
  "main_branch_history": [],
  "task_views": {
    "009-sleep-tracking-with-5-status-system": {
      "task_id": "009-sleep-tracking-with-5-status-system",
      "branch_point": {
        "commit_hash": "4e56d606f7b0d4cb74120dd392544f3fe2d4f5b4",
        "content": "",
        "timestamp": "2026-01-14T21:03:40.462795"
      },
      "worktree_state": {
        "content": "//\n//  SleepInputSheet.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-14.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Bottom Sheet for Sleep Input\n// SwiftUI Sheet\ub97c \uc0ac\uc6a9\ud55c \uc218\uba74 \uc2dc\uac04 \uc785\ub825 \ud654\uba74\n// \ud83d\udca1 Java \ube44\uad50: Android\uc758 BottomSheetDialogFragment\uc640 \uc720\uc0ac\n\nimport SwiftUI\n\n// MARK: - SleepInputSheet\n\n/// \uc218\uba74 \uc2dc\uac04 \uc785\ub825\uc744 \uc704\ud55c Bottom Sheet\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Modal Sheet Pattern\n/// - DurationPicker\ub85c \uc2dc\uac04/\ubd84 \uc785\ub825\n/// - \uc2e4\uc2dc\uac04 \uc0c1\ud0dc \ubbf8\ub9ac\ubcf4\uae30 (SleepStatusBadge)\n/// - \uc800\uc7a5/\uac74\ub108\ub6f0\uae30 \ubc84\ud2bc\n/// - 3\ud68c \uac74\ub108\ub6f0\uae30 \ud6c4 \uac15\uc81c \uc785\ub825 \uc9c0\uc6d0\n/// - ViewModel\uacfc \ud1b5\ud569\ud558\uc5ec MVVM \ud328\ud134 \uad6c\ud604\n/// \ud83d\udca1 Java \ube44\uad50: Android\uc758 BottomSheetDialog + ViewModel\uacfc \uc720\uc0ac\nstruct SleepInputSheet: View {\n\n    // MARK: - Properties\n\n    /// ViewModel - \uc218\uba74 \uc785\ub825 \ub370\uc774\ud130 \uad00\ub9ac\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: @StateObject\n    /// - Sheet\uc758 \uc0dd\uba85\uc8fc\uae30\uc640 \uc5f0\uacb0\ub41c ObservableObject\n    /// - Sheet\uac00 \uc0ac\ub77c\uc838\ub3c4 \uc0c1\ud0dc \uc720\uc9c0 (\uc7ac\uc0dd\uc131 \uc2dc \uc0c8\ub85c \uc0dd\uc131\ub428)\n    /// \ud83d\udca1 Java \ube44\uad50: Android ViewModel\uacfc \uc720\uc0ac\n    @StateObject private var viewModel: SleepInputViewModel\n\n    /// Sheet \ub2eb\uae30 \uc561\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: @Environment(\\.dismiss)\n    /// - SwiftUI \ud658\uacbd \ubcc0\uc218\ub97c \ud1b5\ud574 Sheet \ub2eb\uae30\n    /// - iOS 15+\uc5d0\uc11c \uc0ac\uc6a9 \uac00\ub2a5\n    /// \ud83d\udca1 Java \ube44\uad50: Activity.finish() \ub610\ub294 dismiss()\uc640 \uc720\uc0ac\n    @Environment(\\.dismiss) var dismiss\n\n    /// \uac74\ub108\ub6f0\uae30 \uac00\ub2a5 \uc5ec\ubd80\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Skip Control\n    /// - true: \uac74\ub108\ub6f0\uae30 \ubc84\ud2bc \ud45c\uc2dc (\uae30\ubcf8\uac12)\n    /// - false: \uc800\uc7a5\ub9cc \uac00\ub2a5 (3\ud68c \uac74\ub108\ub6f0\uae30 \ud6c4 \uac15\uc81c \uc785\ub825)\n    var canSkip: Bool = true\n\n    /// \uac74\ub108\ub6f0\uae30 \ucf5c\ubc31\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Optional Callback\n    /// - \uc0ac\uc6a9\uc790\uac00 \uac74\ub108\ub6f0\uae30\ub97c \uc120\ud0dd\ud588\uc744 \ub54c \ud638\ucd9c\n    /// - SleepPromptManager\uc5d0\uc11c \uac74\ub108\ub6f0\uae30 \ud69f\uc218 \uc99d\uac00\uc5d0 \uc0ac\uc6a9\n    var onSkip: (() -> Void)?\n\n    // MARK: - Initialization\n\n    /// SleepInputSheet \ucd08\uae30\ud654\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection via Constructor\n    /// - ViewModel\uc744 \uc678\ubd80\uc5d0\uc11c \uc8fc\uc785\ubc1b\uc74c\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc Mock ViewModel \uc8fc\uc785 \uac00\ub2a5\n    /// \ud83d\udca1 Java \ube44\uad50: Constructor injection\uacfc \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - viewModel: \uc218\uba74 \uc785\ub825 ViewModel\n    ///   - canSkip: \uac74\ub108\ub6f0\uae30 \uac00\ub2a5 \uc5ec\ubd80 (\uae30\ubcf8\uac12: true)\n    ///   - onSkip: \uac74\ub108\ub6f0\uae30 \ucf5c\ubc31 (\uae30\ubcf8\uac12: nil)\n    init(\n        viewModel: SleepInputViewModel,\n        canSkip: Bool = true,\n        onSkip: (() -> Void)? = nil\n    ) {\n        self._viewModel = StateObject(wrappedValue: viewModel)\n        self.canSkip = canSkip\n        self.onSkip = onSkip\n    }\n\n    // MARK: - Body\n\n    var body: some View {\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: NavigationStack in Sheet\n        // Sheet \ub0b4\ubd80\uc5d0 NavigationStack\uc744 \ub123\uc5b4 \ud0c0\uc774\ud2c0\uacfc \ud234\ubc14 \uc0ac\uc6a9\n        NavigationStack {\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: ScrollView for Content\n            // \ud0a4\ubcf4\ub4dc\uac00 \uc62c\ub77c\uc62c \ub54c\ub97c \ub300\ube44\ud558\uc5ec \uc2a4\ud06c\ub864 \uac00\ub2a5\ud558\uac8c \uad6c\uc131\n            ScrollView {\n                VStack(spacing: 24) {\n                    // \ud5e4\ub354 \uc139\uc158\n                    headerSection\n\n                    Divider()\n\n                    // \ud53c\ucee4 \uc139\uc158\n                    pickerSection\n\n                    // \uc0c1\ud0dc \ubbf8\ub9ac\ubcf4\uae30 \uc139\uc158\n                    statusPreviewSection\n\n                    // \uc694\uc57d \uce74\ub4dc\n                    summaryCard\n\n                    Spacer()\n                        .frame(height: 20)\n\n                    // \ubc84\ud2bc \uc139\uc158\n                    buttonSection\n                }\n                .padding()\n            }\n            .navigationTitle(\"\uc218\uba74 \uae30\ub85d\")\n            .navigationBarTitleDisplayMode(.inline)\n            .toolbar {\n                // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Toolbar Item\n                // \ub124\ube44\uac8c\uc774\uc158 \ubc14\uc5d0 \ub2eb\uae30 \ubc84\ud2bc \ucd94\uac00 (\uac74\ub108\ub6f0\uae30 \uac00\ub2a5\ud560 \ub54c\ub9cc)\n                if canSkip {\n                    ToolbarItem(placement: .navigationBarLeading) {\n                        Button(\"\ub2eb\uae30\") {\n                            dismiss()\n                        }\n                        .accessibilityLabel(\"\ub2eb\uae30\")\n                        .accessibilityHint(\"\ub450 \ubc88 \ud0ed\ud558\uc5ec \uc218\uba74 \uc785\ub825 \ud654\uba74\uc744 \ub2eb\uc2b5\ub2c8\ub2e4\")\n                    }\n                }\n            }\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: onChange Modifier\n            // ViewModel\uc758 isCompleted \uc0c1\ud0dc \uac10\uc9c0\ud558\uc5ec \uc790\ub3d9\uc73c\ub85c Sheet \ub2eb\uae30\n            .onChange(of: viewModel.isCompleted) { _, completed in\n                if completed {\n                    dismiss()\n                }\n            }\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Alert for Errors\n            // \uc5d0\ub7ec \ubc1c\uc0dd \uc2dc \uc54c\ub9bc \ud45c\uc2dc\n            .alert(\"\uc624\ub958\", isPresented: .constant(viewModel.errorMessage != nil)) {\n                Button(\"\ud655\uc778\") {\n                    viewModel.clearError()\n                }\n            } message: {\n                if let errorMessage = viewModel.errorMessage {\n                    Text(errorMessage)\n                }\n            }\n        }\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Presentation Detents\n        // Sheet\uc758 \ub192\uc774\ub97c medium\uc73c\ub85c \uc124\uc815 (\ud654\uba74\uc758 \uc57d \uc808\ubc18)\n        .presentationDetents([.medium, .large])\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Interactive Dismiss Control\n        // \uac15\uc81c \uc785\ub825 \ubaa8\ub4dc\uc77c \ub54c\ub294 \uc2a4\uc640\uc774\ud504\ub85c \ub2eb\uae30 \ube44\ud65c\uc131\ud654\n        .interactiveDismissDisabled(!canSkip)\n    }\n\n    // MARK: - Subviews\n\n    /// \ud5e4\ub354 \uc139\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Header with Icon and Text\n    /// - \uc2dc\uac01\uc801\uc73c\ub85c \uba85\ud655\ud55c \ud654\uba74 \ubaa9\uc801 \uc804\ub2ec\n    private var headerSection: some View {\n        VStack(spacing: 8) {\n            // \uc544\uc774\ucf58\n            Image(systemName: \"moon.stars.fill\")\n                .font(.system(size: 50))\n                .foregroundStyle(.blue)\n                .accessibilityHidden(true)\n\n            // \uc81c\ubaa9\n            Text(\"\uc5b4\uc82f\ubc24 \uc218\uba74 \uc2dc\uac04\")\n                .font(.title2)\n                .fontWeight(.bold)\n\n            // \ubd80\uc81c\ubaa9\n            Text(\"\uba87 \uc2dc\uac04 \uc8fc\ubb34\uc168\ub098\uc694?\")\n                .font(.subheadline)\n                .foregroundStyle(.secondary)\n\n            // \uac15\uc81c \uc785\ub825 \uc548\ub0b4 \uba54\uc2dc\uc9c0 (\uac74\ub108\ub6f0\uae30 \ubd88\uac00\ub2a5\ud560 \ub54c)\n            if !canSkip {\n                HStack(spacing: 6) {\n                    Image(systemName: \"exclamationmark.triangle.fill\")\n                        .font(.caption)\n                        .foregroundStyle(.orange)\n\n                    Text(\"\uc624\ub298\uc740 \uaf2d \uc785\ub825\ud574\uc8fc\uc138\uc694\")\n                        .font(.caption)\n                        .fontWeight(.medium)\n                        .foregroundStyle(.orange)\n                }\n                .padding(.horizontal, 12)\n                .padding(.vertical, 6)\n                .background(\n                    RoundedRectangle(cornerRadius: 6)\n                        .fill(Color.orange.opacity(0.1))\n                )\n                .padding(.top, 4)\n                .accessibilityElement(children: .combine)\n                .accessibilityLabel(\"\uacbd\uace0: \uc624\ub298\uc740 \uaf2d \uc785\ub825\ud574\uc8fc\uc138\uc694\")\n            }\n        }\n    }\n\n    /// \ud53c\ucee4 \uc139\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Compact Picker in Sheet\n    /// - \ucef4\ud329\ud2b8 \uc2a4\ud0c0\uc77c\ub85c \uacf5\uac04 \ud6a8\uc728\uc801 \uc0ac\uc6a9\n    private var pickerSection: some View {\n        VStack(spacing: 8) {\n            Text(\"\uc218\uba74 \uc2dc\uac04 \uc120\ud0dd\")\n                .font(.caption)\n                .fontWeight(.semibold)\n                .foregroundStyle(.secondary)\n\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: DurationPicker Component\n            // \uc7ac\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ud53c\ucee4 \ucef4\ud3ec\ub10c\ud2b8\n            // ViewModel\uc758 $hours, $minutes\uc640 \uc591\ubc29\ud5a5 \ubc14\uc778\ub529\n            DurationPicker(\n                compactStyle: $viewModel.hours,\n                minutes: $viewModel.minutes\n            )\n        }\n    }\n\n    /// \uc0c1\ud0dc \ubbf8\ub9ac\ubcf4\uae30 \uc139\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Real-time Status Preview\n    /// - \uc0ac\uc6a9\uc790\uac00 \uc2dc\uac04\uc744 \uc870\uc815\ud560 \ub54c\ub9c8\ub2e4 \uc608\uc0c1 \uc0c1\ud0dc \ud45c\uc2dc\n    /// - \uc989\uac01\uc801\uc778 \ud53c\ub4dc\ubc31\uc73c\ub85c UX \ud5a5\uc0c1\n    private var statusPreviewSection: some View {\n        VStack(spacing: 12) {\n            Text(\"\uc608\uc0c1 \uc218\uba74 \uc0c1\ud0dc\")\n                .font(.caption)\n                .fontWeight(.semibold)\n                .foregroundStyle(.secondary)\n\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: SleepStatusBadge Component\n            // \uc7ac\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc0c1\ud0dc \ubc43\uc9c0 \ucef4\ud3ec\ub10c\ud2b8\n            // ViewModel\uc758 expectedStatus (computed property)\ub97c \uc2e4\uc2dc\uac04\uc73c\ub85c \ud45c\uc2dc\n            SleepStatusBadge(\n                large: viewModel.expectedStatus,\n                showBackground: true\n            )\n\n            // \uc0c1\ud0dc \uc124\uba85\n            Text(viewModel.statusDescription())\n                .font(.caption)\n                .foregroundStyle(.secondary)\n                .multilineTextAlignment(.center)\n                .padding(.horizontal, 16)\n        }\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Accessibility for Status Preview\n        // \uc0c1\ud0dc \ubbf8\ub9ac\ubcf4\uae30 \uc804\uccb4\ub97c \ud558\ub098\uc758 \uc694\uc18c\ub85c \uadf8\ub8f9\ud654\n        .accessibilityElement(children: .combine)\n        .accessibilityLabel(\"\uc608\uc0c1 \uc218\uba74 \uc0c1\ud0dc: \\(viewModel.expectedStatus.displayName), \\(viewModel.statusDescription())\")\n        .accessibilityAddTraits(.updatesFrequently)\n    }\n\n    /// \uc694\uc57d \uce74\ub4dc\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Summary Card with Formatted Data\n    /// - \uc785\ub825\ub41c \uc2dc\uac04\uc744 \uc2dc\uac01\uc801\uc73c\ub85c \uac15\uc870\n    private var summaryCard: some View {\n        VStack(spacing: 8) {\n            Text(\"\ucd1d \uc218\uba74 \uc2dc\uac04\")\n                .font(.caption)\n                .fontWeight(.semibold)\n                .foregroundStyle(.secondary)\n\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Formatted Duration Display\n            // ViewModel\uc758 formattedDuration \uc0ac\uc6a9\n            Text(viewModel.formattedDuration)\n                .font(.title)\n                .fontWeight(.bold)\n                .foregroundStyle(.blue)\n\n            // \uad8c\uc7a5 \uc2dc\uac04 \uc548\ub0b4\n            Text(viewModel.recommendedRange())\n                .font(.caption2)\n                .foregroundStyle(.secondary)\n        }\n        .padding()\n        .frame(maxWidth: .infinity)\n        .background(\n            RoundedRectangle(cornerRadius: 12)\n                .fill(viewModel.expectedStatus.color.opacity(0.1))\n        )\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Accessibility for Summary Card\n        // \uc694\uc57d \uc815\ubcf4\ub97c \ud558\ub098\uc758 \uc694\uc18c\ub85c \uadf8\ub8f9\ud654\n        .accessibilityElement(children: .combine)\n        .accessibilityLabel(\"\ucd1d \uc218\uba74 \uc2dc\uac04: \\(viewModel.formattedDuration). \\(viewModel.recommendedRange())\")\n        .accessibilityAddTraits(.summaryElement)\n    }\n\n    /// \ubc84\ud2bc \uc139\uc158\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Action Buttons\n    /// - \uc800\uc7a5\uacfc \uac74\ub108\ub6f0\uae30 \ubc84\ud2bc \uc81c\uacf5\n    /// - \uac15\uc81c \uc785\ub825 \ubaa8\ub4dc\uc77c \ub54c\ub294 \uc800\uc7a5 \ubc84\ud2bc\ub9cc \ud45c\uc2dc\n    private var buttonSection: some View {\n        VStack(spacing: 12) {\n            // \uc800\uc7a5 \ubc84\ud2bc\n            saveButton\n\n            // \uac74\ub108\ub6f0\uae30 \ubc84\ud2bc (\uac74\ub108\ub6f0\uae30 \uac00\ub2a5\ud560 \ub54c\ub9cc \ud45c\uc2dc)\n            if canSkip {\n                skipButton\n            }\n        }\n    }\n\n    /// \uc800\uc7a5 \ubc84\ud2bc\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Primary Action Button\n    /// - \ube44\ub3d9\uae30 \uc800\uc7a5 \uc791\uc5c5 \uc2e4\ud589\n    /// - \uc800\uc7a5 \uc911\uc5d0\ub294 \ub85c\ub529 \uc778\ub514\ucf00\uc774\ud130 \ud45c\uc2dc\n    private var saveButton: some View {\n        Button(action: {\n            Task {\n                await viewModel.saveSleep()\n            }\n        }) {\n            HStack {\n                if viewModel.isSaving {\n                    // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: ProgressView\n                    // \ub85c\ub529 \uc778\ub514\ucf00\uc774\ud130 \ud45c\uc2dc\n                    ProgressView()\n                        .progressViewStyle(CircularProgressViewStyle(tint: .white))\n                        .scaleEffect(0.8)\n                } else {\n                    Image(systemName: \"checkmark.circle.fill\")\n                        .font(.body)\n                }\n\n                Text(viewModel.isSaving ? \"\uc800\uc7a5 \uc911...\" : \"\uc800\uc7a5\")\n                    .font(.body)\n                    .fontWeight(.semibold)\n            }\n            .frame(maxWidth: .infinity)\n            .padding(.vertical, 14)\n            .background(\n                RoundedRectangle(cornerRadius: 10)\n                    .fill(viewModel.canSave ? Color.blue : Color.gray)\n            )\n            .foregroundStyle(.white)\n        }\n        .disabled(!viewModel.canSave)\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Accessibility for Save Button\n        // VoiceOver\uac00 \ubc84\ud2bc\uc758 \uae30\ub2a5\uacfc \uc0c1\ud0dc\ub97c \uba85\ud655\ud788 \uc804\ub2ec\n        .accessibilityLabel(viewModel.isSaving ? \"\uc800\uc7a5 \uc911\" : \"\uc218\uba74 \uae30\ub85d \uc800\uc7a5\")\n        .accessibilityHint(viewModel.isSaving ? \"\" : \"\ub450 \ubc88 \ud0ed\ud558\uc5ec \\(viewModel.formattedDuration)\uc758 \uc218\uba74 \uae30\ub85d\uc744 \uc800\uc7a5\ud569\ub2c8\ub2e4\")\n        .accessibilityAddTraits(viewModel.canSave ? [] : .isNotEnabled)\n    }\n\n    /// \uac74\ub108\ub6f0\uae30 \ubc84\ud2bc\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Secondary Action Button\n    /// - \ub35c \uac15\uc870\ub41c \uc2a4\ud0c0\uc77c (\ud14d\uc2a4\ud2b8\ub9cc)\n    /// - \uac74\ub108\ub6f0\uae30 \ud69f\uc218 \uad00\ub9ac\ub294 \ubd80\ubaa8\uc5d0\uc11c \ucc98\ub9ac\n    private var skipButton: some View {\n        Button(action: {\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Callback Pattern\n            // \ubd80\ubaa8 \ubdf0\uc5d0\uc11c \uac74\ub108\ub6f0\uae30 \ucc98\ub9ac\n            onSkip?()\n            dismiss()\n        }) {\n            HStack {\n                Image(systemName: \"xmark.circle\")\n                    .font(.body)\n\n                Text(\"\ub098\uc911\uc5d0 \uc785\ub825\ud558\uae30\")\n                    .font(.body)\n                    .fontWeight(.medium)\n            }\n            .frame(maxWidth: .infinity)\n            .padding(.vertical, 14)\n            .foregroundStyle(.secondary)\n        }\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Accessibility for Skip Button\n        // VoiceOver\uac00 \ubc84\ud2bc\uc758 \uae30\ub2a5\uc744 \uba85\ud655\ud788 \uc804\ub2ec\n        .accessibilityLabel(\"\ub098\uc911\uc5d0 \uc785\ub825\ud558\uae30\")\n        .accessibilityHint(\"\ub450 \ubc88 \ud0ed\ud558\uc5ec \uc218\uba74 \uae30\ub85d\uc744 \uac74\ub108\ub6f0\uace0 \ub098\uc911\uc5d0 \uc785\ub825\ud569\ub2c8\ub2e4\")\n    }\n}\n\n// MARK: - Preview\n\n#Preview(\"\uae30\ubcf8 \uc0c1\ud0dc (\uac74\ub108\ub6f0\uae30 \uac00\ub2a5)\") {\n    struct PreviewWrapper: View {\n        @State private var showSheet = true\n\n        var body: some View {\n            Button(\"\uc218\uba74 \uc785\ub825\ud558\uae30\") {\n                showSheet = true\n            }\n            .sheet(isPresented: $showSheet) {\n                // Mock ViewModel \ud544\uc694\n                // SleepInputSheet(\n                //     viewModel: .makePreview(),\n                //     canSkip: true\n                // )\n                Text(\"Preview\ub97c \uc704\ud574 Mock ViewModel\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\")\n            }\n        }\n    }\n\n    return PreviewWrapper()\n}\n\n#Preview(\"\uac15\uc81c \uc785\ub825 \ubaa8\ub4dc (\uac74\ub108\ub6f0\uae30 \ubd88\uac00)\") {\n    struct PreviewWrapper: View {\n        @State private var showSheet = true\n\n        var body: some View {\n            Button(\"\uc218\uba74 \uc785\ub825\ud558\uae30\") {\n                showSheet = true\n            }\n            .sheet(isPresented: $showSheet) {\n                // Mock ViewModel \ud544\uc694\n                // SleepInputSheet(\n                //     viewModel: .makePreview(),\n                //     canSkip: false\n                // )\n                Text(\"Preview\ub97c \uc704\ud574 Mock ViewModel\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\")\n            }\n        }\n    }\n\n    return PreviewWrapper()\n}\n\n#Preview(\"\ub2e4\ud06c \ubaa8\ub4dc\") {\n    struct PreviewWrapper: View {\n        @State private var showSheet = true\n\n        var body: some View {\n            Button(\"\uc218\uba74 \uc785\ub825\ud558\uae30\") {\n                showSheet = true\n            }\n            .sheet(isPresented: $showSheet) {\n                // Mock ViewModel \ud544\uc694\n                Text(\"Preview\ub97c \uc704\ud574 Mock ViewModel\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\")\n            }\n            .preferredColorScheme(.dark)\n        }\n    }\n\n    return PreviewWrapper()\n}\n\n// MARK: - Documentation\n\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: SleepInputSheet \uc0ac\uc6a9\ubc95\n///\n/// \uae30\ubcf8 \uc0ac\uc6a9 (\uac74\ub108\ub6f0\uae30 \uac00\ub2a5):\n/// ```swift\n/// struct MyView: View {\n///     @State private var showSleepInput = false\n///     let container: DIContainer\n///\n///     var body: some View {\n///         Button(\"\uc218\uba74 \uc785\ub825\") {\n///             showSleepInput = true\n///         }\n///         .sheet(isPresented: $showSleepInput) {\n///             SleepInputSheet(\n///                 viewModel: container.makeSleepInputViewModel(),\n///                 canSkip: true\n///             )\n///         }\n///     }\n/// }\n/// ```\n///\n/// \uac15\uc81c \uc785\ub825 \ubaa8\ub4dc (3\ud68c \uac74\ub108\ub6f0\uae30 \ud6c4):\n/// ```swift\n/// struct MyView: View {\n///     @State private var showSleepInput = false\n///     @StateObject private var promptManager = SleepPromptManager()\n///     let container: DIContainer\n///\n///     var body: some View {\n///         Button(\"\uc218\uba74 \uc785\ub825\") {\n///             showSleepInput = true\n///         }\n///         .sheet(isPresented: $showSleepInput) {\n///             SleepInputSheet(\n///                 viewModel: container.makeSleepInputViewModel(),\n///                 canSkip: !promptManager.isForceEntry,\n///                 onSkip: {\n///                     promptManager.incrementSkipCount()\n///                 }\n///             )\n///         }\n///     }\n/// }\n/// ```\n///\n/// \uc790\ub3d9 \ud45c\uc2dc (\uc544\uce68 \ud504\ub86c\ud504\ud2b8):\n/// ```swift\n/// struct ContentView: View {\n///     @StateObject private var promptManager = SleepPromptManager()\n///     let container: DIContainer\n///\n///     var body: some View {\n///         MainView()\n///             .sheet(isPresented: $promptManager.shouldShowPrompt) {\n///                 SleepInputSheet(\n///                     viewModel: container.makeSleepInputViewModel(),\n///                     canSkip: !promptManager.isForceEntry,\n///                     onSkip: {\n///                         promptManager.incrementSkipCount()\n///                     }\n///                 )\n///             }\n///             .onAppear {\n///                 promptManager.checkShouldShow()\n///             }\n///     }\n/// }\n/// ```\n///\n/// \uc8fc\uc694 \uae30\ub2a5:\n/// - DurationPicker\ub85c \uc2dc\uac04/\ubd84 \uc785\ub825 (10\ubd84 \ub2e8\uc704)\n/// - \uc2e4\uc2dc\uac04 \uc218\uba74 \uc0c1\ud0dc \ubbf8\ub9ac\ubcf4\uae30 (SleepStatusBadge)\n/// - \uc0c1\ud0dc\ubcc4 \uc0c9\uc0c1 \ud53c\ub4dc\ubc31\n/// - \uc800\uc7a5 \uc911 \ub85c\ub529 \uc778\ub514\ucf00\uc774\ud130\n/// - \uc790\ub3d9 Sheet \ub2eb\uae30 (\uc800\uc7a5 \uc644\ub8cc \ud6c4)\n/// - \uac74\ub108\ub6f0\uae30 \ubc84\ud2bc (\uc870\uac74\ubd80 \ud45c\uc2dc)\n/// - \uac15\uc81c \uc785\ub825 \ubaa8\ub4dc (3\ud68c \uac74\ub108\ub6f0\uae30 \ud6c4)\n/// - \uc5d0\ub7ec \uc54c\ub9bc \ud45c\uc2dc\n///\n/// Sheet \uc124\uc815:\n/// - presentationDetents: .medium, .large (\ud654\uba74 \uc808\ubc18 \ub610\ub294 \uc804\uccb4)\n/// - interactiveDismissDisabled: \uac15\uc81c \uc785\ub825 \uc2dc \uc2a4\uc640\uc774\ud504 \ub2eb\uae30 \ube44\ud65c\uc131\ud654\n/// - \ub2eb\uae30 \ubc84\ud2bc: \uac74\ub108\ub6f0\uae30 \uac00\ub2a5\ud560 \ub54c\ub9cc \ud45c\uc2dc\n///\n/// \uc0c1\ud0dc \uad00\ub9ac:\n/// - ViewModel\uc758 @Published \ud504\ub85c\ud37c\ud2f0 \uad00\ucc30\n/// - @StateObject\ub85c ViewModel \uc0dd\uba85\uc8fc\uae30 \uad00\ub9ac\n/// - onChange\ub85c isCompleted \uac10\uc9c0\ud558\uc5ec \uc790\ub3d9 \ub2eb\uae30\n///\n/// \ube44\uc988\ub2c8\uc2a4 \ud50c\ub85c\uc6b0:\n/// 1. Sheet \ud45c\uc2dc\n/// 2. \uc0ac\uc6a9\uc790\uac00 \uc2dc\uac04/\ubd84 \uc120\ud0dd (DurationPicker)\n/// 3. \uc2e4\uc2dc\uac04\uc73c\ub85c expectedStatus \uc5c5\ub370\uc774\ud2b8\n/// 4. \uc800\uc7a5 \ubc84\ud2bc \ud074\ub9ad \ub610\ub294 \uac74\ub108\ub6f0\uae30\n/// 5. \uc800\uc7a5: ViewModel.saveSleep() \ud638\ucd9c\n///    - RecordSleepUseCase \uc2e4\ud589\n///    - \uc131\uacf5 \uc2dc isCompleted = true\n///    - onChange\uc5d0\uc11c \uac10\uc9c0\ud558\uc5ec Sheet \ub2eb\uae30\n/// 6. \uac74\ub108\ub6f0\uae30: onSkip \ucf5c\ubc31 \ud638\ucd9c \ud6c4 Sheet \ub2eb\uae30\n///\n/// \uac74\ub108\ub6f0\uae30 \ub85c\uc9c1:\n/// - canSkip = true: \uac74\ub108\ub6f0\uae30 \ubc84\ud2bc \ud45c\uc2dc, \uc2a4\uc640\uc774\ud504 \ub2eb\uae30 \uac00\ub2a5\n/// - canSkip = false: \uc800\uc7a5\ub9cc \uac00\ub2a5, \uc2a4\uc640\uc774\ud504 \ub2eb\uae30 \ubd88\uac00, \uacbd\uace0 \uba54\uc2dc\uc9c0 \ud45c\uc2dc\n/// - onSkip \ucf5c\ubc31: SleepPromptManager\uc5d0\uc11c \uac74\ub108\ub6f0\uae30 \ud69f\uc218 \uc99d\uac00\n/// - 3\ud68c \uac74\ub108\ub6f0\uae30 \ud6c4: canSkip = false\ub85c \uac15\uc81c \uc785\ub825 \ubaa8\ub4dc\n///\n/// \ud83d\udca1 Android \ube44\uad50:\n/// - Android: BottomSheetDialogFragment + ViewModel\n/// - SwiftUI: Sheet + @StateObject\n/// - Android: DialogFragment.dismiss()\n/// - SwiftUI: @Environment(\\.dismiss)\n/// - Android: setCancelable(false)\n/// - SwiftUI: .interactiveDismissDisabled(true)\n///\n/// \uc811\uadfc\uc131:\n/// - VoiceOver \uc9c0\uc6d0 (SF Symbols, \uba85\ud655\ud55c \ub808\uc774\ube14)\n/// - Dynamic Type \uc9c0\uc6d0 (\uc790\ub3d9 \ud3f0\ud2b8 \ud06c\uae30 \uc870\uc815)\n/// - \ucda9\ubd84\ud55c \ud130\uce58 \uc601\uc5ed (\ubc84\ud2bc \ub192\uc774 44pt \uc774\uc0c1)\n/// - \uba85\ud655\ud55c \uc2dc\uac01\uc801 \ud53c\ub4dc\ubc31 (\uc0c9\uc0c1 + \uc544\uc774\ucf58)\n///\n/// \uc2e4\ubb34 \ud301:\n/// - Sheet\ub294 medium detent\ub85c \uc2dc\uc791\ud558\uc5ec \uc2a4\ud06c\ub864 \uac00\ub2a5\n/// - \uac15\uc81c \uc785\ub825 \ubaa8\ub4dc\ub294 \uc0ac\uc6a9\uc790 \uacbd\ud5d8\uc744 \uace0\ub824\ud558\uc5ec \uc2e0\uc911\ud558\uac8c \uc0ac\uc6a9\n/// - \uac74\ub108\ub6f0\uae30 \ud69f\uc218\ub294 UserDefaults\uc5d0 \ub0a0\uc9dc\ubcc4\ub85c \uc800\uc7a5\n/// - \uc800\uc7a5 \uc131\uacf5 \ud6c4 1.5\ucd08 \ub300\uae30\ud558\uc5ec \uba54\uc2dc\uc9c0\ub97c \ubcf4\uc5ec\uc900 \ud6c4 \ub2eb\uae30\n/// - onChange\ub85c isCompleted\ub97c \uac10\uc9c0\ud558\uc5ec \uc790\ub3d9 \ub2eb\uae30 \uad6c\ud604\n///\n",
        "last_modified": "2026-01-18T17:07:01.345161"
      },
      "task_intent": {
        "title": "009-sleep-tracking-with-5-status-system",
        "description": "Sleep logging with 5-status tracking (bad, soso, good, excellent, oversleep), duration input, wake time prompts, and correlation with other health metrics. Automatic morning prompt to log previous night's sleep.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-14T18:01:04.971723",
  "last_updated": "2026-01-14T21:03:40.486751"
}