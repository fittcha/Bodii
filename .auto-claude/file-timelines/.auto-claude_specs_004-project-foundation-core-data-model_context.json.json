{
  "file_path": ".auto-claude/specs/004-project-foundation-core-data-model/context.json",
  "main_branch_history": [],
  "task_views": {
    "004-project-foundation-core-data-model": {
      "task_id": "004-project-foundation-core-data-model",
      "branch_point": {
        "commit_hash": "2abdae73fb6199bcbf4f21f6deeb7952225f81e6",
        "content": "",
        "timestamp": "2026-01-12T19:14:54.682468"
      },
      "worktree_state": {
        "content": "{\n  \"task_description\": \"Project Foundation & Core Data Model\\n\\n1. Enum \uc815\uc758 (Gender, ActivityLevel, MealType, ExerciseType, Intensity, FoodSource, GoalType, SleepStatus, QuantityUnit, Constants)\\n2. Utility Services (DateUtils - 02:00 \uc218\uba74 \uacbd\uacc4, ValidationService, Date+Extensions, Decimal+Extensions, Formatters)\\n3. Domain Entities (User, BodyRecord, MetabolismSnapshot, Food, FoodRecord, ExerciseRecord, SleepRecord, DailyLog, Goal)\\n4. Core Data Entity Extensions\\n5. Unit Tests (DateUtils, ValidationService, SleepStatus)\\n\\n\ucc38\uace0: @docs/04_ERD.md, @docs/02_FEATURE_SPEC.md, @docs/06_ALGORITHM.md\",\n  \"scoped_services\": [\"main\"],\n  \"files_to_modify\": {\n    \"main\": [\n      \"Bodii/Data/Bodii.xcdatamodeld\"\n    ]\n  },\n  \"files_to_create\": {\n    \"main\": [\n      \"Bodii/Shared/Utils/Constants.swift\",\n      \"Bodii/Shared/Enums/Gender.swift\",\n      \"Bodii/Shared/Enums/ActivityLevel.swift\",\n      \"Bodii/Shared/Enums/MealType.swift\",\n      \"Bodii/Shared/Enums/ExerciseType.swift\",\n      \"Bodii/Shared/Enums/Intensity.swift\",\n      \"Bodii/Shared/Enums/FoodSource.swift\",\n      \"Bodii/Shared/Enums/GoalType.swift\",\n      \"Bodii/Shared/Enums/SleepStatus.swift\",\n      \"Bodii/Shared/Enums/QuantityUnit.swift\",\n      \"Bodii/Shared/Extensions/Date+Extensions.swift\",\n      \"Bodii/Shared/Extensions/Decimal+Extensions.swift\",\n      \"Bodii/Shared/Utils/DateUtils.swift\",\n      \"Bodii/Shared/Utils/ValidationService.swift\",\n      \"Bodii/Shared/Utils/Formatters.swift\",\n      \"Bodii/Domain/Entities/User.swift\",\n      \"Bodii/Domain/Entities/BodyRecord.swift\",\n      \"Bodii/Domain/Entities/MetabolismSnapshot.swift\",\n      \"Bodii/Domain/Entities/Food.swift\",\n      \"Bodii/Domain/Entities/FoodRecord.swift\",\n      \"Bodii/Domain/Entities/ExerciseRecord.swift\",\n      \"Bodii/Domain/Entities/SleepRecord.swift\",\n      \"Bodii/Domain/Entities/DailyLog.swift\",\n      \"Bodii/Domain/Entities/Goal.swift\",\n      \"BodiiTests/DateUtilsTests.swift\",\n      \"BodiiTests/ValidationServiceTests.swift\",\n      \"BodiiTests/SleepStatusTests.swift\"\n    ]\n  },\n  \"files_to_reference\": [\n    \"docs/04_ERD.md\",\n    \"docs/06_ALGORITHM.md\",\n    \"docs/08_EDGE_CASES.md\",\n    \".worktrees/002-project-foundation-core-data-model/Bodii/Shared/Enums/Gender.swift\",\n    \".worktrees/002-project-foundation-core-data-model/Bodii/Shared/Enums/ActivityLevel.swift\",\n    \".worktrees/002-project-foundation-core-data-model/Bodii/Shared/Utils/DateUtils.swift\"\n  ],\n  \"patterns\": {\n    \"enum_pattern\": {\n      \"description\": \"All enums use Int16 rawValue for Core Data compatibility\",\n      \"template\": \"enum EnumName: Int16, CaseIterable, Codable { ... } extension EnumName: Identifiable { var id: Int16 { rawValue } }\",\n      \"required_conformances\": [\"Int16 rawValue\", \"CaseIterable\", \"Codable\", \"Identifiable\"],\n      \"required_properties\": [\"displayName: String\"]\n    },\n    \"utility_pattern\": {\n      \"description\": \"Utilities are case-less enums acting as namespaces\",\n      \"template\": \"enum UtilityName { static func methodName(...) -> ... { ... } }\",\n      \"example_file\": \".worktrees/002-project-foundation-core-data-model/Bodii/Shared/Utils/DateUtils.swift\"\n    },\n    \"domain_entity_pattern\": {\n      \"description\": \"Domain entities are immutable structs with Identifiable, Codable, Equatable\",\n      \"template\": \"struct EntityName: Identifiable, Codable, Equatable { let id: UUID; ... }\",\n      \"required_conformances\": [\"Identifiable\", \"Codable\", \"Equatable\"],\n      \"optional_conformances\": [\"CustomStringConvertible\"]\n    },\n    \"documentation_pattern\": {\n      \"description\": \"Korean docstrings with learning points\",\n      \"markers\": [\"\ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8:\", \"\ud83d\udca1 Java \ube44\uad50:\", \"MARK: -\"]\n    }\n  },\n  \"existing_implementations\": {\n    \"description\": \"Found existing implementations in worktree 002\",\n    \"relevant_files\": [\n      \".worktrees/002-project-foundation-core-data-model/Bodii/Shared/Enums/Gender.swift\",\n      \".worktrees/002-project-foundation-core-data-model/Bodii/Shared/Enums/ActivityLevel.swift\",\n      \".worktrees/002-project-foundation-core-data-model/Bodii/Shared/Utils/DateUtils.swift\",\n      \".worktrees/002-project-foundation-core-data-model/Bodii/Shared/Utils/Constants.swift\"\n    ]\n  },\n  \"critical_business_rules\": {\n    \"sleep_boundary\": {\n      \"description\": \"02:00 is the day boundary for sleep tracking\",\n      \"rule\": \"00:00-01:59 counts as previous day, 02:00-23:59 counts as current day\",\n      \"implementation\": \"DateUtils.getLogicalDate(for:)\"\n    },\n    \"sleep_status_thresholds\": {\n      \"bad\": \"< 330 minutes (< 5.5 hours)\",\n      \"soso\": \"330-389 minutes (5.5-6.5 hours)\",\n      \"good\": \"390-449 minutes (6.5-7.5 hours)\",\n      \"excellent\": \"450-540 minutes (7.5-9 hours)\",\n      \"oversleep\": \"> 540 minutes (> 9 hours)\"\n    },\n    \"activity_multipliers\": {\n      \"sedentary\": 1.2,\n      \"light\": 1.375,\n      \"moderate\": 1.55,\n      \"active\": 1.725,\n      \"veryActive\": 1.9\n    },\n    \"validation_ranges\": {\n      \"height_cm\": {\"min\": 100, \"max\": 250},\n      \"weight_kg\": {\"min\": 20, \"max\": 300},\n      \"body_fat_percent\": {\"min\": 3, \"max\": 60},\n      \"name_length\": {\"min\": 1, \"max\": 20}\n    }\n  },\n  \"created_at\": \"2026-01-12T09:10:32.183900\",\n  \"updated_at\": \"2026-01-12T09:20:00.000000\"\n}\n",
        "last_modified": "2026-01-12T19:28:09.036443"
      },
      "task_intent": {
        "title": "004-project-foundation-core-data-model",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-12T11:36:12.098771",
  "last_updated": "2026-01-12T19:14:54.724073"
}