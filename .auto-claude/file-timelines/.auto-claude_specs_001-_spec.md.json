{
  "file_path": ".auto-claude/specs/001-/spec.md",
  "main_branch_history": [],
  "task_views": {
    "001-": {
      "task_id": "001-",
      "branch_point": {
        "commit_hash": "bffa4407a91d66f875164727541505e70fc173ed",
        "content": "",
        "timestamp": "2026-01-11T19:11:51.451495"
      },
      "worktree_state": {
        "content": "# Specification: Xcode Project Initial Setup (Bodii iOS App)\n\n## Overview\n\nThis task establishes the foundational Xcode project for Bodii, a health and fitness iOS application that tracks body composition, diet, exercise, and sleep. The setup includes creating a SwiftUI-based iOS 17+ project with Clean Architecture folder structure and Core Data model configuration. This is a greenfield project setup that will serve as the scaffold for all future feature development.\n\n## Workflow Type\n\n**Type**: feature\n\n**Rationale**: This is a new feature implementation task that creates the initial project structure from scratch. Although it's primarily scaffolding, it establishes critical architectural decisions (Clean Architecture, Core Data model) that affect all future development.\n\n## Task Scope\n\n### Services Involved\n- **Bodii** (primary) - iOS application with Clean Architecture\n\n### This Task Will:\n- [ ] Create new Xcode project with SwiftUI App lifecycle\n- [ ] Configure project settings (iOS 17+, Bundle ID: com.seungming.bodii)\n- [ ] Create Clean Architecture folder structure (App, Domain, Data, Presentation, Core)\n- [ ] Generate Core Data model file (Bodii.xcdatamodeld) with entity definitions from ERD\n- [ ] Set up initial placeholder files for each architectural layer\n\n### Out of Scope:\n- Full entity implementation (only Core Data model schema)\n- UI implementation (only placeholder views)\n- Business logic implementation (only folder structure)\n- Repository implementations\n- API integrations\n- HealthKit integration\n- Unit tests (will be added in subsequent tasks)\n\n## Service Context\n\n### Bodii iOS App\n\n**Tech Stack:**\n- Language: Swift 5.9+\n- Framework: SwiftUI\n- UI Target: iOS 17.0+\n- Data Persistence: Core Data\n- Architecture: MVVM + Clean Architecture Hybrid\n- Key directories: App/, Domain/, Data/, Presentation/, Core/\n\n**Entry Point:** `Bodii/App/BodiiApp.swift`\n\n**How to Run:**\n```bash\n# Open in Xcode\nopen Bodii.xcodeproj\n\n# Build and Run\n# Use Xcode: Cmd + R\n# Or via xcodebuild:\nxcodebuild -project Bodii.xcodeproj -scheme Bodii -destination 'platform=iOS Simulator,name=iPhone 15' build\n```\n\n**Port:** N/A (iOS App)\n\n## Files to Create\n\n| File | Directory | Purpose |\n|------|-----------|---------|\n| `Bodii.xcodeproj` | Root | Xcode project file |\n| `BodiiApp.swift` | App/ | Application entry point |\n| `ContentView.swift` | App/ | Root view (tab bar) |\n| `DIContainer.swift` | App/ | Dependency injection container |\n| `Bodii.xcdatamodeld` | Infrastructure/Persistence/ | Core Data model |\n| `PersistenceController.swift` | Infrastructure/Persistence/ | Core Data stack manager |\n\n### Folder Structure to Create\n\n```\nBodii/\n\u251c\u2500\u2500 App/\n\u2502   \u251c\u2500\u2500 BodiiApp.swift\n\u2502   \u251c\u2500\u2500 ContentView.swift\n\u2502   \u2514\u2500\u2500 DIContainer.swift\n\u2502\n\u251c\u2500\u2500 Presentation/\n\u2502   \u251c\u2500\u2500 Features/\n\u2502   \u2502   \u251c\u2500\u2500 Onboarding/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Views/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ViewModels/\n\u2502   \u2502   \u251c\u2500\u2500 Dashboard/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Views/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ViewModels/\n\u2502   \u2502   \u251c\u2500\u2500 Body/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Views/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ViewModels/\n\u2502   \u2502   \u251c\u2500\u2500 Diet/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Views/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ViewModels/\n\u2502   \u2502   \u251c\u2500\u2500 Exercise/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Views/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ViewModels/\n\u2502   \u2502   \u251c\u2500\u2500 Sleep/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Views/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ViewModels/\n\u2502   \u2502   \u2514\u2500\u2500 Settings/\n\u2502   \u2502       \u251c\u2500\u2500 Views/\n\u2502   \u2502       \u2514\u2500\u2500 ViewModels/\n\u2502   \u2514\u2500\u2500 Components/\n\u2502       \u251c\u2500\u2500 Charts/\n\u2502       \u251c\u2500\u2500 Cards/\n\u2502       \u2514\u2500\u2500 Common/\n\u2502\n\u251c\u2500\u2500 Domain/\n\u2502   \u251c\u2500\u2500 Entities/\n\u2502   \u251c\u2500\u2500 UseCases/\n\u2502   \u2514\u2500\u2500 Interfaces/\n\u2502\n\u251c\u2500\u2500 Data/\n\u2502   \u251c\u2500\u2500 Repositories/\n\u2502   \u251c\u2500\u2500 DataSources/\n\u2502   \u2502   \u251c\u2500\u2500 Local/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 Entities/\n\u2502   \u2502   \u2514\u2500\u2500 Remote/\n\u2502   \u251c\u2500\u2500 DTOs/\n\u2502   \u2514\u2500\u2500 Mappers/\n\u2502\n\u251c\u2500\u2500 Infrastructure/\n\u2502   \u251c\u2500\u2500 Network/\n\u2502   \u251c\u2500\u2500 HealthKit/\n\u2502   \u2514\u2500\u2500 Persistence/\n\u2502       \u2514\u2500\u2500 Bodii.xcdatamodeld\n\u2502\n\u251c\u2500\u2500 Shared/\n\u2502   \u251c\u2500\u2500 Extensions/\n\u2502   \u251c\u2500\u2500 Utils/\n\u2502   \u2514\u2500\u2500 Enums/\n\u2502\n\u2514\u2500\u2500 Resources/\n    \u2514\u2500\u2500 Assets.xcassets\n```\n\n## Files to Reference\n\nThese documentation files provide patterns and requirements:\n\n| File | Pattern to Copy |\n|------|----------------|\n| `docs/06_DEVELOPMENT_GUIDE.md` | Architecture patterns, folder structure, coding conventions, file structure templates |\n| `docs/04_ERD.md` | Core Data entity definitions, relationships, data types, indexes |\n\n## Patterns to Follow\n\n### Clean Architecture Layer Pattern\n\nFrom `docs/06_DEVELOPMENT_GUIDE.md`:\n\n```\nPresentation \u2192 Domain \u2190 Data\n                 \u2191\n            Infrastructure\n```\n\n**Key Points:**\n- Presentation layer depends only on Domain\n- Data layer implements Domain protocols\n- Domain layer has NO external dependencies (pure Swift)\n- Infrastructure provides framework-specific implementations\n\n### File Structure Pattern\n\nFrom `docs/06_DEVELOPMENT_GUIDE.md`:\n\n```swift\n// MARK: - [Section Name]\n\nimport Foundation\nimport SwiftUI\n\n// MARK: - Protocol (if applicable)\n\nprotocol SomeProtocol {\n    // ...\n}\n\n// MARK: - Main Type\n\nfinal class SomeClass {\n\n    // MARK: - Properties\n\n    private let dependency: SomeDependency\n    @Published var state: State\n\n    // MARK: - Initialization\n\n    init(dependency: SomeDependency) {\n        self.dependency = dependency\n    }\n\n    // MARK: - Public Methods\n\n    func doSomething() {\n        // ...\n    }\n\n    // MARK: - Private Methods\n\n    private func helper() {\n        // ...\n    }\n}\n\n// MARK: - Extensions\n\nextension SomeClass: SomeProtocol {\n    // ...\n}\n\n// MARK: - Preview (SwiftUI)\n\n#Preview {\n    SomeView()\n}\n```\n\n**Key Points:**\n- Use MARK comments for section organization\n- Follow UpperCamelCase for types, lowerCamelCase for variables/functions\n- Use `final class` when inheritance is not needed\n- Keep protocols separate from implementations\n\n### Core Data Entity Pattern\n\nFrom `docs/04_ERD.md`, entities to create:\n\n| Entity | Primary Key | Key Attributes |\n|--------|-------------|----------------|\n| User | id: UUID | name, gender, birthDate, height, activityLevel, current* fields |\n| BodyRecord | id: UUID | userId (FK), date, weight, bodyFatMass, bodyFatPercent, muscleMass |\n| MetabolismSnapshot | id: UUID | userId (FK), bodyRecordId (FK), bmr, tdee, activityLevel |\n| Food | id: UUID | name, calories, carbs, protein, fat, servingSize, source |\n| FoodRecord | id: UUID | userId (FK), foodId (FK), date, mealType, quantity, calculated* |\n| ExerciseRecord | id: UUID | userId (FK), date, exerciseType, duration, intensity, caloriesBurned |\n| SleepRecord | id: UUID | userId (FK), date, duration, status |\n| DailyLog | id: UUID | userId (FK), date (UNIQUE), totals*, bmr, tdee, netCalories |\n| Goal | id: UUID | userId (FK), goalType, target*, weekly*Rate, start*, isActive |\n\n## Requirements\n\n### Functional Requirements\n\n1. **Xcode Project Creation**\n   - Description: Create new iOS project with SwiftUI lifecycle\n   - Acceptance: Project opens in Xcode without errors, builds successfully for iOS Simulator\n\n2. **Project Configuration**\n   - Description: Configure bundle ID, deployment target, and build settings\n   - Acceptance: Bundle ID is `com.seungming.bodii`, minimum iOS 17.0, SwiftUI App lifecycle\n\n3. **Folder Structure**\n   - Description: Create Clean Architecture folder hierarchy\n   - Acceptance: All folders from structure diagram exist with correct naming\n\n4. **Core Data Model**\n   - Description: Create xcdatamodeld file with all entities from ERD\n   - Acceptance: Bodii.xcdatamodeld contains all 9 entities with correct attributes and relationships\n\n5. **Entry Point Files**\n   - Description: Create minimal App entry point and ContentView\n   - Acceptance: BodiiApp.swift and ContentView.swift compile and run showing placeholder UI\n\n### Edge Cases\n\n1. **Xcode Version Compatibility** - Ensure project format supports Xcode 15+\n2. **Core Data Migration** - Use automatic lightweight migration for future schema changes\n3. **Simulator Target** - Ensure project runs on both iPhone and iPad simulators\n\n## Implementation Notes\n\n### DO\n- Follow the exact folder structure from `docs/06_DEVELOPMENT_GUIDE.md`\n- Use UUID for all entity primary keys (as specified in ERD)\n- Use Int16 for enum-backed attributes (gender, mealType, status, etc.)\n- Use Decimal for numeric values requiring precision (weight, percentages)\n- Add indexes as specified in ERD for frequently queried columns\n- Configure relationships with proper delete rules\n- Use `@main` attribute for SwiftUI App entry point\n- Include `.gitkeep` files in empty folders to preserve structure in Git\n\n### DON'T\n- Create UIKit files or storyboards (except LaunchScreen if needed)\n- Implement actual business logic (only placeholders)\n- Add third-party dependencies yet\n- Create unit tests (separate task)\n- Set up CI/CD pipelines (separate task)\n\n## Development Environment\n\n### Prerequisites\n\n```bash\n# Required\n- macOS 14.0+ (Sonoma)\n- Xcode 15.0+\n- iOS Simulator 17.0+\n```\n\n### Project Creation Commands\n\n```bash\n# Option 1: Create via Xcode UI\n# File > New > Project > iOS App\n# - Product Name: Bodii\n# - Interface: SwiftUI\n# - Language: Swift\n# - Storage: Core Data (checked)\n# - Include Tests: No (add later)\n\n# Option 2: Alternative - scaffold structure manually after Xcode creation\nmkdir -p Bodii/{App,Presentation/{Features/{Onboarding,Dashboard,Body,Diet,Exercise,Sleep,Settings}/{Views,ViewModels},Components/{Charts,Cards,Common}},Domain/{Entities,UseCases,Interfaces},Data/{Repositories,DataSources/{Local/Entities,Remote},DTOs,Mappers},Infrastructure/{Network,HealthKit,Persistence},Shared/{Extensions,Utils,Enums},Resources}\n```\n\n### Service URLs\n- N/A (iOS application - no web URLs)\n\n### Required Environment Variables\n- None required for initial setup\n- Future: API keys will be stored in `Resources/Config.plist`\n\n## Success Criteria\n\nThe task is complete when:\n\n1. [ ] Xcode project `Bodii.xcodeproj` exists and opens without errors\n2. [ ] Project builds successfully for iOS Simulator (iPhone 15)\n3. [ ] Bundle identifier is set to `com.seungming.bodii`\n4. [ ] Minimum deployment target is iOS 17.0\n5. [ ] All Clean Architecture folders exist as specified\n6. [ ] `Bodii.xcdatamodeld` contains all 9 entities from ERD\n7. [ ] Core Data entities have correct attributes and types\n8. [ ] Core Data relationships are properly configured\n9. [ ] `BodiiApp.swift` runs and displays ContentView\n10. [ ] No console errors or warnings on launch\n11. [ ] Git repository initialized with `.gitignore` for Xcode\n\n## QA Acceptance Criteria\n\n**CRITICAL**: These criteria must be verified by the QA Agent before sign-off.\n\n### Unit Tests\n| Test | File | What to Verify |\n|------|------|----------------|\n| N/A | - | No unit tests in this scaffolding task |\n\n### Integration Tests\n| Test | Services | What to Verify |\n|------|----------|----------------|\n| Core Data Stack | PersistenceController | Container loads without errors |\n\n### End-to-End Tests\n| Flow | Steps | Expected Outcome |\n|------|-------|------------------|\n| App Launch | 1. Open project in Xcode 2. Build and Run on Simulator | App launches, shows ContentView |\n| Core Data | 1. Inspect xcdatamodeld 2. Verify all entities | 9 entities with correct attributes |\n\n### Build Verification\n| Check | Command | Expected |\n|-------|---------|----------|\n| Build Success | `xcodebuild -project Bodii.xcodeproj -scheme Bodii build` | Build Succeeded |\n| Simulator Launch | Run on iPhone 15 Simulator | App launches without crash |\n\n### Project Configuration Verification\n| Check | Location | Expected |\n|-------|----------|----------|\n| Bundle ID | Project Settings > General | `com.seungming.bodii` |\n| iOS Target | Project Settings > General | iOS 17.0+ |\n| Swift Version | Build Settings | Swift 5 |\n| UI Framework | Info.plist / Project | SwiftUI App |\n\n### Core Data Model Verification\n| Entity | Required Attributes | Required Relationships |\n|--------|---------------------|----------------------|\n| User | id, name, gender, birthDate, height, activityLevel, current* | bodyRecords, foodRecords, etc. |\n| BodyRecord | id, userId, date, weight | user, metabolismSnapshot |\n| MetabolismSnapshot | id, userId, bodyRecordId, bmr, tdee | user, bodyRecord |\n| Food | id, name, calories, carbs, protein, fat | foodRecords |\n| FoodRecord | id, userId, foodId, date, mealType | user, food |\n| ExerciseRecord | id, userId, date, exerciseType, duration | user |\n| SleepRecord | id, userId, date, duration, status | user |\n| DailyLog | id, userId, date, totals*, bmr, tdee | user |\n| Goal | id, userId, goalType, target*, isActive | user |\n\n### Folder Structure Verification\n| Path | Must Exist |\n|------|------------|\n| `Bodii/App/` | Yes |\n| `Bodii/Presentation/Features/` | Yes |\n| `Bodii/Presentation/Components/` | Yes |\n| `Bodii/Domain/Entities/` | Yes |\n| `Bodii/Domain/UseCases/` | Yes |\n| `Bodii/Domain/Interfaces/` | Yes |\n| `Bodii/Data/Repositories/` | Yes |\n| `Bodii/Data/DataSources/Local/` | Yes |\n| `Bodii/Infrastructure/Persistence/` | Yes |\n| `Bodii/Shared/Extensions/` | Yes |\n| `Bodii/Resources/` | Yes |\n\n### QA Sign-off Requirements\n- [ ] Project builds without errors\n- [ ] Project builds without warnings (or only expected warnings)\n- [ ] App launches on iOS Simulator\n- [ ] All 9 Core Data entities exist with correct schema\n- [ ] All Clean Architecture folders created\n- [ ] Entry point files (BodiiApp.swift, ContentView.swift) functional\n- [ ] Bundle ID correctly configured\n- [ ] iOS 17+ deployment target set\n- [ ] No regressions (N/A - new project)\n- [ ] Code follows established patterns from development guide\n",
        "last_modified": "2026-01-11T19:31:58.861891"
      },
      "task_intent": {
        "title": "001-",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-11T17:11:20.094490",
  "last_updated": "2026-01-11T19:11:51.692920"
}