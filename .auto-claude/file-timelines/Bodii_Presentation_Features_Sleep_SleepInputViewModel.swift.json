{
  "file_path": "Bodii/Presentation/Features/Sleep/SleepInputViewModel.swift",
  "main_branch_history": [],
  "task_views": {
    "009-sleep-tracking-with-5-status-system": {
      "task_id": "009-sleep-tracking-with-5-status-system",
      "branch_point": {
        "commit_hash": "4e56d606f7b0d4cb74120dd392544f3fe2d4f5b4",
        "content": "",
        "timestamp": "2026-01-14T21:03:40.462795"
      },
      "worktree_state": {
        "content": "//\n//  SleepInputViewModel.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-14.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Sleep Input ViewModel Pattern\n// \uc218\uba74 \uc2dc\uac04 \uc785\ub825 \ubc0f \uc800\uc7a5\uc744 \uc704\ud55c ViewModel\n// \ud83d\udca1 Java \ube44\uad50: Android\uc758 ViewModel\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc SwiftUI\uc758 @Published \uc0ac\uc6a9\n\nimport Foundation\nimport SwiftUI\nimport Combine\n\n// MARK: - SleepInputViewModel\n\n/// \uc218\uba74 \uc2dc\uac04 \uc785\ub825\uc744 \uc704\ud55c ViewModel\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: MVVM Pattern\n/// - View\uc758 \uc0c1\ud0dc\ub97c \uad00\ub9ac\ud558\uace0 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \ud638\ucd9c\n/// - @Published\ub85c \uc0c1\ud0dc \ubcc0\uacbd \uc2dc \uc790\ub3d9\uc73c\ub85c View \uc5c5\ub370\uc774\ud2b8\n/// - @MainActor\ub85c UI \uc2a4\ub808\ub4dc\uc5d0\uc11c \uc548\uc804\ud558\uac8c \uc2e4\ud589\n/// - \uc2dc\uac04/\ubd84 \ud53c\ucee4 \uc0c1\ud0dc \uad00\ub9ac\n/// - \uc218\uba74 \uc0c1\ud0dc \uc790\ub3d9 \uacc4\uc0b0 \ubc0f \ubbf8\ub9ac\ubcf4\uae30\n/// - \uc720\ud6a8\uc131 \uac80\uc99d \ubc0f \uc800\uc7a5\n/// \ud83d\udca1 Java \ube44\uad50: Android ViewModel + LiveData\uc640 \uc720\uc0ac\n@MainActor\nclass SleepInputViewModel: ObservableObject {\n\n    // MARK: - Published Properties (Input State)\n\n    /// \uc218\uba74 \uc2dc\uac04 (\uc2dc\uac04 \ub2e8\uc704: 0-24)\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: @Published\n    /// - \uac12\uc774 \ubcc0\uacbd\ub418\uba74 \uc790\ub3d9\uc73c\ub85c View \uc5c5\ub370\uc774\ud2b8\n    /// - Picker\uc640 \uc591\ubc29\ud5a5 \ubc14\uc778\ub529\n    /// \ud83d\udca1 Java \ube44\uad50: LiveData\uc640 \uc720\uc0ac\n    @Published var hours: Int = 7\n\n    /// \uc218\uba74 \uc2dc\uac04 (\ubd84 \ub2e8\uc704: 0, 10, 20, 30, 40, 50)\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: 10\ubd84 \ub2e8\uc704 \uc785\ub825\n    /// - UI\uc5d0\uc11c 10\ubd84 \uac04\uaca9\uc73c\ub85c \uc120\ud0dd \uac00\ub2a5\n    /// - \ub354 \uac04\ub2e8\ud55c UX \uc81c\uacf5\n    @Published var minutes: Int = 0\n\n    // MARK: - Published Properties (View State)\n\n    /// \uc800\uc7a5 \uc911 \uc0c1\ud0dc\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Loading State\n    /// - API \ud638\ucd9c \uc911 \ub85c\ub529 \uc778\ub514\ucf00\uc774\ud130 \ud45c\uc2dc\uc5d0 \uc0ac\uc6a9\n    /// - \uc800\uc7a5 \ubc84\ud2bc \ube44\ud65c\uc131\ud654\uc5d0 \uc0ac\uc6a9\n    @Published var isSaving: Bool = false\n\n    /// \uc5d0\ub7ec \uba54\uc2dc\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Optional Error State\n    /// - nil\uc774\uba74 \uc5d0\ub7ec \uc5c6\uc74c, \uac12\uc774 \uc788\uc73c\uba74 \uc5d0\ub7ec \uba54\uc2dc\uc9c0 \ud45c\uc2dc\n    @Published var errorMessage: String?\n\n    /// \uc131\uacf5 \uba54\uc2dc\uc9c0\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Success Feedback\n    /// - \uc800\uc7a5 \uc131\uacf5 \uc2dc \uc0ac\uc6a9\uc790\uc5d0\uac8c \ud53c\ub4dc\ubc31 \uc81c\uacf5\n    @Published var successMessage: String?\n\n    /// \uc785\ub825 \uc644\ub8cc \uc0c1\ud0dc (\uc800\uc7a5 \uc644\ub8cc \ud6c4 \uc2dc\ud2b8 \ub2eb\uae30 \ud2b8\ub9ac\uac70)\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Completion State\n    /// - View\uc5d0\uc11c \uc2dc\ud2b8/\ud31d\uc5c5 \ub2eb\uae30 \uc704\ud55c \uc0c1\ud0dc\n    @Published var isCompleted: Bool = false\n\n    // MARK: - Private Properties\n\n    /// \uc218\uba74 \uae30\ub85d Use Case\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection\n    /// - Use Case\ub97c \uc678\ubd80\uc5d0\uc11c \uc8fc\uc785\ubc1b\uc544 \uc0ac\uc6a9\n    /// - \ud14c\uc2a4\ud2b8 \uc2dc Mock\uc73c\ub85c \uad50\uccb4 \uac00\ub2a5\n    private let recordSleepUseCase: RecordSleepUseCase\n\n    /// \uc0ac\uc6a9\uc790 ID\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: User Context\n    /// - \uc218\uba74 \uae30\ub85d\uc5d0 \ud544\uc694\ud55c \uc0ac\uc6a9\uc790 \uc2dd\ubcc4\uc790\n    /// - TODO: UserRepository\uc5d0\uc11c \uc870\ud68c\ud558\ub3c4\ub85d \uac1c\uc120\n    private let userId: UUID\n\n    /// Combine \uad6c\ub3c5 \uc800\uc7a5\uc18c\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Combine Framework\n    /// - \ube44\ub3d9\uae30 \uc774\ubca4\ud2b8 \uc2a4\ud2b8\ub9bc \uad00\ub9ac\n    /// - \uba54\ubaa8\ub9ac \ub204\uc218 \ubc29\uc9c0\ub97c \uc704\ud55c \uad6c\ub3c5 \uad00\ub9ac\n    /// \ud83d\udca1 Java \ube44\uad50: RxJava\uc758 CompositeDisposable\uacfc \uc720\uc0ac\n    private var cancellables = Set<AnyCancellable>()\n\n    // MARK: - Initialization\n\n    /// SleepInputViewModel \ucd08\uae30\ud654\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Dependency Injection via Constructor\n    /// - \ubaa8\ub4e0 \uc758\uc874\uc131\uc744 \uc0dd\uc131\uc790\ub97c \ud1b5\ud574 \uc8fc\uc785\ubc1b\uc74c\n    /// - \uc758\uc874\uc131 \uc5ed\uc804 \uc6d0\uce59 (Dependency Inversion Principle) \uc900\uc218\n    /// \ud83d\udca1 Java \ube44\uad50: @Inject constructor\uc640 \uc720\uc0ac\n    ///\n    /// - Parameters:\n    ///   - recordSleepUseCase: \uc218\uba74 \uae30\ub85d Use Case\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    ///   - defaultHours: \uae30\ubcf8 \uc218\uba74 \uc2dc\uac04 (\uc2dc\uac04, \uae30\ubcf8\uac12: 7)\n    ///   - defaultMinutes: \uae30\ubcf8 \uc218\uba74 \uc2dc\uac04 (\ubd84, \uae30\ubcf8\uac12: 0)\n    init(\n        recordSleepUseCase: RecordSleepUseCase,\n        userId: UUID,\n        defaultHours: Int = 7,\n        defaultMinutes: Int = 0\n    ) {\n        self.recordSleepUseCase = recordSleepUseCase\n        self.userId = userId\n        self.hours = defaultHours\n        self.minutes = defaultMinutes\n    }\n\n    // MARK: - Computed Properties\n\n    /// \ucd1d \uc218\uba74 \uc2dc\uac04 (\ubd84 \ub2e8\uc704)\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Computed Property\n    /// - \uc2dc\uac04\uacfc \ubd84\uc744 \ud569\uc0b0\ud558\uc5ec \ucd1d \ubd84 \ub2e8\uc704\ub85c \ubcc0\ud658\n    /// - Use Case \ud638\ucd9c \ubc0f \uc0c1\ud0dc \uacc4\uc0b0\uc5d0 \uc0ac\uc6a9\n    var totalMinutes: Int32 {\n        return Int32(hours * 60 + minutes)\n    }\n\n    /// \uc608\uc0c1 \uc218\uba74 \uc0c1\ud0dc\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Real-time Status Preview\n    /// - \uc0ac\uc6a9\uc790\uac00 \uc2dc\uac04\uc744 \uc870\uc815\ud560 \ub54c\ub9c8\ub2e4 \uc608\uc0c1 \uc0c1\ud0dc \ud45c\uc2dc\n    /// - SleepStatus.from(durationMinutes:) \uc0ac\uc6a9\n    var expectedStatus: SleepStatus {\n        return SleepStatus.from(durationMinutes: totalMinutes)\n    }\n\n    /// \uc785\ub825 \uac12\uc774 \uc720\ud6a8\ud55c\uc9c0 \ud655\uc778\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Validation Logic\n    /// - \uc218\uba74 \uc2dc\uac04\uc774 0-24\uc2dc\uac04 \ubc94\uc704\uc778\uc9c0 \ud655\uc778\n    /// - 0\ubd84\ub3c4 \ud5c8\uc6a9 (\ubc24\uc0d8\uc758 \uacbd\uc6b0)\n    var isInputValid: Bool {\n        let total = totalMinutes\n        return total >= 0 && total <= 1440 // 0-24\uc2dc\uac04\n    }\n\n    /// \uc800\uc7a5 \ubc84\ud2bc \ud65c\uc131\ud654 \uc5ec\ubd80\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: UI State Calculation\n    /// - \uc785\ub825\uc774 \uc720\ud6a8\ud558\uace0 \uc800\uc7a5 \uc911\uc774 \uc544\ub2d0 \ub54c\ub9cc \ud65c\uc131\ud654\n    var canSave: Bool {\n        isInputValid && !isSaving\n    }\n\n    /// \uc218\uba74 \uc2dc\uac04 \ud3ec\ub9f7\ud305 (\uc608: \"7\uc2dc\uac04 30\ubd84\")\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Display Formatting\n    /// - \uc0ac\uc6a9\uc790\uc5d0\uac8c \ubcf4\uc5ec\uc904 \ud3ec\ub9f7\ub41c \ubb38\uc790\uc5f4\n    var formattedDuration: String {\n        if minutes == 0 {\n            return \"\\(hours)\uc2dc\uac04\"\n        } else {\n            return \"\\(hours)\uc2dc\uac04 \\(minutes)\ubd84\"\n        }\n    }\n\n    // MARK: - Public Methods\n\n    /// \uc218\uba74 \uae30\ub85d \uc800\uc7a5\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Async Method in ViewModel\n    /// - Use Case\ub97c \ud638\ucd9c\ud558\uc5ec \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uc2e4\ud589\n    /// - \uc131\uacf5/\uc2e4\ud328 \ucc98\ub9ac \ubc0f UI \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8\n    /// \ud83d\udca1 Java \ube44\uad50: Kotlin Coroutines\uc758 suspend function\uacfc \uc720\uc0ac\n    func saveSleep() async {\n        // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Guard Statement\n        // \uc785\ub825\uc774 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc73c\uba74 \uc870\uae30 \ub9ac\ud134\n        guard isInputValid else {\n            errorMessage = \"\uc218\uba74 \uc2dc\uac04\uc774 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\"\n            return\n        }\n\n        // \uc800\uc7a5 \uc2dc\uc791\n        isSaving = true\n        errorMessage = nil\n        successMessage = nil\n        isCompleted = false\n\n        do {\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Use Case Execution\n            // \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc740 Use Case\uc5d0 \uc704\uc784\n            // - \uc790\ub3d9\uc73c\ub85c SleepStatus \uacc4\uc0b0\n            // - 02:00 \uacbd\uacc4 \ub85c\uc9c1 \uc801\uc6a9\n            // - DailyLog \uc790\ub3d9 \uc5c5\ub370\uc774\ud2b8\n            let result = try await recordSleepUseCase.execute(\n                userId: userId,\n                date: Date(),\n                hours: hours,\n                minutes: minutes\n            )\n\n            // \uc131\uacf5 \ucc98\ub9ac\n            let (h, m) = result.durationFormatted\n            successMessage = \"\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \\(h)\uc2dc\uac04 \\(m)\ubd84 - \\(result.status.displayName)\"\n\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Delayed State Change\n            // \uc131\uacf5 \uba54\uc2dc\uc9c0\ub97c \uc7a0\uc2dc \ubcf4\uc5ec\uc900 \ud6c4 \uc644\ub8cc \uc0c1\ud0dc\ub85c \uc804\ud658\n            Task {\n                try? await Task.sleep(nanoseconds: 1_500_000_000) // 1.5\ucd08\n                isCompleted = true\n            }\n\n        } catch let error as RecordSleepUseCase.RecordError {\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Specific Error Handling\n            // Use Case\uc758 \ub3c4\uba54\uc778 \uc5d0\ub7ec\ub97c \uc0ac\uc6a9\uc790 \uce5c\ud654\uc801 \uba54\uc2dc\uc9c0\ub85c \ubcc0\ud658\n            errorMessage = error.localizedDescription\n        } catch {\n            // \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Generic Error Handling\n            // \uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc5d0\ub7ec \ucc98\ub9ac\n            errorMessage = \"\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: \\(error.localizedDescription)\"\n        }\n\n        isSaving = false\n    }\n\n    /// \uc785\ub825 \ud544\ub4dc \ucd08\uae30\ud654\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: State Reset\n    /// - \uae30\ubcf8\uac12\uc73c\ub85c \ub9ac\uc14b (7\uc2dc\uac04 0\ubd84)\n    func reset() {\n        hours = 7\n        minutes = 0\n        errorMessage = nil\n        successMessage = nil\n        isCompleted = false\n    }\n\n    /// \uc5d0\ub7ec \uba54\uc2dc\uc9c0 \uc81c\uac70\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: State Cleanup\n    /// - \uc0ac\uc6a9\uc790\uac00 \uc5d0\ub7ec \ud655\uc778 \ud6c4 \ud638\ucd9c\n    func clearError() {\n        errorMessage = nil\n    }\n\n    /// \uc131\uacf5 \uba54\uc2dc\uc9c0 \uc81c\uac70\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: State Cleanup\n    /// - \uc0ac\uc6a9\uc790\uac00 \uc131\uacf5 \uba54\uc2dc\uc9c0 \ud655\uc778 \ud6c4 \ud638\ucd9c\n    func clearSuccess() {\n        successMessage = nil\n    }\n\n    /// \uc218\uba74 \uc2dc\uac04 \uc124\uc815 (\ubd84 \ub2e8\uc704)\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Convenience Method\n    /// - \uc678\ubd80\uc5d0\uc11c \ubd84 \ub2e8\uc704\ub85c \uc9c1\uc811 \uc124\uc815 \uac00\ub2a5\n    /// - \uc608: \uc774\uc804 \uae30\ub85d\uc73c\ub85c\ubd80\ud130 \ubcf5\uc6d0\ud560 \ub54c\n    ///\n    /// - Parameter minutes: \ucd1d \uc218\uba74 \uc2dc\uac04 (\ubd84 \ub2e8\uc704)\n    func setDuration(minutes: Int) {\n        self.hours = minutes / 60\n        self.minutes = minutes % 60\n    }\n\n    /// \uc218\uba74 \uc2dc\uac04 \uc124\uc815 (\uc2dc\uac04/\ubd84 \ub2e8\uc704)\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Convenience Method\n    /// - \uc678\ubd80\uc5d0\uc11c \uc2dc\uac04/\ubd84 \ub2e8\uc704\ub85c \uc9c1\uc811 \uc124\uc815 \uac00\ub2a5\n    ///\n    /// - Parameters:\n    ///   - hours: \uc218\uba74 \uc2dc\uac04 (\uc2dc\uac04)\n    ///   - minutes: \uc218\uba74 \uc2dc\uac04 (\ubd84)\n    func setDuration(hours: Int, minutes: Int) {\n        self.hours = hours\n        self.minutes = minutes\n    }\n\n    // MARK: - Helper Methods\n\n    /// \uc218\uba74 \uc0c1\ud0dc \uc124\uba85 \ubb38\uc790\uc5f4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Status Description\n    /// - \uc0ac\uc6a9\uc790\uc5d0\uac8c \ud604\uc7ac \uc120\ud0dd\ud55c \uc218\uba74 \uc2dc\uac04\uc758 \uc758\ubbf8 \uc124\uba85\n    ///\n    /// - Returns: \uc0c1\ud0dc \uc124\uba85 \ubb38\uc790\uc5f4\n    func statusDescription() -> String {\n        switch expectedStatus {\n        case .bad:\n            return \"\uc218\uba74 \ubd80\uc871 - \ucda9\ubd84\ud55c \uc218\uba74\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4\"\n        case .soso:\n            return \"\ubcf4\ud1b5 - \uc870\uae08 \ub354 \uc8fc\ubb34\uc2dc\uba74 \uc88b\uc2b5\ub2c8\ub2e4\"\n        case .good:\n            return \"\uc801\uc815 \uc218\uba74 - \uc88b\uc740 \ucee8\ub514\uc158\uc774 \uae30\ub300\ub429\ub2c8\ub2e4\"\n        case .excellent:\n            return \"\ub9e4\uc6b0 \uc88b\uc74c - \ucd5c\uc801\uc758 \uc218\uba74 \uc2dc\uac04\uc785\ub2c8\ub2e4\"\n        case .oversleep:\n            return \"\uacfc\ub2e4 \uc218\uba74 - \ub108\ubb34 \uae34 \uc218\uba74\uc740 \ud53c\ub85c\ub97c \uc720\ubc1c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4\"\n        }\n    }\n\n    /// \uc218\uba74 \uad8c\uc7a5 \uc2dc\uac04 \ubc94\uc704 \ubb38\uc790\uc5f4\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Guideline Information\n    /// - \uc0ac\uc6a9\uc790\uc5d0\uac8c \uad8c\uc7a5 \uc218\uba74 \uc2dc\uac04 \uc815\ubcf4 \uc81c\uacf5\n    ///\n    /// - Returns: \uad8c\uc7a5 \uc2dc\uac04 \ubb38\uc790\uc5f4\n    func recommendedRange() -> String {\n        return \"\uad8c\uc7a5 \uc218\uba74 \uc2dc\uac04: 7\uc2dc\uac04 30\ubd84 ~ 9\uc2dc\uac04\"\n    }\n}\n\n// MARK: - Preview Support\n\n#if DEBUG\nextension SleepInputViewModel {\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Preview Helper\n    /// SwiftUI Preview\ub97c \uc704\ud55c Mock ViewModel\n    /// \ud83d\udca1 Java \ube44\uad50: Test fixture\uc640 \uc720\uc0ac\n    static func makePreview(\n        userId: UUID = UUID(),\n        hours: Int = 7,\n        minutes: Int = 30\n    ) -> SleepInputViewModel {\n        // Mock Use Case \ud544\uc694 (\uc2e4\uc81c\ub85c\ub294 DIContainer\uc5d0\uc11c \uc8fc\uc785)\n        // \uc5ec\uae30\uc11c\ub294 \uc784\uc2dc\ub85c fatalError \uc0ac\uc6a9\n        fatalError(\"Preview support not yet implemented. Use DIContainer.shared.makeSleepInputViewModel() instead.\")\n    }\n}\n#endif\n\n// MARK: - Documentation\n\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: SleepInputViewModel \uc774\ud574\n///\n/// SleepInputViewModel\uc758 \uc5ed\ud560:\n/// - \uc218\uba74 \uc2dc\uac04 \uc785\ub825 \uc0c1\ud0dc \uad00\ub9ac (\uc2dc\uac04/\ubd84 \ud53c\ucee4)\n/// - \uc2e4\uc2dc\uac04 \uc218\uba74 \uc0c1\ud0dc \uacc4\uc0b0 \ubc0f \ubbf8\ub9ac\ubcf4\uae30\n/// - \uc785\ub825 \uc720\ud6a8\uc131 \uac80\uc99d\n/// - \uc218\uba74 \uae30\ub85d \uc800\uc7a5 (RecordSleepUseCase \ud638\ucd9c)\n/// - \uc800\uc7a5 \uc131\uacf5/\uc2e4\ud328 \ud53c\ub4dc\ubc31\n///\n/// MVVM \ud328\ud134\uc5d0\uc11c\uc758 \uc704\uce58:\n/// - Model: Domain entities (SleepRecord, SleepStatus)\n/// - View: SwiftUI Views (SleepInputSheet)\n/// - ViewModel: \uc774 \ud074\ub798\uc2a4 (SleepInputViewModel)\n///\n/// \uc0c1\ud0dc \uad00\ub9ac:\n/// - hours/minutes: Picker\uc640 \uc591\ubc29\ud5a5 \ubc14\uc778\ub529\n/// - expectedStatus: \uc2e4\uc2dc\uac04\uc73c\ub85c \uacc4\uc0b0\ub418\uc5b4 \ubbf8\ub9ac\ubcf4\uae30 \ud45c\uc2dc\n/// - isSaving: \uc800\uc7a5 \uc911 \ub85c\ub529 \uc778\ub514\ucf00\uc774\ud130\n/// - errorMessage/successMessage: \uc0ac\uc6a9\uc790 \ud53c\ub4dc\ubc31\n/// - isCompleted: \uc800\uc7a5 \uc644\ub8cc \ud6c4 \uc2dc\ud2b8 \ub2eb\uae30\n///\n/// \ube44\uc988\ub2c8\uc2a4 \ud50c\ub85c\uc6b0:\n/// 1. \uc0ac\uc6a9\uc790\uac00 \uc2dc\uac04/\ubd84 Picker \uc870\uc815\n/// 2. expectedStatus \uc790\ub3d9 \uc5c5\ub370\uc774\ud2b8 (computed property)\n/// 3. \uc800\uc7a5 \ubc84\ud2bc \ud074\ub9ad\n/// 4. saveSleep() \ud638\ucd9c\n/// 5. RecordSleepUseCase.execute() \uc2e4\ud589\n///    - SleepStatus \uc790\ub3d9 \uacc4\uc0b0\n///    - 02:00 \uacbd\uacc4 \ub85c\uc9c1 \uc801\uc6a9\n///    - DailyLog \uc790\ub3d9 \uc5c5\ub370\uc774\ud2b8\n/// 6. \uc131\uacf5 \uba54\uc2dc\uc9c0 \ud45c\uc2dc\n/// 7. 1.5\ucd08 \ud6c4 isCompleted = true\n/// 8. View\uc5d0\uc11c \uc2dc\ud2b8 \ub2eb\uae30\n///\n/// \uc758\uc874\uc131:\n/// - RecordSleepUseCase: \uc218\uba74 \uae30\ub85d \uc800\uc7a5\n/// - userId: \uc0ac\uc6a9\uc790 \uc2dd\ubcc4\uc790\n///\n/// \uc0ac\uc6a9 \uc608\uc2dc:\n/// ```swift\n/// struct SleepInputSheet: View {\n///     @StateObject private var viewModel: SleepInputViewModel\n///     @Environment(\\.dismiss) var dismiss\n///\n///     var body: some View {\n///         VStack {\n///             // \uc2dc\uac04/\ubd84 \ud53c\ucee4\n///             HStack {\n///                 Picker(\"\uc2dc\uac04\", selection: $viewModel.hours) {\n///                     ForEach(0...24, id: \\.self) { hour in\n///                         Text(\"\\(hour)\uc2dc\uac04\").tag(hour)\n///                     }\n///                 }\n///                 .pickerStyle(.wheel)\n///\n///                 Picker(\"\ubd84\", selection: $viewModel.minutes) {\n///                     ForEach([0, 10, 20, 30, 40, 50], id: \\.self) { min in\n///                         Text(\"\\(min)\ubd84\").tag(min)\n///                     }\n///                 }\n///                 .pickerStyle(.wheel)\n///             }\n///\n///             // \uc608\uc0c1 \uc0c1\ud0dc \ubbf8\ub9ac\ubcf4\uae30\n///             SleepStatusBadge(status: viewModel.expectedStatus)\n///             Text(viewModel.statusDescription())\n///\n///             // \uc800\uc7a5 \ubc84\ud2bc\n///             Button(\"\uc800\uc7a5\") {\n///                 Task {\n///                     await viewModel.saveSleep()\n///                 }\n///             }\n///             .disabled(!viewModel.canSave)\n///         }\n///         .onChange(of: viewModel.isCompleted) { completed in\n///             if completed {\n///                 dismiss()\n///             }\n///         }\n///         .alert(\"\uc5d0\ub7ec\", isPresented: .constant(viewModel.errorMessage != nil)) {\n///             Button(\"\ud655\uc778\") { viewModel.clearError() }\n///         } message: {\n///             Text(viewModel.errorMessage ?? \"\")\n///         }\n///     }\n/// }\n/// ```\n///\n/// \ud83d\udca1 Android ViewModel\uacfc\uc758 \ube44\uad50:\n/// - Android: ViewModel + LiveData + Use Cases\n/// - SwiftUI: ObservableObject + @Published + Use Cases\n/// - Android: viewModelScope.launch\n/// - SwiftUI: Task { await ... } with @MainActor\n///\n/// \ud83d\udca1 \uc2e4\ubb34 \ud301:\n/// - Picker\uc758 \uc591\ubc29\ud5a5 \ubc14\uc778\ub529\uc744 \uc704\ud574 @Published \uc0ac\uc6a9\n/// - expectedStatus\ub294 computed property\ub85c \uc2e4\uc2dc\uac04 \uacc4\uc0b0\n/// - \uc800\uc7a5 \uc131\uacf5 \ud6c4 1.5\ucd08 \ub300\uae30\ud558\uc5ec \uba54\uc2dc\uc9c0\ub97c \ubcf4\uc5ec\uc900 \ud6c4 \uc2dc\ud2b8 \ub2eb\uae30\n/// - isCompleted\ub97c onChange\ub85c \uac10\uc9c0\ud558\uc5ec dismiss() \ud638\ucd9c\n/// - \uc5d0\ub7ec\ub294 alert\ub85c \ud45c\uc2dc\ud558\uc5ec \uc0ac\uc6a9\uc790\uac00 \ud655\uc778 \uac00\ub2a5\n///\n/// RecordSleepUseCase\uc640\uc758 \ud611\ub825:\n/// - ViewModel: UI \uc0c1\ud0dc \uad00\ub9ac \ubc0f \uc785\ub825 \uc218\uc9d1\n/// - Use Case: \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 (\uc0c1\ud0dc \uacc4\uc0b0, \uc800\uc7a5, DailyLog \uc5c5\ub370\uc774\ud2b8)\n/// - ViewModel\uc740 Use Case\uc758 \uacb0\uacfc\ub9cc \ubc1b\uc544\uc11c UI \uc5c5\ub370\uc774\ud2b8\n///\n",
        "last_modified": "2026-01-14T22:52:08.913390"
      },
      "task_intent": {
        "title": "009-sleep-tracking-with-5-status-system",
        "description": "Sleep logging with 5-status tracking (bad, soso, good, excellent, oversleep), duration input, wake time prompts, and correlation with other health metrics. Automatic morning prompt to log previous night's sleep.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-14T18:01:05.093134",
  "last_updated": "2026-01-14T21:03:40.497558"
}