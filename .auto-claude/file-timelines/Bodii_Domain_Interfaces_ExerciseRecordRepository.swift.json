{
  "file_path": "Bodii/Domain/Interfaces/ExerciseRecordRepository.swift",
  "main_branch_history": [],
  "task_views": {
    "008-exercise-tracking-with-met-calculations": {
      "task_id": "008-exercise-tracking-with-met-calculations",
      "branch_point": {
        "commit_hash": "4e56d606f7b0d4cb74120dd392544f3fe2d4f5b4",
        "content": "",
        "timestamp": "2026-01-14T11:45:41.765455"
      },
      "worktree_state": {
        "content": "//\n//  ExerciseRecordRepository.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-13.\n//\n\nimport Foundation\n\n/// ExerciseRecord \uc800\uc7a5\uc18c \ud504\ub85c\ud1a0\ucf5c\n///\n/// Clean Architecture\uc758 Repository \ud328\ud134\uc744 \ub530\ub974\uba70,\n/// \ub370\uc774\ud130 \uc18c\uc2a4(Core Data, \ub124\ud2b8\uc6cc\ud06c \ub4f1)\uc640 \ub3c4\uba54\uc778 \uacc4\uce35 \uc0ac\uc774\uc758 \ucd94\uc0c1\ud654\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.\n///\n/// ## \ucc45\uc784\n/// - ExerciseRecord\uc758 CRUD \uc791\uc5c5\n/// - \ub0a0\uc9dc \uae30\ubc18 \uc870\ud68c \ubc0f \ud544\ud130\ub9c1\n/// - \ub370\uc774\ud130 \uc601\uc18d\uc131 \uad00\ub9ac\n///\n/// ## \uad6c\ud604 \ucc38\uace0\uc0ac\ud56d\n/// - \ubaa8\ub4e0 \uba54\uc11c\ub4dc\ub294 async/await \ud328\ud134\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4\n/// - \uc5d0\ub7ec \ubc1c\uc0dd \uc2dc \uc801\uc808\ud55c \uc608\uc678\ub97c throw\ud574\uc57c \ud569\ub2c8\ub2e4\n/// - \ud2b8\ub79c\uc7ad\uc158 \ucc98\ub9ac\ub294 \uad6c\ud604\uccb4\uc5d0\uc11c \ub2f4\ub2f9\ud569\ub2c8\ub2e4\n///\n/// - Example:\n/// ```swift\n/// let repository: ExerciseRecordRepository = ExerciseRecordRepositoryImpl()\n///\n/// // \uc6b4\ub3d9 \uae30\ub85d \uc0dd\uc131\n/// let record = ExerciseRecord(\n///     id: UUID(),\n///     userId: userId,\n///     date: Date(),\n///     exerciseType: .running,\n///     duration: 30,\n///     intensity: .high,\n///     caloriesBurned: 350,\n///     createdAt: Date()\n/// )\n/// try await repository.create(record)\n///\n/// // \uc624\ub298 \uc6b4\ub3d9 \uae30\ub85d \uc870\ud68c\n/// let todayRecords = try await repository.fetchByDate(Date(), userId: userId)\n/// ```\nprotocol ExerciseRecordRepository {\n\n    // MARK: - Create\n\n    /// \uc0c8\ub85c\uc6b4 \uc6b4\ub3d9 \uae30\ub85d\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameter record: \uc0dd\uc131\ud560 \uc6b4\ub3d9 \uae30\ub85d\n    /// - Throws: \ub370\uc774\ud130 \uc800\uc7a5 \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    /// - Returns: \uc0dd\uc131\ub41c \uc6b4\ub3d9 \uae30\ub85d (\uc800\uc7a5\uc18c\uc5d0\uc11c \ud560\ub2f9\ub41c ID \ud3ec\ud568)\n    func create(_ record: ExerciseRecord) async throws -> ExerciseRecord\n\n    // MARK: - Read\n\n    /// ID\ub85c \uc6b4\ub3d9 \uae30\ub85d\uc744 \uc870\ud68c\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - id: \uc6b4\ub3d9 \uae30\ub85d \uace0\uc720 \uc2dd\ubcc4\uc790\n    ///   - userId: \uc0ac\uc6a9\uc790 ID (\uad8c\ud55c \ud655\uc778\uc6a9)\n    /// - Throws: \uc870\ud68c \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    /// - Returns: \uc870\ud68c\ub41c \uc6b4\ub3d9 \uae30\ub85d, \uc5c6\uc73c\uba74 nil\n    func fetchById(_ id: UUID, userId: UUID) async throws -> ExerciseRecord?\n\n    /// \ud2b9\uc815 \ub0a0\uc9dc\uc758 \ubaa8\ub4e0 \uc6b4\ub3d9 \uae30\ub85d\uc744 \uc870\ud68c\ud569\ub2c8\ub2e4.\n    ///\n    /// \ud574\ub2f9 \ub0a0\uc9dc\uc758 00:00:00 ~ 23:59:59 \ubc94\uc704 \ub0b4 \uc6b4\ub3d9 \uae30\ub85d\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.\n    /// \uacb0\uacfc\ub294 \uc0dd\uc131 \uc2dc\uac04\uc21c(\ucd5c\uc2e0\uc21c)\uc73c\ub85c \uc815\ub82c\ub429\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - date: \uc870\ud68c\ud560 \ub0a0\uc9dc\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    /// - Throws: \uc870\ud68c \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    /// - Returns: \uc6b4\ub3d9 \uae30\ub85d \ubc30\uc5f4 (\uc5c6\uc73c\uba74 \ube48 \ubc30\uc5f4)\n    func fetchByDate(_ date: Date, userId: UUID) async throws -> [ExerciseRecord]\n\n    /// \ub0a0\uc9dc \ubc94\uc704 \ub0b4 \ubaa8\ub4e0 \uc6b4\ub3d9 \uae30\ub85d\uc744 \uc870\ud68c\ud569\ub2c8\ub2e4.\n    ///\n    /// startDate(00:00:00)\ubd80\ud130 endDate(23:59:59)\uae4c\uc9c0\uc758 \uc6b4\ub3d9 \uae30\ub85d\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.\n    /// \uacb0\uacfc\ub294 \ub0a0\uc9dc\uc21c(\ucd5c\uc2e0\uc21c)\uc73c\ub85c \uc815\ub82c\ub429\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - startDate: \uc2dc\uc791 \ub0a0\uc9dc (\ud3ec\ud568)\n    ///   - endDate: \uc885\ub8cc \ub0a0\uc9dc (\ud3ec\ud568)\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    /// - Throws: \uc870\ud68c \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    /// - Returns: \uc6b4\ub3d9 \uae30\ub85d \ubc30\uc5f4 (\uc5c6\uc73c\uba74 \ube48 \ubc30\uc5f4)\n    func fetchByDateRange(startDate: Date, endDate: Date, userId: UUID) async throws -> [ExerciseRecord]\n\n    /// \uc0ac\uc6a9\uc790\uc758 \ubaa8\ub4e0 \uc6b4\ub3d9 \uae30\ub85d\uc744 \uc870\ud68c\ud569\ub2c8\ub2e4.\n    ///\n    /// \uacb0\uacfc\ub294 \ub0a0\uc9dc\uc21c(\ucd5c\uc2e0\uc21c)\uc73c\ub85c \uc815\ub82c\ub429\ub2c8\ub2e4.\n    ///\n    /// - Parameter userId: \uc0ac\uc6a9\uc790 ID\n    /// - Throws: \uc870\ud68c \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    /// - Returns: \uc6b4\ub3d9 \uae30\ub85d \ubc30\uc5f4 (\uc5c6\uc73c\uba74 \ube48 \ubc30\uc5f4)\n    func fetchAll(userId: UUID) async throws -> [ExerciseRecord]\n\n    // MARK: - Update\n\n    /// \uae30\uc874 \uc6b4\ub3d9 \uae30\ub85d\uc744 \uc218\uc815\ud569\ub2c8\ub2e4.\n    ///\n    /// ID\uac00 \uc77c\uce58\ud558\ub294 \uae30\ub85d\uc744 \ucc3e\uc544 \uc81c\uacf5\ub41c \ub370\uc774\ud130\ub85c \uc5c5\ub370\uc774\ud2b8\ud569\ub2c8\ub2e4.\n    /// userId\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc73c\uba74 \uad8c\ud55c \uc5d0\ub7ec\ub97c throw\ud574\uc57c \ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameter record: \uc218\uc815\ud560 \uc6b4\ub3d9 \uae30\ub85d (ID \ud544\uc218)\n    /// - Throws: \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328 \ub610\ub294 \uad8c\ud55c \uc5c6\uc74c \uc2dc \uc5d0\ub7ec\n    /// - Returns: \uc218\uc815\ub41c \uc6b4\ub3d9 \uae30\ub85d\n    func update(_ record: ExerciseRecord) async throws -> ExerciseRecord\n\n    // MARK: - Delete\n\n    /// \uc6b4\ub3d9 \uae30\ub85d\uc744 \uc0ad\uc81c\ud569\ub2c8\ub2e4.\n    ///\n    /// userId\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc73c\uba74 \uad8c\ud55c \uc5d0\ub7ec\ub97c throw\ud574\uc57c \ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - id: \uc0ad\uc81c\ud560 \uc6b4\ub3d9 \uae30\ub85d ID\n    ///   - userId: \uc0ac\uc6a9\uc790 ID (\uad8c\ud55c \ud655\uc778\uc6a9)\n    /// - Throws: \uc0ad\uc81c \uc2e4\ud328 \ub610\ub294 \uad8c\ud55c \uc5c6\uc74c \uc2dc \uc5d0\ub7ec\n    func delete(id: UUID, userId: UUID) async throws\n\n    // MARK: - Utility\n\n    /// \ud2b9\uc815 \ub0a0\uc9dc\uc758 \uc6b4\ub3d9 \uae30\ub85d \uac1c\uc218\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - date: \uc870\ud68c\ud560 \ub0a0\uc9dc\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    /// - Throws: \uc870\ud68c \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    /// - Returns: \uc6b4\ub3d9 \uae30\ub85d \uac1c\uc218\n    func count(forDate date: Date, userId: UUID) async throws -> Int\n\n    /// \ud2b9\uc815 \ub0a0\uc9dc\uc758 \ucd1d \uc6b4\ub3d9 \uc2dc\uac04(\ubd84)\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - date: \uc870\ud68c\ud560 \ub0a0\uc9dc\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    /// - Throws: \uc870\ud68c \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    /// - Returns: \ucd1d \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    func totalDuration(forDate date: Date, userId: UUID) async throws -> Int32\n\n    /// \ud2b9\uc815 \ub0a0\uc9dc\uc758 \ucd1d \uc18c\ubaa8 \uce7c\ub85c\ub9ac\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - date: \uc870\ud68c\ud560 \ub0a0\uc9dc\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    /// - Throws: \uc870\ud68c \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    /// - Returns: \ucd1d \uc18c\ubaa8 \uce7c\ub85c\ub9ac (kcal)\n    func totalCaloriesBurned(forDate date: Date, userId: UUID) async throws -> Int32\n}\n",
        "last_modified": "2026-01-14T22:54:09.701301"
      },
      "task_intent": {
        "title": "008-exercise-tracking-with-met-calculations",
        "description": "Exercise logging with activity type selection, duration input, and automatic calorie burn calculation using MET (Metabolic Equivalent of Task) values. Track both cardio and strength training with appropriate calculations.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-13T19:19:05.963463",
  "last_updated": "2026-01-14T11:45:41.892254"
}