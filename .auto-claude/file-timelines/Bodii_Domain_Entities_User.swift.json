{
  "file_path": "Bodii/Domain/Entities/User.swift",
  "main_branch_history": [],
  "task_views": {
    "002-project-foundation-core-data-model": {
      "task_id": "002-project-foundation-core-data-model",
      "branch_point": {
        "commit_hash": "2abdae73fb6199bcbf4f21f6deeb7952225f81e6",
        "content": "",
        "timestamp": "2026-01-12T08:37:37.044484"
      },
      "worktree_state": {
        "content": "//\n//  User.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Domain Entity Pattern\n// Domain \uacc4\uce35\uc758 \uc21c\uc218 Swift \uad6c\uc870\uccb4\ub85c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc5d0\uc11c \uc0ac\uc6a9\n// Core Data \uc5d4\ud2f0\ud2f0(UserEntity)\uc640 \ubd84\ub9ac\ud558\uc5ec \ud14c\uc2a4\ud2b8 \uac00\ub2a5\uc131\uacfc \uc720\uc9c0\ubcf4\uc218\uc131 \ud5a5\uc0c1\n// \ud83d\udca1 Java \ube44\uad50: JPA Entity\ub97c \uadf8\ub300\ub85c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 \ubcc4\ub3c4 Domain \ubaa8\ub378\uc744 \ub450\ub294 Clean Architecture \ud328\ud134\n\nimport Foundation\n\n// MARK: - User\n\n/// \uc0ac\uc6a9\uc790 \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\n/// - \uc571\uc758 \ud575\uc2ec \uc5d4\ud2f0\ud2f0\ub85c \uc0ac\uc6a9\uc790\uc758 \uae30\ubcf8 \uc815\ubcf4\uc640 \ud604\uc7ac \ub300\uc0ac \uc0c1\ud0dc\ub97c \uad00\ub9ac\n/// - Core Data\uc758 UserEntity\uc640 1:1 \ub9e4\ud551\ub418\uc9c0\ub9cc \uc21c\uc218 Swift \ud0c0\uc785\uc73c\ub85c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc5d0\uc11c \uc0ac\uc6a9\n///\n/// ## \uc8fc\uc694 \uae30\ub2a5\n/// - \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc815\ubcf4 (\uc774\ub984, \uc131\ubcc4, \uc0dd\ub144\uc6d4\uc77c, \ud0a4, \ud65c\ub3d9 \uc218\uc900)\n/// - \ud604\uc7ac \uc2e0\uccb4 \ub370\uc774\ud130 (\uccb4\uc911, \uccb4\uc9c0\ubc29\ub960, \uadfc\uc721\ub7c9)\n/// - \ud604\uc7ac \ub300\uc0ac \uc815\ubcf4 (\uae30\ucd08\ub300\uc0ac\ub7c9 BMR, \uc77c\uc77c \ucd1d \uc5d0\ub108\uc9c0 \uc18c\ube44\ub7c9 TDEE)\n/// - \uc790\ub3d9 \uacc4\uc0b0\ub418\ub294 \ub098\uc774 (\uc0dd\ub144\uc6d4\uc77c \uae30\ubc18)\n///\n/// ## \uc0ac\uc6a9 \uc608\uc2dc\n/// ```swift\n/// let user = User(\n///     id: UUID(),\n///     name: \"\ud64d\uae38\ub3d9\",\n///     gender: .male,\n///     birthDate: Date(),\n///     height: 175.0,\n///     activityLevel: .moderate,\n///     currentWeight: 70.0,\n///     currentBodyFatPct: 18.5,\n///     currentMuscleMass: 32.0,\n///     currentBMR: 1650,\n///     currentTDEE: 2550,\n///     metabolismUpdatedAt: Date(),\n///     createdAt: Date(),\n///     updatedAt: Date()\n/// )\n/// print(user.age) // \ub098\uc774 \uc790\ub3d9 \uacc4\uc0b0\n/// ```\nstruct User: Identifiable, Codable, Equatable {\n\n    // MARK: - Properties\n\n    // MARK: Identifier\n\n    /// \uc0ac\uc6a9\uc790 \uace0\uc720 \uc2dd\ubcc4\uc790\n    /// - UUID \ud0c0\uc785\uc73c\ub85c \uc804\uc5ed \uace0\uc720\uc131 \ubcf4\uc7a5\n    let id: UUID\n\n    // MARK: Profile Information\n\n    /// \uc0ac\uc6a9\uc790 \uc774\ub984\n    /// - \uae38\uc774 \uc81c\ud55c: 1-20\uc790 (ValidationService.validateName\uc73c\ub85c \uac80\uc99d)\n    var name: String\n\n    /// \uc131\ubcc4\n    /// - BMR \uacc4\uc0b0 \uc2dc \uc0ac\uc6a9 (\ub0a8\uc131/\uc5ec\uc131\uc5d0 \ub530\ub77c \uacc4\uc0b0\uc2dd \ub2e4\ub984)\n    var gender: Gender\n\n    /// \uc0dd\ub144\uc6d4\uc77c\n    /// - \ub098\uc774 \uacc4\uc0b0\uc758 \uae30\uc900\n    /// - \ud5c8\uc6a9 \ubc94\uc704: 1900\ub144 ~ \ud604\uc7ac (ValidationService.validateAge\ub85c \uac80\uc99d)\n    var birthDate: Date\n\n    /// \ud0a4 (cm)\n    /// - BMR \uacc4\uc0b0 \uc2dc \uc0ac\uc6a9\n    /// - \ud5c8\uc6a9 \ubc94\uc704: 100-250cm (ValidationService.validateHeight\ub85c \uac80\uc99d)\n    var height: Decimal\n\n    /// \ud65c\ub3d9 \uc218\uc900\n    /// - TDEE \uacc4\uc0b0 \uc2dc BMR\uc5d0 \uacf1\ud560 \uacc4\uc218 \uc81c\uacf5 (1.2 ~ 1.9)\n    /// - \uae30\ubcf8\uac12: .moderate (\ubcf4\ud1b5 \ud65c\ub3d9)\n    var activityLevel: ActivityLevel\n\n    // MARK: Current Body Data\n\n    /// \ud604\uc7ac \uccb4\uc911 (kg)\n    /// - \uac00\uc7a5 \ucd5c\uadfc BodyRecord\uc758 weight \uac12\n    /// - \ud5c8\uc6a9 \ubc94\uc704: 20-300kg (ValidationService.validateWeight\ub85c \uac80\uc99d)\n    var currentWeight: Decimal\n\n    /// \ud604\uc7ac \uccb4\uc9c0\ubc29\ub960 (%)\n    /// - \uac00\uc7a5 \ucd5c\uadfc BodyRecord\uc758 bodyFatPercent \uac12\n    /// - \ud5c8\uc6a9 \ubc94\uc704: 3-60% (ValidationService.validateBodyFatPercent\ub85c \uac80\uc99d)\n    var currentBodyFatPct: Decimal\n\n    /// \ud604\uc7ac \uadfc\uc721\ub7c9 (kg)\n    /// - \uac00\uc7a5 \ucd5c\uadfc BodyRecord\uc758 muscleMass \uac12\n    /// - \ud5c8\uc6a9 \ubc94\uc704: 10-60kg (ValidationService.validateMuscleMass\ub85c \uac80\uc99d)\n    var currentMuscleMass: Decimal\n\n    // MARK: Current Metabolism Data\n\n    /// \ud604\uc7ac \uae30\ucd08\ub300\uc0ac\ub7c9 (kcal/day)\n    /// - Mifflin-St Jeor \uacf5\uc2dd\uc73c\ub85c \uacc4\uc0b0: BMR = (10 \u00d7 \uccb4\uc911kg) + (6.25 \u00d7 \ud0a4cm) - (5 \u00d7 \ub098\uc774) + \uc131\ubcc4\uacc4\uc218\n    /// - \uc131\ubcc4\uacc4\uc218: \ub0a8\uc131 +5, \uc5ec\uc131 -161\n    /// - \uac00\uc7a5 \ucd5c\uadfc MetabolismSnapshot\uc758 bmr \uac12\n    var currentBMR: Int\n\n    /// \ud604\uc7ac \uc77c\uc77c \ucd1d \uc5d0\ub108\uc9c0 \uc18c\ube44\ub7c9 (kcal/day)\n    /// - TDEE = BMR \u00d7 activityLevel.multiplier\n    /// - \uac00\uc7a5 \ucd5c\uadfc MetabolismSnapshot\uc758 tdee \uac12\n    var currentTDEE: Int\n\n    // MARK: Timestamps\n\n    /// \ub300\uc0ac \uc815\ubcf4 \ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8 \uc2dc\uac01\n    /// - BodyRecord \uc800\uc7a5 \uc2dc \uc790\ub3d9\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\n    var metabolismUpdatedAt: Date\n\n    /// \uc0dd\uc131 \uc2dc\uac01\n    let createdAt: Date\n\n    /// \ub9c8\uc9c0\ub9c9 \uc218\uc815 \uc2dc\uac01\n    var updatedAt: Date\n\n    // MARK: - Computed Properties\n\n    /// \ub9cc \ub098\uc774\n    /// - \uc0dd\ub144\uc6d4\uc77c \uae30\ubc18\uc73c\ub85c \uc790\ub3d9 \uacc4\uc0b0\n    /// - \ud604\uc7ac \ub0a0\uc9dc\ub97c \uae30\uc900\uc73c\ub85c \uacc4\uc0b0\n    ///\n    /// ## \uacc4\uc0b0 \ubc29\uc2dd\n    /// ```swift\n    /// // \uc608: 1990-05-15 \uc0dd\uc77c, 2024-01-15 \uae30\uc900 \u2192 33\uc138\n    /// let age = Date.age(from: birthDate)\n    /// ```\n    var age: Int {\n        Date.age(from: birthDate)\n    }\n}\n\n// MARK: - User + CustomStringConvertible\n\nextension User: CustomStringConvertible {\n    /// \ub514\ubc84\uae45\uc6a9 \ubb38\uc790\uc5f4 \ud45c\ud604\n    var description: String {\n        \"\"\"\n        User(\n          id: \\(id.uuidString.prefix(8))...,\n          name: \\(name),\n          gender: \\(gender.displayName),\n          age: \\(age)\uc138,\n          height: \\(height)cm,\n          activityLevel: \\(activityLevel.displayName),\n          currentWeight: \\(currentWeight)kg,\n          currentBodyFatPct: \\(currentBodyFatPct)%,\n          currentMuscleMass: \\(currentMuscleMass)kg,\n          currentBMR: \\(currentBMR)kcal,\n          currentTDEE: \\(currentTDEE)kcal\n        )\n        \"\"\"\n    }\n}\n",
        "last_modified": "2026-01-12T08:37:37.431019"
      },
      "task_intent": {
        "title": "Project Foundation & Core Data Model",
        "description": "Set up Xcode project with SwiftUI, MVVM architecture, Core Data persistence layer with 9 entities (User, BodyRecord, MetabolismSnapshot, Food, FoodRecord, ExerciseRecord, SleepRecord, DailyLog, Goal), and utility services for date handling and input validation.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    },
    "004-project-foundation-core-data-model": {
      "task_id": "004-project-foundation-core-data-model",
      "branch_point": {
        "commit_hash": "2abdae73fb6199bcbf4f21f6deeb7952225f81e6",
        "content": "",
        "timestamp": "2026-01-12T19:14:54.682468"
      },
      "worktree_state": {
        "content": "//\n//  User.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2024-01-12.\n//\n\nimport Foundation\n\n/// \uc0ac\uc6a9\uc790 \ub3c4\uba54\uc778 \uc5d4\ud2f0\ud2f0\n///\n/// \uc571\uc744 \uc0ac\uc6a9\ud558\ub294 \uc0ac\uc6a9\uc790\uc758 \uae30\ubcf8 \uc815\ubcf4\uc640 \ud604\uc7ac \uccb4\uc131\ubd84 \uc0c1\ud0dc\ub97c \ub098\ud0c0\ub0c5\ub2c8\ub2e4.\n///\n/// - Note: currentWeight, currentBodyFatPct, currentMuscleMass, currentBMR, currentTDEE\ub294\n///         \uccb4\uc131\ubd84 \uae30\ub85d(BodyRecord) \uc785\ub825 \uc2dc \uc790\ub3d9\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub429\ub2c8\ub2e4.\n///\n/// - Example:\n/// ```swift\n/// let user = User(\n///     id: UUID(),\n///     name: \"\ud64d\uae38\ub3d9\",\n///     gender: .male,\n///     birthDate: Date(),\n///     height: Decimal(175.0),\n///     activityLevel: .moderatelyActive,\n///     createdAt: Date(),\n///     updatedAt: Date()\n/// )\n/// ```\nstruct User {\n    // MARK: - Primary Key\n\n    /// \uace0\uc720 \uc2dd\ubcc4\uc790\n    let id: UUID\n\n    // MARK: - Basic Information\n\n    /// \uc0ac\uc6a9\uc790 \uc774\ub984\n    var name: String\n\n    /// \uc131\ubcc4 (0: \ub0a8\uc131, 1: \uc5ec\uc131)\n    var gender: Gender\n\n    /// \uc0dd\ub144\uc6d4\uc77c\n    var birthDate: Date\n\n    /// \ud0a4 (cm)\n    var height: Decimal\n\n    /// \ud65c\ub3d9 \uc218\uc900 (1~5)\n    ///\n    /// - 1: \ube44\ud65c\ub3d9\uc801 (Sedentary) - \uc88c\uc2dd \uc0dd\ud65c, \uacc4\uc218 1.2\n    /// - 2: \uac00\ubcbc\uc6b4 \ud65c\ub3d9 (Light) - \uc8fc 1-3\uc77c \uc6b4\ub3d9, \uacc4\uc218 1.375\n    /// - 3: \ubcf4\ud1b5 \ud65c\ub3d9 (Moderate) - \uc8fc 3-5\uc77c \uc6b4\ub3d9, \uacc4\uc218 1.55\n    /// - 4: \ud65c\ub3d9\uc801 (Active) - \uc8fc 6-7\uc77c \uc6b4\ub3d9, \uacc4\uc218 1.725\n    /// - 5: \ub9e4\uc6b0 \ud65c\ub3d9\uc801 (Very Active) - \uace0\uac15\ub3c4 \ub9e4\uc77c, \uacc4\uc218 1.9\n    var activityLevel: ActivityLevel\n\n    // MARK: - Current Metabolism State\n\n    /// \ucd5c\uc2e0 \uccb4\uc911 (kg)\n    ///\n    /// \uccb4\uc131\ubd84 \uae30\ub85d(BodyRecord) \uc785\ub825 \uc2dc \uc790\ub3d9 \uc5c5\ub370\uc774\ud2b8\ub429\ub2c8\ub2e4.\n    var currentWeight: Decimal?\n\n    /// \ucd5c\uc2e0 \uccb4\uc9c0\ubc29\ub960 (%)\n    ///\n    /// \uccb4\uc131\ubd84 \uae30\ub85d(BodyRecord) \uc785\ub825 \uc2dc \uc790\ub3d9 \uc5c5\ub370\uc774\ud2b8\ub429\ub2c8\ub2e4.\n    var currentBodyFatPct: Decimal?\n\n    /// \ucd5c\uc2e0 \uace8\uaca9\uadfc\ub7c9 (kg)\n    ///\n    /// \uccb4\uc131\ubd84 \uae30\ub85d(BodyRecord) \uc785\ub825 \uc2dc \uc790\ub3d9 \uc5c5\ub370\uc774\ud2b8\ub429\ub2c8\ub2e4.\n    var currentMuscleMass: Decimal?\n\n    /// \ud604\uc7ac \uae30\ucd08\ub300\uc0ac\ub7c9 (kcal)\n    ///\n    /// \uccb4\uc131\ubd84 \uae30\ub85d \uc785\ub825, \ud65c\ub3d9 \uc218\uc900 \ubcc0\uacbd, \ud0a4/\uc0dd\ub144\uc6d4\uc77c \ubcc0\uacbd \uc2dc \uc790\ub3d9 \uc5c5\ub370\uc774\ud2b8\ub429\ub2c8\ub2e4.\n    var currentBMR: Decimal?\n\n    /// \ud604\uc7ac \ud65c\ub3d9\ub300\uc0ac\ub7c9 (kcal)\n    ///\n    /// \uccb4\uc131\ubd84 \uae30\ub85d \uc785\ub825, \ud65c\ub3d9 \uc218\uc900 \ubcc0\uacbd, \ud0a4/\uc0dd\ub144\uc6d4\uc77c \ubcc0\uacbd \uc2dc \uc790\ub3d9 \uc5c5\ub370\uc774\ud2b8\ub429\ub2c8\ub2e4.\n    var currentTDEE: Decimal?\n\n    /// \ub300\uc0ac\ub7c9 \ub9c8\uc9c0\ub9c9 \uacc4\uc0b0 \uc2dc\uc810\n    ///\n    /// BMR/TDEE\uac00 \ub9c8\uc9c0\ub9c9\uc73c\ub85c \uacc4\uc0b0\ub41c \uc77c\uc2dc\ub97c \ub098\ud0c0\ub0c5\ub2c8\ub2e4.\n    var metabolismUpdatedAt: Date?\n\n    // MARK: - Metadata\n\n    /// \uc0dd\uc131\uc77c\uc2dc\n    let createdAt: Date\n\n    /// \uc218\uc815\uc77c\uc2dc\n    var updatedAt: Date\n}\n\n// MARK: - Identifiable\n\nextension User: Identifiable {}\n\n// MARK: - Equatable\n\nextension User: Equatable {\n    static func == (lhs: User, rhs: User) -> Bool {\n        lhs.id == rhs.id\n    }\n}\n\n// MARK: - Hashable\n\nextension User: Hashable {\n    func hash(into hasher: inout Hasher) {\n        hasher.combine(id)\n    }\n}\n",
        "last_modified": "2026-01-12T19:28:09.043024"
      },
      "task_intent": {
        "title": "004-project-foundation-core-data-model",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-11T21:28:24.040336",
  "last_updated": "2026-01-12T19:14:55.035073"
}