{
  "file_path": "Bodii/Domain/Interfaces/DailyLogRepository.swift",
  "main_branch_history": [],
  "task_views": {
    "008-exercise-tracking-with-met-calculations": {
      "task_id": "008-exercise-tracking-with-met-calculations",
      "branch_point": {
        "commit_hash": "4e56d606f7b0d4cb74120dd392544f3fe2d4f5b4",
        "content": "",
        "timestamp": "2026-01-14T11:45:41.765455"
      },
      "worktree_state": {
        "content": "//\n//  DailyLogRepository.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-13.\n//\n\nimport Foundation\n\n/// DailyLog \uc800\uc7a5\uc18c \ud504\ub85c\ud1a0\ucf5c\n///\n/// Clean Architecture\uc758 Repository \ud328\ud134\uc744 \ub530\ub974\uba70,\n/// \ub370\uc774\ud130 \uc18c\uc2a4(Core Data, \ub124\ud2b8\uc6cc\ud06c \ub4f1)\uc640 \ub3c4\uba54\uc778 \uacc4\uce35 \uc0ac\uc774\uc758 \ucd94\uc0c1\ud654\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.\n///\n/// ## \ucc45\uc784\n/// - DailyLog\uc758 CRUD \uc791\uc5c5\n/// - \ub0a0\uc9dc \uae30\ubc18 \uc870\ud68c\n/// - \uc6b4\ub3d9 \ub370\uc774\ud130 \uc5c5\ub370\uc774\ud2b8\n/// - \ub370\uc774\ud130 \uc601\uc18d\uc131 \uad00\ub9ac\n///\n/// ## \uad6c\ud604 \ucc38\uace0\uc0ac\ud56d\n/// - \ubaa8\ub4e0 \uba54\uc11c\ub4dc\ub294 async/await \ud328\ud134\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4\n/// - \uc5d0\ub7ec \ubc1c\uc0dd \uc2dc \uc801\uc808\ud55c \uc608\uc678\ub97c throw\ud574\uc57c \ud569\ub2c8\ub2e4\n/// - \ud2b8\ub79c\uc7ad\uc158 \ucc98\ub9ac\ub294 \uad6c\ud604\uccb4\uc5d0\uc11c \ub2f4\ub2f9\ud569\ub2c8\ub2e4\n///\n/// - Example:\n/// ```swift\n/// let repository: DailyLogRepository = DailyLogRepositoryImpl()\n///\n/// // DailyLog \uc870\ud68c \ub610\ub294 \uc0dd\uc131\n/// let dailyLog = try await repository.getOrCreate(\n///     for: Date(),\n///     userId: userId,\n///     bmr: 1650,\n///     tdee: 2310\n/// )\n///\n/// // \uc6b4\ub3d9 \ucd94\uac00\n/// try await repository.addExercise(\n///     date: Date(),\n///     userId: userId,\n///     calories: 350,\n///     duration: 30\n/// )\n/// ```\nprotocol DailyLogRepository {\n\n    // MARK: - Create / Get\n\n    /// \ud2b9\uc815 \ub0a0\uc9dc\uc758 DailyLog\ub97c \uc870\ud68c\ud558\uac70\ub098 \uc5c6\uc73c\uba74 \uc0dd\uc131\ud569\ub2c8\ub2e4.\n    ///\n    /// \ud574\ub2f9 \ub0a0\uc9dc\uc758 DailyLog\uac00 \uc874\uc7ac\ud558\uba74 \ubc18\ud658\ud558\uace0,\n    /// \uc5c6\uc73c\uba74 \uc81c\uacf5\ub41c bmr, tdee \uac12\uc73c\ub85c \uc0c8\ub85c \uc0dd\uc131\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - date: \uc870\ud68c\ud560 \ub0a0\uc9dc\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    ///   - bmr: \uae30\ucd08\ub300\uc0ac\ub7c9 (kcal), DailyLog \uc0dd\uc131 \uc2dc \uc0ac\uc6a9\n    ///   - tdee: \ud65c\ub3d9\ub300\uc0ac\ub7c9 (kcal), DailyLog \uc0dd\uc131 \uc2dc \uc0ac\uc6a9\n    /// - Throws: \ub370\uc774\ud130 \uc791\uc5c5 \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    /// - Returns: \uc870\ud68c\ub418\uac70\ub098 \uc0dd\uc131\ub41c DailyLog\n    func getOrCreate(for date: Date, userId: UUID, bmr: Int32, tdee: Int32) async throws -> DailyLog\n\n    /// \ud2b9\uc815 \ub0a0\uc9dc\uc758 DailyLog\ub97c \uc870\ud68c\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - date: \uc870\ud68c\ud560 \ub0a0\uc9dc\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    /// - Throws: \uc870\ud68c \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    /// - Returns: \uc870\ud68c\ub41c DailyLog, \uc5c6\uc73c\uba74 nil\n    func fetch(for date: Date, userId: UUID) async throws -> DailyLog?\n\n    // MARK: - Update\n\n    /// DailyLog\ub97c \uc5c5\ub370\uc774\ud2b8\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameter dailyLog: \uc5c5\ub370\uc774\ud2b8\ud560 DailyLog\n    /// - Throws: \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    /// - Returns: \uc5c5\ub370\uc774\ud2b8\ub41c DailyLog\n    func update(_ dailyLog: DailyLog) async throws -> DailyLog\n\n    // MARK: - Exercise Updates\n\n    /// \uc6b4\ub3d9 \ucd94\uac00 \uc2dc DailyLog\ub97c \uc5c5\ub370\uc774\ud2b8\ud569\ub2c8\ub2e4.\n    ///\n    /// totalCaloriesOut, exerciseMinutes, exerciseCount\ub97c \uc99d\uac00\uc2dc\ud0b5\ub2c8\ub2e4.\n    /// netCalories\ub3c4 \uc790\ub3d9\uc73c\ub85c \uc7ac\uacc4\uc0b0\ub429\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - date: \uc6b4\ub3d9 \ub0a0\uc9dc\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    ///   - calories: \uc18c\ubaa8 \uce7c\ub85c\ub9ac (kcal)\n    ///   - duration: \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    /// - Throws: \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    func addExercise(date: Date, userId: UUID, calories: Int32, duration: Int32) async throws\n\n    /// \uc6b4\ub3d9 \uc0ad\uc81c \uc2dc DailyLog\ub97c \uc5c5\ub370\uc774\ud2b8\ud569\ub2c8\ub2e4.\n    ///\n    /// totalCaloriesOut, exerciseMinutes, exerciseCount\ub97c \uac10\uc18c\uc2dc\ud0b5\ub2c8\ub2e4.\n    /// netCalories\ub3c4 \uc790\ub3d9\uc73c\ub85c \uc7ac\uacc4\uc0b0\ub429\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - date: \uc6b4\ub3d9 \ub0a0\uc9dc\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    ///   - calories: \uc18c\ubaa8 \uce7c\ub85c\ub9ac (kcal)\n    ///   - duration: \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    /// - Throws: \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    func removeExercise(date: Date, userId: UUID, calories: Int32, duration: Int32) async throws\n\n    /// \uc6b4\ub3d9 \uc218\uc815 \uc2dc DailyLog\ub97c \uc5c5\ub370\uc774\ud2b8\ud569\ub2c8\ub2e4.\n    ///\n    /// \uc774\uc804 \uac12\uacfc \uc0c8 \uac12\uc758 \ucc28\uc774\ub9cc\ud07c \uc870\uc815\ud569\ub2c8\ub2e4.\n    /// netCalories\ub3c4 \uc790\ub3d9\uc73c\ub85c \uc7ac\uacc4\uc0b0\ub429\ub2c8\ub2e4.\n    ///\n    /// - Parameters:\n    ///   - date: \uc6b4\ub3d9 \ub0a0\uc9dc\n    ///   - userId: \uc0ac\uc6a9\uc790 ID\n    ///   - oldCalories: \uc774\uc804 \uc18c\ubaa8 \uce7c\ub85c\ub9ac (kcal)\n    ///   - newCalories: \uc0c8\ub85c\uc6b4 \uc18c\ubaa8 \uce7c\ub85c\ub9ac (kcal)\n    ///   - oldDuration: \uc774\uc804 \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    ///   - newDuration: \uc0c8\ub85c\uc6b4 \uc6b4\ub3d9 \uc2dc\uac04 (\ubd84)\n    /// - Throws: \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328 \uc2dc \uc5d0\ub7ec\n    func updateExercise(\n        date: Date,\n        userId: UUID,\n        oldCalories: Int32,\n        newCalories: Int32,\n        oldDuration: Int32,\n        newDuration: Int32\n    ) async throws\n}\n",
        "last_modified": "2026-01-14T22:54:09.701074"
      },
      "task_intent": {
        "title": "008-exercise-tracking-with-met-calculations",
        "description": "Exercise logging with activity type selection, duration input, and automatic calorie burn calculation using MET (Metabolic Equivalent of Task) values. Track both cardio and strength training with appropriate calculations.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-13T19:19:06.187259",
  "last_updated": "2026-01-14T11:45:41.913400"
}