{
  "file_path": "Bodii/Domain/Interfaces/FoodSearchError.swift",
  "main_branch_history": [],
  "task_views": {
    "005-korean-food-database-integration": {
      "task_id": "005-korean-food-database-integration",
      "branch_point": {
        "commit_hash": "c44bfbcd7c1699b176a8bb155e8c35f43ebd4ad9",
        "content": "",
        "timestamp": "2026-01-13T07:46:23.878686"
      },
      "worktree_state": {
        "content": "//\n//  FoodSearchError.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-13.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Domain-Level Error Handling\n// \uc2dd\ud488 \uac80\uc0c9 \ub3c4\uba54\uc778\uc5d0\uc11c \ubc1c\uc0dd\ud560 \uc218 \uc788\ub294 \ubaa8\ub4e0 \uc5d0\ub7ec\ub97c \uccb4\uacc4\uc801\uc73c\ub85c \uc815\uc758\n// \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uacfc \uae30\uc220\uc801 \uc5d0\ub7ec\ub97c \uad6c\ubd84\ud558\uc5ec \uad00\ub9ac\n// \ud83d\udca1 Java \ube44\uad50: Custom Business Exception \uacc4\uce35 \uad6c\uc870\uc640 \uc720\uc0ac\n\nimport Foundation\n\n/// \uc2dd\ud488 \uac80\uc0c9 \uacfc\uc815\uc5d0\uc11c \ubc1c\uc0dd\ud560 \uc218 \uc788\ub294 \uc5d0\ub7ec\n///\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Comprehensive Error Types\n/// \ub3c4\uba54\uc778 \ub808\uc774\uc5b4\uc5d0\uc11c \uc815\uc758\ub41c \uc5d0\ub7ec\ub294 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uacfc \uad00\ub828\ub41c \uc5d0\ub7ec\ub97c \ud45c\ud604\ud569\ub2c8\ub2e4.\n/// \ub370\uc774\ud130 \ub808\uc774\uc5b4\uc758 \uae30\uc220\uc801 \uc5d0\ub7ec(NetworkError, CoreDataError \ub4f1)\ub97c\n/// \ub3c4\uba54\uc778 \ub808\ubca8\uc758 \uc758\ubbf8 \uc788\ub294 \uc5d0\ub7ec\ub85c \ubcc0\ud658\ud569\ub2c8\ub2e4.\n/// \ud83d\udca1 Java \ube44\uad50: Custom Business Exception (Service Layer)\n///\n/// **\uc5d0\ub7ec \uce74\ud14c\uace0\ub9ac:**\n/// - **\uc785\ub825 \uac80\uc99d**: invalidQuery\n/// - **\ub124\ud2b8\uc6cc\ud06c**: networkFailure, timeout, offline, rateLimitExceeded\n/// - **API**: apiError, kfdaApiError, usdaApiError, authenticationFailed\n/// - **\ud30c\uc2f1**: parsingError, decodingFailed\n/// - **\uce90\uc2dc**: cacheFailure, cacheUnavailable\n/// - **\ub370\uc774\ud130**: noResults, insufficientData\n/// - **\uae30\ud0c0**: unknown\n///\n/// **\uc5d0\ub7ec \ucc98\ub9ac \uc804\ub7b5:**\n/// - **\ubcf5\uad6c \uac00\ub2a5(Recoverable)**: \uc7ac\uc2dc\ub3c4, \ud3f4\ubc31, \uce90\uc2dc \uc0ac\uc6a9 \ub4f1\uc73c\ub85c \ubcf5\uad6c\n///   * \uc608: networkFailure, timeout, apiError, cacheFailure\n/// - **\ubcf5\uad6c \ubd88\uac00(Non-recoverable)**: \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc5d0\ub7ec \uba54\uc2dc\uc9c0 \ud45c\uc2dc \ud6c4 \uc911\ub2e8\n///   * \uc608: invalidQuery, authenticationFailed, parsingError\n///\n/// **\uc0ac\uc6a9 \uc608\uc2dc:**\n/// ```swift\n/// do {\n///     let foods = try await repository.searchFoods(query: \"\uae40\uce58\ucc0c\uac1c\")\n/// } catch FoodSearchError.offline {\n///     // \uce90\uc2dc\uc5d0\uc11c \uac80\uc0c9\n///     showOfflineMessage()\n/// } catch FoodSearchError.noResults {\n///     // \uac80\uc0c9 \uacb0\uacfc \uc5c6\uc74c \uba54\uc2dc\uc9c0\n///     showNoResultsView()\n/// } catch let error as FoodSearchError {\n///     if error.isRecoverable {\n///         // \uc7ac\uc2dc\ub3c4 \uc635\uc158 \uc81c\uacf5\n///         showRetryButton()\n///     } else {\n///         // \uc5d0\ub7ec \uba54\uc2dc\uc9c0 \ud45c\uc2dc\n///         showError(error.localizedDescription)\n///     }\n/// }\n/// ```\npublic enum FoodSearchError: Error {\n\n    // MARK: - Input Validation Errors\n\n    /// \uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uac80\uc0c9\uc5b4\n    ///\n    /// \uac80\uc0c9\uc5b4\uac00 \ube44\uc5b4\uc788\uac70\ub098, \ub108\ubb34 \uc9e7\uac70\ub098, \uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ubb38\uc790\uac00 \ud3ec\ud568\ub41c \uacbd\uc6b0\n    ///\n    /// - Parameter message: \uad6c\uccb4\uc801\uc778 \uac80\uc99d \uc2e4\ud328 \uc0ac\uc720\n    ///\n    /// - Example:\n    /// ```swift\n    /// throw FoodSearchError.invalidQuery(\"\uac80\uc0c9\uc5b4\ub294 2\uae00\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4\")\n    /// ```\n    case invalidQuery(String)\n\n    // MARK: - Network Errors\n\n    /// \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0 \uc2e4\ud328\n    ///\n    /// \uc77c\ubc18\uc801\uc778 \ub124\ud2b8\uc6cc\ud06c \uc5d0\ub7ec (\uc11c\ubc84 \uc751\ub2f5 \uc5c6\uc74c, DNS \uc2e4\ud328 \ub4f1)\n    ///\n    /// - Parameter error: \uc6d0\ubcf8 \ub124\ud2b8\uc6cc\ud06c \uc5d0\ub7ec\n    ///\n    /// - Note: \uc7ac\uc2dc\ub3c4 \ub610\ub294 \uce90\uc2dc \ud3f4\ubc31\uc73c\ub85c \ubcf5\uad6c \uac00\ub2a5\n    case networkFailure(Error)\n\n    /// \uc694\uccad \uc2dc\uac04 \ucd08\uacfc\n    ///\n    /// API \uc694\uccad\uc774 \uc124\uc815\ub41c \uc81c\ud55c \uc2dc\uac04(30\ucd08) \ub0b4\uc5d0 \uc644\ub8cc\ub418\uc9c0 \uc54a\uc74c\n    ///\n    /// - Note: \uc7ac\uc2dc\ub3c4\ub85c \ubcf5\uad6c \uac00\ub2a5 (\ub124\ud2b8\uc6cc\ud06c \uc0c1\ud0dc \uac1c\uc120 \uc2dc)\n    case timeout\n\n    /// \uc624\ud504\ub77c\uc778 \uc0c1\ud0dc (\uc778\ud130\ub137 \uc5f0\uacb0 \uc5c6\uc74c)\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Offline Detection\n    /// \ub514\ubc14\uc774\uc2a4\uac00 \uc778\ud130\ub137\uc5d0 \uc5f0\uacb0\ub418\uc5b4 \uc788\uc9c0 \uc54a\uc740 \uc0c1\ud0dc\n    /// \uce90\uc2dc \ud3f4\ubc31 \uc804\ub7b5\uc73c\ub85c graceful degradation \uad6c\ud604\n    /// \ud83d\udca1 Java \ube44\uad50: NetworkUnavailableException\n    ///\n    /// - Note: \uce90\uc2dc\uc5d0\uc11c \uac80\uc0c9 \uacb0\uacfc\ub97c \uc81c\uacf5\ud558\uc5ec \ubcf5\uad6c \uac00\ub2a5\n    ///\n    /// - Example:\n    /// ```swift\n    /// catch FoodSearchError.offline {\n    ///     let cachedResults = try await repository.getRecentFoods()\n    ///     return cachedResults\n    /// }\n    /// ```\n    case offline\n\n    /// API \uc694\uccad \uc81c\ud55c \ucd08\uacfc (Rate Limit)\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Rate Limiting\n    /// \uc9e7\uc740 \uc2dc\uac04 \ub0b4\uc5d0 \ub108\ubb34 \ub9ce\uc740 \uc694\uccad\uc744 \ubcf4\ub0b4 API \uc81c\ud55c\uc5d0 \uac78\ub9bc\n    /// \uc2dd\uc57d\ucc98 API: \ud558\ub8e8 1000\ud68c \uc81c\ud55c\n    /// USDA API: \uc2dc\uac04\ub2f9 1000\ud68c \uc81c\ud55c\n    /// \ud83d\udca1 Java \ube44\uad50: RateLimitExceededException\n    ///\n    /// - Parameter retryAfter: \uc7ac\uc2dc\ub3c4 \uac00\ub2a5\ud55c \uc2dc\uac04 (\ucd08 \ub2e8\uc704)\n    ///\n    /// - Note: \uc77c\uc815 \uc2dc\uac04 \ub300\uae30 \ud6c4 \uc7ac\uc2dc\ub3c4 \ub610\ub294 \uce90\uc2dc \uc0ac\uc6a9\n    ///\n    /// - Example:\n    /// ```swift\n    /// catch FoodSearchError.rateLimitExceeded(let seconds) {\n    ///     showMessage(\"\uc7a0\uc2dc \ud6c4 (\\(seconds)\ucd08) \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694\")\n    /// }\n    /// ```\n    case rateLimitExceeded(retryAfter: Int?)\n\n    // MARK: - API Errors\n\n    /// API \uc694\uccad \uc2e4\ud328 (\uc77c\ubc18)\n    ///\n    /// HTTP \uc5d0\ub7ec, \uc11c\ubc84 \uc5d0\ub7ec \ub4f1 API \ub808\ubca8\uc758 \uc5d0\ub7ec\n    ///\n    /// - Parameter message: API \uc5d0\ub7ec \uba54\uc2dc\uc9c0\n    ///\n    /// - Example:\n    /// ```swift\n    /// throw FoodSearchError.apiError(\"\uc11c\ubc84 \uc810\uac80 \uc911\uc785\ub2c8\ub2e4 (500)\")\n    /// ```\n    case apiError(String)\n\n    /// \uc2dd\uc57d\ucc98 API \uc5d0\ub7ec\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: API-Specific Errors\n    /// \uac01 API\ubcc4\ub85c \uad6c\uccb4\uc801\uc778 \uc5d0\ub7ec \uc815\ubcf4\ub97c \uc81c\uacf5\ud558\uc5ec \ub514\ubc84\uae45 \uc6a9\uc774\n    /// \ud83d\udca1 Java \ube44\uad50: API\ubcc4 Custom Exception\n    ///\n    /// - Parameters:\n    ///   - code: \uc2dd\uc57d\ucc98 API \uacb0\uacfc \ucf54\ub4dc (\uc608: \"01\", \"99\")\n    ///   - message: \uc2dd\uc57d\ucc98 API \uc5d0\ub7ec \uba54\uc2dc\uc9c0\n    ///\n    /// - Note: USDA \ud3f4\ubc31\uc73c\ub85c \ubcf5\uad6c \uac00\ub2a5\n    case kfdaApiError(code: String, message: String)\n\n    /// USDA API \uc5d0\ub7ec\n    ///\n    /// USDA FoodData Central API\uc5d0\uc11c \ubc18\ud658\ud55c \uc5d0\ub7ec\n    ///\n    /// - Parameters:\n    ///   - statusCode: HTTP \uc0c1\ud0dc \ucf54\ub4dc\n    ///   - message: USDA API \uc5d0\ub7ec \uba54\uc2dc\uc9c0\n    ///\n    /// - Note: \uc2dd\uc57d\ucc98 API \uc7ac\uc2dc\ub3c4 \ub610\ub294 \uce90\uc2dc \ud3f4\ubc31\uc73c\ub85c \ubcf5\uad6c \uc2dc\ub3c4\n    case usdaApiError(statusCode: Int, message: String)\n\n    /// API \uc778\uc99d \uc2e4\ud328\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Authentication Error\n    /// API \ud0a4\uac00 \uc720\ud6a8\ud558\uc9c0 \uc54a\uac70\ub098 \ub9cc\ub8cc\ub41c \uacbd\uc6b0\n    /// \ud83d\udca1 Java \ube44\uad50: AuthenticationException\n    ///\n    /// - Parameter message: \uc778\uc99d \uc2e4\ud328 \uc0ac\uc720\n    ///\n    /// - Note: \ubcf5\uad6c \ubd88\uac00 - \uac1c\ubc1c\uc790\uac00 API \ud0a4\ub97c \ud655\uc778\ud574\uc57c \ud568\n    ///\n    /// - Example:\n    /// ```swift\n    /// throw FoodSearchError.authenticationFailed(\"API \ud0a4\uac00 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4\")\n    /// ```\n    case authenticationFailed(String)\n\n    // MARK: - Parsing Errors\n\n    /// \ud30c\uc2f1 \uc5d0\ub7ec (\uc77c\ubc18)\n    ///\n    /// API \uc751\ub2f5\uc744 \ud30c\uc2f1\ud558\ub294 \uacfc\uc815\uc5d0\uc11c \ubc1c\uc0dd\ud55c \uc5d0\ub7ec\n    ///\n    /// - Parameter message: \ud30c\uc2f1 \uc2e4\ud328 \uc0ac\uc720\n    ///\n    /// - Note: API \uc751\ub2f5 \ud615\uc2dd\uc774 \ubcc0\uacbd\ub418\uc5c8\uc744 \uac00\ub2a5\uc131 - \uac1c\ubc1c\uc790 \ud655\uc778 \ud544\uc694\n    case parsingError(String)\n\n    /// JSON \ub514\ucf54\ub529 \uc2e4\ud328\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Decoding Error\n    /// Codable \ud504\ub85c\ud1a0\ucf5c\uc744 \uc0ac\uc6a9\ud55c JSON \ub514\ucf54\ub529 \uc2e4\ud328\n    /// \ud83d\udca1 Java \ube44\uad50: JsonParseException, JsonMappingException\n    ///\n    /// - Parameters:\n    ///   - type: \ub514\ucf54\ub529 \uc2dc\ub3c4\ud55c \ud0c0\uc785 \uc774\ub984\n    ///   - error: \uc6d0\ubcf8 \ub514\ucf54\ub529 \uc5d0\ub7ec\n    ///\n    /// - Note: API \uc751\ub2f5 \uc2a4\ud0a4\ub9c8 \ubcc0\uacbd \uac00\ub2a5\uc131 - \uac1c\ubc1c\uc790 \ud655\uc778 \ud544\uc694\n    ///\n    /// - Example:\n    /// ```swift\n    /// catch let error as DecodingError {\n    ///     throw FoodSearchError.decodingFailed(\n    ///         type: \"KFDAFoodDTO\",\n    ///         error: error\n    ///     )\n    /// }\n    /// ```\n    case decodingFailed(type: String, error: Error)\n\n    // MARK: - Cache Errors\n\n    /// \uce90\uc2dc \uc791\uc5c5 \uc2e4\ud328\n    ///\n    /// \ub85c\uceec \uce90\uc2dc \uc77d\uae30/\uc4f0\uae30 \uc2e4\ud328 (Core Data \uc5d0\ub7ec \ub4f1)\n    ///\n    /// - Parameter error: \uc6d0\ubcf8 \uce90\uc2dc \uc5d0\ub7ec\n    ///\n    /// - Note: \uce90\uc2dc \uc2e4\ud328\ud574\ub3c4 API \uac80\uc0c9\uc740 \uacc4\uc18d \uc9c4\ud589 \uac00\ub2a5 (graceful degradation)\n    case cacheFailure(Error)\n\n    /// \uce90\uc2dc \uc0ac\uc6a9 \ubd88\uac00\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Cache Unavailability\n    /// \uce90\uc2dc \uc2dc\uc2a4\ud15c\uc774 \ucd08\uae30\ud654\ub418\uc9c0 \uc54a\uc558\uac70\ub098 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uc0c1\ud0dc\n    /// \ud83d\udca1 Java \ube44\uad50: CacheNotAvailableException\n    ///\n    /// - Note: API \uac80\uc0c9\uc73c\ub85c \ubcf5\uad6c \uac00\ub2a5\n    case cacheUnavailable\n\n    // MARK: - Data Errors\n\n    /// \uac80\uc0c9 \uacb0\uacfc \uc5c6\uc74c\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Empty Result vs Error\n    /// \uacb0\uacfc\uac00 \uc5c6\ub294 \uac83\uc740 \uc5d0\ub7ec\uac00 \uc544\ub2c8\uc9c0\ub9cc, \uba85\uc2dc\uc801 \ucc98\ub9ac\uac00 \ud544\uc694\ud55c \uacbd\uc6b0\n    /// \ube48 \ubc30\uc5f4 \ubc18\ud658 \ub300\uc2e0 \uc5d0\ub7ec\ub85c \ucc98\ub9ac\ud558\uc5ec UI\uc5d0\uc11c \"\uacb0\uacfc \uc5c6\uc74c\" \uba54\uc2dc\uc9c0 \ud45c\uc2dc\n    /// \ud83d\udca1 Java \ube44\uad50: NoResultException (Optional \uc0ac\uc6a9 \ub300\uc2e0)\n    ///\n    /// - Note: \uc5d0\ub7ec\ub77c\uae30\ubcf4\ub2e4\ub294 \uc815\uc0c1 \uc0c1\ud0dc\uc758 \ud558\ub098 (\ube48 \uacb0\uacfc)\n    ///\n    /// - Example:\n    /// ```swift\n    /// catch FoodSearchError.noResults {\n    ///     showEmptyStateView(\"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4\")\n    /// }\n    /// ```\n    case noResults\n\n    /// \ubd88\ucda9\ubd84\ud55c \ub370\uc774\ud130\n    ///\n    /// API \uc751\ub2f5\uc740 \uc131\uacf5\ud588\uc9c0\ub9cc \ud544\uc218 \uc601\uc591 \uc815\ubcf4\uac00 \ub204\ub77d\ub428\n    ///\n    /// - Parameter message: \ub204\ub77d\ub41c \ub370\uc774\ud130 \uc124\uba85\n    ///\n    /// - Note: \ub370\uc774\ud130 \uac80\uc99d \ub2e8\uacc4\uc5d0\uc11c \ubc1c\uc0dd - \ub2e4\ub978 API\ub85c \uc7ac\uac80\uc0c9 \uc2dc\ub3c4\n    ///\n    /// - Example:\n    /// ```swift\n    /// if food.calories == nil || food.protein == nil {\n    ///     throw FoodSearchError.insufficientData(\n    ///         \"\ud544\uc218 \uc601\uc591 \uc815\ubcf4(\uce7c\ub85c\ub9ac, \ub2e8\ubc31\uc9c8)\uac00 \uc5c6\uc2b5\ub2c8\ub2e4\"\n    ///     )\n    /// }\n    /// ```\n    case insufficientData(String)\n\n    // MARK: - Unknown Error\n\n    /// \uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec\n    ///\n    /// \uc704\uc758 \uce74\ud14c\uace0\ub9ac\uc5d0 \ud574\ub2f9\ud558\uc9c0 \uc54a\ub294 \uc608\uae30\uce58 \uc54a\uc740 \uc5d0\ub7ec\n    ///\n    /// - Parameter error: \uc6d0\ubcf8 \uc5d0\ub7ec\n    ///\n    /// - Note: \uac1c\ubc1c \uc911 \ubc1c\uacac\ub418\uba74 \uc801\uc808\ud55c \uc5d0\ub7ec \ud0c0\uc785\uc73c\ub85c \ubd84\ub958 \ud544\uc694\n    case unknown(Error)\n}\n\n// MARK: - LocalizedError\n\n/// \uc0ac\uc6a9\uc790 \uce5c\ud654\uc801\uc778 \uc5d0\ub7ec \uba54\uc2dc\uc9c0 \uc81c\uacf5\n///\n/// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: LocalizedError Protocol\n/// \uc5d0\ub7ec\uc5d0 \ub300\ud55c \uc9c0\uc5ed\ud654\ub41c(\ud55c\uad6d\uc5b4) \uba54\uc2dc\uc9c0\ub97c \uc81c\uacf5\ud558\uc5ec UI\uc5d0\uc11c \ubc14\ub85c \uc0ac\uc6a9 \uac00\ub2a5\n/// \ud83d\udca1 Java \ube44\uad50: getMessage()\uc640 \uc720\uc0ac\ud558\uc9c0\ub9cc \ud504\ub85c\ud1a0\ucf5c \uae30\ubc18\uc73c\ub85c \ub354 \uccb4\uacc4\uc801\nextension FoodSearchError: LocalizedError {\n\n    /// \uc0ac\uc6a9\uc790\uc5d0\uac8c \ud45c\uc2dc\ud560 \uc5d0\ub7ec \uc124\uba85 (\ud55c\uad6d\uc5b4)\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: User-Facing Error Messages\n    /// \uae30\uc220\uc801 \uc138\ubd80\uc0ac\ud56d\uc744 \uc228\uae30\uace0 \uc0ac\uc6a9\uc790\uac00 \uc774\ud574\ud558\uae30 \uc26c\uc6b4 \uba54\uc2dc\uc9c0 \uc81c\uacf5\n    /// \ud83d\udca1 Java \ube44\uad50: \uad6d\uc81c\ud654(i18n) \uba54\uc2dc\uc9c0\uc640 \uc720\uc0ac\n    ///\n    /// - Returns: \ud55c\uad6d\uc5b4 \uc5d0\ub7ec \uba54\uc2dc\uc9c0\n    public var errorDescription: String? {\n        switch self {\n        // Input Validation\n        case .invalidQuery(let message):\n            return \"\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uac80\uc0c9\uc5b4\uc785\ub2c8\ub2e4: \\(message)\"\n\n        // Network Errors\n        case .networkFailure:\n            return \"\ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uc778\ud130\ub137 \uc5f0\uacb0\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694.\"\n\n        case .timeout:\n            return \"\uc694\uccad \uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.\"\n\n        case .offline:\n            return \"\uc778\ud130\ub137\uc5d0 \uc5f0\uacb0\ub418\uc5b4 \uc788\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc5f0\uacb0 \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.\"\n\n        case .rateLimitExceeded(let seconds):\n            if let seconds = seconds {\n                return \"\uc694\uccad \ud69f\uc218 \uc81c\ud55c\uc744 \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4. \\(seconds)\ucd08 \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.\"\n            } else {\n                return \"\uc694\uccad \ud69f\uc218 \uc81c\ud55c\uc744 \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.\"\n            }\n\n        // API Errors\n        case .apiError(let message):\n            return \"\uc2dd\ud488 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: \\(message)\"\n\n        case .kfdaApiError(let code, let message):\n            return \"\uc2dd\uc57d\ucc98 API \uc5d0\ub7ec (\ucf54\ub4dc \\(code)): \\(message)\"\n\n        case .usdaApiError(let statusCode, let message):\n            return \"USDA API \uc5d0\ub7ec (\uc0c1\ud0dc \\(statusCode)): \\(message)\"\n\n        case .authenticationFailed(let message):\n            return \"\uc778\uc99d\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: \\(message)\"\n\n        // Parsing Errors\n        case .parsingError(let message):\n            return \"\ub370\uc774\ud130 \ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: \\(message)\"\n\n        case .decodingFailed(let type, _):\n            return \"\ub370\uc774\ud130 \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4 (\ud0c0\uc785: \\(type))\"\n\n        // Cache Errors\n        case .cacheFailure:\n            return \"\uce90\uc2dc \uc791\uc5c5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.\"\n\n        case .cacheUnavailable:\n            return \"\uce90\uc2dc\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\"\n\n        // Data Errors\n        case .noResults:\n            return \"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.\"\n\n        case .insufficientData(let message):\n            return \"\ubd88\uc644\uc804\ud55c \uc2dd\ud488 \uc815\ubcf4\uc785\ub2c8\ub2e4: \\(message)\"\n\n        // Unknown\n        case .unknown:\n            return \"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.\"\n        }\n    }\n}\n\n// MARK: - Recovery Strategy\n\nextension FoodSearchError {\n\n    /// \ubcf5\uad6c \uac00\ub2a5\ud55c \uc5d0\ub7ec\uc778\uc9c0 \uc5ec\ubd80\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Recoverable vs Non-Recoverable Errors\n    /// \uc5d0\ub7ec \uc720\ud615\uc5d0 \ub530\ub77c \uc7ac\uc2dc\ub3c4, \ud3f4\ubc31 \ub4f1\uc758 \ubcf5\uad6c \uc804\ub7b5\uc744 \uacb0\uc815\n    /// \ud83d\udca1 Java \ube44\uad50: Checked vs Unchecked Exception\uacfc \uc720\uc0ac\ud55c \uac1c\ub150\n    ///\n    /// **\ubcf5\uad6c \uc804\ub7b5:**\n    /// - **\ubcf5\uad6c \uac00\ub2a5**: \uc7ac\uc2dc\ub3c4, \ub2e4\ub978 API \uc0ac\uc6a9, \uce90\uc2dc \uc0ac\uc6a9 \ub4f1\n    ///   * networkFailure \u2192 \uc7ac\uc2dc\ub3c4 \ub610\ub294 \uce90\uc2dc \ud3f4\ubc31\n    ///   * timeout \u2192 \uc7ac\uc2dc\ub3c4\n    ///   * offline \u2192 \uce90\uc2dc \ud3f4\ubc31\n    ///   * apiError \u2192 \ub2e4\ub978 API\ub85c \uc7ac\uc2dc\ub3c4 \ub610\ub294 \uce90\uc2dc \ud3f4\ubc31\n    ///   * cacheFailure \u2192 API \uac80\uc0c9 \uacc4\uc18d \uc9c4\ud589\n    ///\n    /// - **\ubcf5\uad6c \ubd88\uac00**: \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc5d0\ub7ec \uba54\uc2dc\uc9c0 \ud45c\uc2dc\n    ///   * invalidQuery \u2192 \uc0ac\uc6a9\uc790\uac00 \uac80\uc0c9\uc5b4 \uc218\uc815 \ud544\uc694\n    ///   * authenticationFailed \u2192 \uac1c\ubc1c\uc790\uac00 API \ud0a4 \ud655\uc778 \ud544\uc694\n    ///   * parsingError \u2192 \uac1c\ubc1c\uc790\uac00 \ucf54\ub4dc \uc218\uc815 \ud544\uc694\n    ///\n    /// - Returns: \ubcf5\uad6c \uac00\ub2a5\ud558\uba74 true, \ubd88\uac00\ub2a5\ud558\uba74 false\n    ///\n    /// - Example:\n    /// ```swift\n    /// catch let error as FoodSearchError {\n    ///     if error.isRecoverable {\n    ///         // \uc7ac\uc2dc\ub3c4 \ub610\ub294 \ud3f4\ubc31 \uc804\ub7b5 \uc2e4\ud589\n    ///         let cachedResults = try await searchFromCache()\n    ///     } else {\n    ///         // \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc5d0\ub7ec \uba54\uc2dc\uc9c0 \ud45c\uc2dc\n    ///         showAlert(error.errorDescription)\n    ///     }\n    /// }\n    /// ```\n    public var isRecoverable: Bool {\n        switch self {\n        // Recoverable Errors (\uc7ac\uc2dc\ub3c4 \ub610\ub294 \ud3f4\ubc31 \uac00\ub2a5)\n        case .networkFailure,\n             .timeout,\n             .offline,\n             .rateLimitExceeded,\n             .apiError,\n             .kfdaApiError,\n             .usdaApiError,\n             .cacheFailure,\n             .cacheUnavailable:\n            return true\n\n        // Non-Recoverable Errors (\uc0ac\uc6a9\uc790 \ub610\ub294 \uac1c\ubc1c\uc790 \uac1c\uc785 \ud544\uc694)\n        case .invalidQuery,\n             .authenticationFailed,\n             .parsingError,\n             .decodingFailed,\n             .noResults,\n             .insufficientData,\n             .unknown:\n            return false\n        }\n    }\n\n    /// \uc7ac\uc2dc\ub3c4 \uac00\ub2a5\ud55c \uc5d0\ub7ec\uc778\uc9c0 \uc5ec\ubd80\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Retry Strategy\n    /// \uc77c\uc2dc\uc801\uc778 \ub124\ud2b8\uc6cc\ud06c \ubb38\uc81c \ub4f1\uc740 \uc7ac\uc2dc\ub3c4\ub85c \ud574\uacb0 \uac00\ub2a5\n    /// \ud83d\udca1 Java \ube44\uad50: @Retryable \uc5b4\ub178\ud14c\uc774\uc158 \uc870\uac74\n    ///\n    /// **\uc7ac\uc2dc\ub3c4 \uc804\ub7b5:**\n    /// - \ucd5c\ub300 2\ud68c \uc7ac\uc2dc\ub3c4 (NetworkManager\uc5d0\uc11c \ucc98\ub9ac)\n    /// - Exponential backoff \uc801\uc6a9 (1\ucd08, 2\ucd08)\n    /// - \uc7ac\uc2dc\ub3c4 \ubd88\uac00\ub2a5\ud55c \uc5d0\ub7ec\ub294 \uc989\uc2dc \ud3f4\ubc31\n    ///\n    /// - Returns: \uc7ac\uc2dc\ub3c4 \uac00\ub2a5\ud558\uba74 true\n    ///\n    /// - Example:\n    /// ```swift\n    /// var retryCount = 0\n    /// while retryCount < maxRetries {\n    ///     do {\n    ///         return try await searchFoods()\n    ///     } catch let error as FoodSearchError {\n    ///         if error.canRetry {\n    ///             retryCount += 1\n    ///             await Task.sleep(retryCount * 1_000_000_000) // 1\ucd08\uc529 \uc99d\uac00\n    ///         } else {\n    ///             throw error\n    ///         }\n    ///     }\n    /// }\n    /// ```\n    public var canRetry: Bool {\n        switch self {\n        case .networkFailure,\n             .timeout,\n             .apiError,\n             .kfdaApiError,\n             .usdaApiError:\n            return true\n\n        default:\n            return false\n        }\n    }\n\n    /// \uce90\uc2dc \ud3f4\ubc31 \uac00\ub2a5\ud55c \uc5d0\ub7ec\uc778\uc9c0 \uc5ec\ubd80\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Fallback Strategy\n    /// API \uc2e4\ud328 \uc2dc \uce90\uc2dc\uc5d0\uc11c \uacb0\uacfc\ub97c \uc81c\uacf5\ud558\uc5ec graceful degradation\n    /// \ud83d\udca1 Java \ube44\uad50: Circuit Breaker \ud328\ud134\uc758 \ud3f4\ubc31 \uba54\uc11c\ub4dc\n    ///\n    /// - Returns: \uce90\uc2dc \ud3f4\ubc31 \uac00\ub2a5\ud558\uba74 true\n    ///\n    /// - Example:\n    /// ```swift\n    /// catch let error as FoodSearchError {\n    ///     if error.shouldFallbackToCache {\n    ///         return try await searchFromCache(query: query)\n    ///     } else {\n    ///         throw error\n    ///     }\n    /// }\n    /// ```\n    public var shouldFallbackToCache: Bool {\n        switch self {\n        case .networkFailure,\n             .timeout,\n             .offline,\n             .rateLimitExceeded,\n             .apiError,\n             .kfdaApiError,\n             .usdaApiError:\n            return true\n\n        default:\n            return false\n        }\n    }\n}\n\n// MARK: - Error Mapping Helpers\n\nextension FoodSearchError {\n\n    /// NetworkError\ub97c FoodSearchError\ub85c \ubcc0\ud658\n    ///\n    /// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Error Mapping\n    /// \ud558\uc704 \ub808\ubca8(Infrastructure)\uc758 \uc5d0\ub7ec\ub97c \uc0c1\uc704 \ub808\ubca8(Domain)\uc758 \uc5d0\ub7ec\ub85c \ubcc0\ud658\n    /// \ub3c4\uba54\uc778 \ub808\uc774\uc5b4\ub294 \uae30\uc220\uc801 \uc138\ubd80\uc0ac\ud56d(NetworkError)\uc5d0 \uc758\uc874\ud558\uc9c0 \uc54a\uc74c\n    /// \ud83d\udca1 Java \ube44\uad50: Exception Translation (Spring\uc758 @Repository\uc640 \uc720\uc0ac)\n    ///\n    /// - Parameter networkError: \ub124\ud2b8\uc6cc\ud06c \uc5d0\ub7ec\n    ///\n    /// - Returns: \ubcc0\ud658\ub41c FoodSearchError\n    ///\n    /// - Example:\n    /// ```swift\n    /// do {\n    ///     let data = try await networkManager.request(...)\n    /// } catch let error as NetworkError {\n    ///     throw FoodSearchError.from(networkError: error)\n    /// }\n    /// ```\n    public static func from(networkError: NetworkError) -> FoodSearchError {\n        switch networkError {\n        case .invalidURL:\n            return .parsingError(\"\uc798\ubabb\ub41c URL\uc785\ub2c8\ub2e4\")\n\n        case .noData:\n            return .apiError(\"\uc11c\ubc84 \uc751\ub2f5\uc5d0 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4\")\n\n        case .decodingFailed(let error):\n            return .decodingFailed(type: \"Unknown\", error: error)\n\n        case .invalidResponse:\n            return .apiError(\"\uc11c\ubc84 \uc751\ub2f5 \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4\")\n\n        case .httpError(let statusCode, let message):\n            if statusCode == 401 || statusCode == 403 {\n                return .authenticationFailed(message)\n            } else if statusCode == 429 {\n                return .rateLimitExceeded(retryAfter: nil)\n            } else {\n                return .apiError(\"HTTP \\(statusCode): \\(message)\")\n            }\n\n        case .timeout:\n            return .timeout\n\n        case .networkUnavailable:\n            return .offline\n\n        case .unknown(let error):\n            return .unknown(error)\n        }\n    }\n}\n",
        "last_modified": "2026-01-14T22:55:39.264338"
      },
      "task_intent": {
        "title": "005-korean-food-database-integration",
        "description": "Integrate Korean Food & Drug Administration (\uc2dd\uc57d\ucc98) food nutrition database API as primary source, with USDA FoodData Central as fallback for international foods. Prioritize Korean dishes (kimchi jjigae, bibimbap, tteokbokki) that are poorly covered by competitors.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-13T07:43:31.810315",
  "last_updated": "2026-01-13T07:46:24.200887"
}