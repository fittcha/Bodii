{
  "file_path": "Bodii/Shared/Extensions/Date+Extensions.swift",
  "main_branch_history": [],
  "task_views": {
    "002-project-foundation-core-data-model": {
      "task_id": "002-project-foundation-core-data-model",
      "branch_point": {
        "commit_hash": "2abdae73fb6199bcbf4f21f6deeb7952225f81e6",
        "content": "",
        "timestamp": "2026-01-14T13:34:17.674713"
      },
      "worktree_state": {
        "content": "//\n//  Date+Extensions.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-11.\n//\n\n// \ud83d\udcda \ud559\uc2b5 \ud3ec\uc778\ud2b8: Swift Extensions for Convenience API\n// Foundation\uc758 Date \ud0c0\uc785\uc744 \ud655\uc7a5\ud558\uc5ec \ud3b8\ub9ac\ud55c \ub0a0\uc9dc \ucc98\ub9ac \uba54\uc11c\ub4dc \uc81c\uacf5\n// \ud83d\udca1 Java \ube44\uad50: Kotlin\uc758 extension functions\uc640 \uc720\uc0ac\n\nimport Foundation\n\n// MARK: - Date Extensions\n\n/// Date \ud0c0\uc785 \ud655\uc7a5\n/// - DateUtils\uc758 \uae30\ub2a5\uc744 Date \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c \uc9c1\uc811 \ud638\ucd9c\ud560 \uc218 \uc788\ub3c4\ub85d \ud3b8\uc758 \uba54\uc11c\ub4dc \uc81c\uacf5\n/// - \ub354 \uc790\uc5f0\uc2a4\ub7ec\uc6b4 API: `date.startOfDay` vs `DateUtils.startOfDay(for: date)`\n///\n/// ## \uc608\uc2dc\n/// ```swift\n/// let today = Date()\n/// let dayStart = today.startOfDay // \uc624\ub298 00:00:00\n/// let dayEnd = today.endOfDay // \uc624\ub298 23:59:59\n/// let tomorrow = today.isSameDay(as: otherDate)\n/// let age = Date.age(from: birthDate)\n/// ```\nextension Date {\n\n    // MARK: - Day Boundaries\n\n    /// \uc774 \ub0a0\uc9dc\uc758 \uc2dc\uc791 \uc2dc\uac04 (00:00:00)\n    ///\n    /// ## \uc608\uc2dc\n    /// ```swift\n    /// // 2024-01-15 14:30:25 \u2192 2024-01-15 00:00:00\n    /// let start = date.startOfDay\n    /// ```\n    var startOfDay: Date {\n        DateUtils.startOfDay(for: self)\n    }\n\n    /// \uc774 \ub0a0\uc9dc\uc758 \uc885\ub8cc \uc2dc\uac04 (23:59:59)\n    ///\n    /// ## \uc608\uc2dc\n    /// ```swift\n    /// // 2024-01-15 14:30:25 \u2192 2024-01-15 23:59:59\n    /// let end = date.endOfDay\n    /// ```\n    var endOfDay: Date {\n        DateUtils.endOfDay(for: self)\n    }\n\n    // MARK: - Date Comparison\n\n    /// \ub2e4\ub978 \ub0a0\uc9dc\uc640 \uac19\uc740 \ub0a0\uc778\uc9c0 \ube44\uad50\n    /// - Parameter other: \ube44\uad50\ud560 \ub0a0\uc9dc\n    /// - Returns: \uac19\uc740 \ub0a0\uc774\uba74 true\n    ///\n    /// ## \uc608\uc2dc\n    /// ```swift\n    /// // 2024-01-15 09:00\uacfc 2024-01-15 18:00 \u2192 true\n    /// // 2024-01-15 23:00\uacfc 2024-01-16 01:00 \u2192 false\n    /// if date1.isSameDay(as: date2) {\n    ///     print(\"\uac19\uc740 \ub0a0\uc785\ub2c8\ub2e4\")\n    /// }\n    /// ```\n    func isSameDay(as other: Date) -> Bool {\n        DateUtils.isSameDay(self, other)\n    }\n\n    /// \uc774 \ub0a0\uc9dc\uac00 \uc624\ub298\uc778\uc9c0 \ud655\uc778\n    ///\n    /// ## \uc608\uc2dc\n    /// ```swift\n    /// if recordDate.isToday {\n    ///     print(\"\uc624\ub298 \uae30\ub85d\uc785\ub2c8\ub2e4\")\n    /// }\n    /// ```\n    var isToday: Bool {\n        DateUtils.isToday(self)\n    }\n\n    /// \ub2e4\ub978 \ub0a0\uc9dc\uae4c\uc9c0\uc758 \uc77c\uc218 \ucc28\uc774 \uacc4\uc0b0\n    /// - Parameter other: \ube44\uad50\ud560 \ub0a0\uc9dc\n    /// - Returns: \uc77c\uc218 \ucc28\uc774 (other - self)\n    ///\n    /// ## \uc608\uc2dc\n    /// ```swift\n    /// // 2024-01-10\ubd80\ud130 2024-01-15\uae4c\uc9c0\n    /// let days = startDate.daysBetween(and: endDate) // 5\n    /// ```\n    func daysBetween(and other: Date) -> Int {\n        DateUtils.daysBetween(self, and: other)\n    }\n\n    // MARK: - Age Calculation\n\n    /// \uc0dd\ub144\uc6d4\uc77c\ub85c\ubd80\ud130 \ub098\uc774 \uacc4\uc0b0\n    /// - Parameters:\n    ///   - birthDate: \uc0dd\ub144\uc6d4\uc77c\n    ///   - referenceDate: \uae30\uc900 \ub0a0\uc9dc (\uae30\ubcf8\uac12: \ud604\uc7ac)\n    /// - Returns: \ub9cc \ub098\uc774\n    ///\n    /// ## \uc608\uc2dc\n    /// ```swift\n    /// // 1990-05-15 \uc0dd\uc77c \u2192 2024-01-15 \uae30\uc900 33\uc138\n    /// let age = Date.age(from: birthDate)\n    ///\n    /// // \ud2b9\uc815 \ub0a0\uc9dc \uae30\uc900 \ub098\uc774\n    /// let ageAt2023 = Date.age(from: birthDate, referenceDate: someDate)\n    /// ```\n    static func age(from birthDate: Date, referenceDate: Date = Date()) -> Int {\n        DateUtils.age(from: birthDate, referenceDate: referenceDate)\n    }\n\n    // MARK: - Formatting\n\n    /// \ub0a0\uc9dc \ud3ec\ub9f7 \uc2a4\ud0c0\uc77c\n    /// - \ud55c\uad6d\uc5b4 \ub85c\ucf00\uc77c \uae30\ubc18 \ub0a0\uc9dc \ud3ec\ub9e4\ud305 \uc635\uc158\n    enum FormatStyle {\n        /// \"yyyy\ub144 MM\uc6d4 dd\uc77c\" (\uc608: \"2024\ub144 01\uc6d4 15\uc77c\")\n        case full\n        /// \"M\uc6d4 d\uc77c\" (\uc608: \"1\uc6d4 15\uc77c\")\n        case short\n        /// \"M\uc6d4 d\uc77c (E)\" (\uc608: \"1\uc6d4 15\uc77c (\uc6d4)\")\n        case withWeekday\n        /// \"HH:mm\" (\uc608: \"14:30\")\n        case time\n        /// \"M\uc6d4 d\uc77c HH:mm\" (\uc608: \"1\uc6d4 15\uc77c 14:30\")\n        case dateTime\n\n        /// \ud3ec\ub9f7 \ubb38\uc790\uc5f4\n        fileprivate var formatString: String {\n            switch self {\n            case .full:\n                return \"yyyy\ub144 MM\uc6d4 dd\uc77c\"\n            case .short:\n                return \"M\uc6d4 d\uc77c\"\n            case .withWeekday:\n                return \"M\uc6d4 d\uc77c (E)\"\n            case .time:\n                return \"HH:mm\"\n            case .dateTime:\n                return \"M\uc6d4 d\uc77c HH:mm\"\n            }\n        }\n    }\n\n    /// \ub0a0\uc9dc\ub97c \uc9c0\uc815\ub41c \uc2a4\ud0c0\uc77c\ub85c \ud3ec\ub9f7\n    /// - Parameter style: \ud3ec\ub9f7 \uc2a4\ud0c0\uc77c\n    /// - Returns: \ud3ec\ub9f7\ub41c \ub0a0\uc9dc \ubb38\uc790\uc5f4\n    ///\n    /// ## \uc608\uc2dc\n    /// ```swift\n    /// let fullDate = date.formatted(style: .full) // \"2024\ub144 01\uc6d4 15\uc77c\"\n    /// let shortDate = date.formatted(style: .short) // \"1\uc6d4 15\uc77c\"\n    /// let withDay = date.formatted(style: .withWeekday) // \"1\uc6d4 15\uc77c (\uc6d4)\"\n    /// let timeOnly = date.formatted(style: .time) // \"14:30\"\n    /// let dateTime = date.formatted(style: .dateTime) // \"1\uc6d4 15\uc77c 14:30\"\n    /// ```\n    func formatted(style: FormatStyle) -> String {\n        DateUtils.format(self, format: style.formatString)\n    }\n}\n",
        "last_modified": "2026-01-14T13:34:18.080668"
      },
      "task_intent": {
        "title": "Project Foundation & Core Data Model",
        "description": "Set up Xcode project with SwiftUI, MVVM architecture, Core Data persistence layer with 9 entities (User, BodyRecord, MetabolismSnapshot, Food, FoodRecord, ExerciseRecord, SleepRecord, DailyLog, Goal), and utility services for date handling and input validation.",
        "from_plan": true
      },
      "commits_behind_main": 3,
      "status": "active",
      "merged_at": null
    },
    "004-project-foundation-core-data-model": {
      "task_id": "004-project-foundation-core-data-model",
      "branch_point": {
        "commit_hash": "2abdae73fb6199bcbf4f21f6deeb7952225f81e6",
        "content": "",
        "timestamp": "2026-01-12T19:14:54.682468"
      },
      "worktree_state": {
        "content": "//\n//  Date+Extensions.swift\n//  Bodii\n//\n//  Created by Auto-Claude on 2026-01-12.\n//\n\nimport Foundation\n\n/// Date extension providing age calculation and date manipulation helpers\nextension Date {\n\n    // MARK: - Age Calculation\n\n    /// Calculates age in years from a birth date to the current date\n    ///\n    /// \uc0dd\ub144\uc6d4\uc77c\ub85c\ubd80\ud130 \ud604\uc7ac \ub098\uc774\ub97c \uacc4\uc0b0\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameter birthDate: \uc0dd\ub144\uc6d4\uc77c\n    /// - Returns: \ub9cc \ub098\uc774 (years)\n    ///\n    /// Example:\n    /// ```swift\n    /// let birthDate = Calendar.current.date(from: DateComponents(year: 1994, month: 3, day: 15))!\n    /// let age = Date.age(from: birthDate)\n    /// // Returns: 31 (as of 2026)\n    /// ```\n    static func age(from birthDate: Date) -> Int {\n        let calendar = Calendar.current\n        let now = Date()\n        let ageComponents = calendar.dateComponents([.year], from: birthDate, to: now)\n        return ageComponents.year ?? 0\n    }\n\n    /// Calculates age in years from this date to another date\n    ///\n    /// \uc774 \ub0a0\uc9dc\ub85c\ubd80\ud130 \ub2e4\ub978 \ub0a0\uc9dc\uae4c\uc9c0\uc758 \ub098\uc774\ub97c \uacc4\uc0b0\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameter date: \uae30\uc900 \ub0a0\uc9dc (\uae30\ubcf8\uac12: \ud604\uc7ac)\n    /// - Returns: \ub9cc \ub098\uc774 (years)\n    ///\n    /// Example:\n    /// ```swift\n    /// let birthDate = Date()\n    /// let age = birthDate.age(to: Date())\n    /// ```\n    func age(to date: Date = Date()) -> Int {\n        let calendar = Calendar.current\n        let ageComponents = calendar.dateComponents([.year], from: self, to: date)\n        return ageComponents.year ?? 0\n    }\n\n    // MARK: - Date Manipulation\n\n    /// Returns the start of day for this date\n    ///\n    /// \uc774 \ub0a0\uc9dc\uc758 \uc2dc\uc791 \uc2dc\uac01(00:00:00)\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.\n    ///\n    /// Example:\n    /// ```swift\n    /// let date = Date() // 2026-01-12 15:30:45\n    /// let startOfDay = date.startOfDay // 2026-01-12 00:00:00\n    /// ```\n    var startOfDay: Date {\n        Calendar.current.startOfDay(for: self)\n    }\n\n    /// Returns the end of day for this date\n    ///\n    /// \uc774 \ub0a0\uc9dc\uc758 \ub9c8\uc9c0\ub9c9 \uc2dc\uac01(23:59:59)\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.\n    ///\n    /// Example:\n    /// ```swift\n    /// let date = Date() // 2026-01-12 15:30:45\n    /// let endOfDay = date.endOfDay // 2026-01-12 23:59:59\n    /// ```\n    var endOfDay: Date {\n        var components = DateComponents()\n        components.day = 1\n        components.second = -1\n        return Calendar.current.date(byAdding: components, to: startOfDay) ?? self\n    }\n\n    /// Adds a specified number of days to this date\n    ///\n    /// \uc774 \ub0a0\uc9dc\uc5d0 \uc9c0\uc815\ub41c \uc77c\uc218\ub97c \ub354\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameter days: \ub354\ud560 \uc77c\uc218 (\uc74c\uc218 \uac00\ub2a5)\n    /// - Returns: \uacc4\uc0b0\ub41c \ub0a0\uc9dc, \uc2e4\ud328 \uc2dc \uc6d0\ubcf8 \ub0a0\uc9dc\n    ///\n    /// Example:\n    /// ```swift\n    /// let today = Date()\n    /// let tomorrow = today.adding(days: 1)\n    /// let yesterday = today.adding(days: -1)\n    /// ```\n    func adding(days: Int) -> Date {\n        Calendar.current.date(byAdding: .day, value: days, to: self) ?? self\n    }\n\n    /// Adds a specified number of months to this date\n    ///\n    /// \uc774 \ub0a0\uc9dc\uc5d0 \uc9c0\uc815\ub41c \uac1c\uc6d4\uc218\ub97c \ub354\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameter months: \ub354\ud560 \uac1c\uc6d4\uc218 (\uc74c\uc218 \uac00\ub2a5)\n    /// - Returns: \uacc4\uc0b0\ub41c \ub0a0\uc9dc, \uc2e4\ud328 \uc2dc \uc6d0\ubcf8 \ub0a0\uc9dc\n    ///\n    /// Example:\n    /// ```swift\n    /// let today = Date()\n    /// let nextMonth = today.adding(months: 1)\n    /// let lastMonth = today.adding(months: -1)\n    /// ```\n    func adding(months: Int) -> Date {\n        Calendar.current.date(byAdding: .month, value: months, to: self) ?? self\n    }\n\n    /// Adds a specified number of years to this date\n    ///\n    /// \uc774 \ub0a0\uc9dc\uc5d0 \uc9c0\uc815\ub41c \ub144\uc218\ub97c \ub354\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameter years: \ub354\ud560 \ub144\uc218 (\uc74c\uc218 \uac00\ub2a5)\n    /// - Returns: \uacc4\uc0b0\ub41c \ub0a0\uc9dc, \uc2e4\ud328 \uc2dc \uc6d0\ubcf8 \ub0a0\uc9dc\n    ///\n    /// Example:\n    /// ```swift\n    /// let today = Date()\n    /// let nextYear = today.adding(years: 1)\n    /// let lastYear = today.adding(years: -1)\n    /// ```\n    func adding(years: Int) -> Date {\n        Calendar.current.date(byAdding: .year, value: years, to: self) ?? self\n    }\n\n    // MARK: - Date Components\n\n    /// Returns the year component of this date\n    ///\n    /// \uc774 \ub0a0\uc9dc\uc758 \ub144\ub3c4\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.\n    ///\n    /// Example:\n    /// ```swift\n    /// let date = Date() // 2026-01-12\n    /// let year = date.year // 2026\n    /// ```\n    var year: Int {\n        Calendar.current.component(.year, from: self)\n    }\n\n    /// Returns the month component of this date (1-12)\n    ///\n    /// \uc774 \ub0a0\uc9dc\uc758 \uc6d4\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4 (1-12).\n    ///\n    /// Example:\n    /// ```swift\n    /// let date = Date() // 2026-01-12\n    /// let month = date.month // 1\n    /// ```\n    var month: Int {\n        Calendar.current.component(.month, from: self)\n    }\n\n    /// Returns the day component of this date\n    ///\n    /// \uc774 \ub0a0\uc9dc\uc758 \uc77c\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.\n    ///\n    /// Example:\n    /// ```swift\n    /// let date = Date() // 2026-01-12\n    /// let day = date.day // 12\n    /// ```\n    var day: Int {\n        Calendar.current.component(.day, from: self)\n    }\n\n    /// Returns the hour component of this date (0-23)\n    ///\n    /// \uc774 \ub0a0\uc9dc\uc758 \uc2dc\uac04\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4 (0-23).\n    ///\n    /// Example:\n    /// ```swift\n    /// let date = Date() // 2026-01-12 15:30:45\n    /// let hour = date.hour // 15\n    /// ```\n    var hour: Int {\n        Calendar.current.component(.hour, from: self)\n    }\n\n    /// Returns the minute component of this date (0-59)\n    ///\n    /// \uc774 \ub0a0\uc9dc\uc758 \ubd84\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4 (0-59).\n    ///\n    /// Example:\n    /// ```swift\n    /// let date = Date() // 2026-01-12 15:30:45\n    /// let minute = date.minute // 30\n    /// ```\n    var minute: Int {\n        Calendar.current.component(.minute, from: self)\n    }\n\n    // MARK: - Date Comparison\n\n    /// Checks if this date is the same day as another date\n    ///\n    /// \uc774 \ub0a0\uc9dc\uac00 \ub2e4\ub978 \ub0a0\uc9dc\uc640 \uac19\uc740 \ub0a0\uc778\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4.\n    ///\n    /// - Parameter date: \ube44\uad50\ud560 \ub0a0\uc9dc\n    /// - Returns: \uac19\uc740 \ub0a0\uc774\uba74 true\n    ///\n    /// Example:\n    /// ```swift\n    /// let date1 = Date() // 2026-01-12 10:00:00\n    /// let date2 = Date() // 2026-01-12 15:30:00\n    /// let isSameDay = date1.isSameDay(as: date2) // true\n    /// ```\n    func isSameDay(as date: Date) -> Bool {\n        Calendar.current.isDate(self, inSameDayAs: date)\n    }\n\n    /// Checks if this date is today\n    ///\n    /// \uc774 \ub0a0\uc9dc\uac00 \uc624\ub298\uc778\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4.\n    ///\n    /// Example:\n    /// ```swift\n    /// let date = Date()\n    /// let isToday = date.isToday // true\n    /// ```\n    var isToday: Bool {\n        Calendar.current.isDateInToday(self)\n    }\n\n    /// Checks if this date is yesterday\n    ///\n    /// \uc774 \ub0a0\uc9dc\uac00 \uc5b4\uc81c\uc778\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4.\n    ///\n    /// Example:\n    /// ```swift\n    /// let yesterday = Date().adding(days: -1)\n    /// let isYesterday = yesterday.isYesterday // true\n    /// ```\n    var isYesterday: Bool {\n        Calendar.current.isDateInYesterday(self)\n    }\n\n    /// Checks if this date is tomorrow\n    ///\n    /// \uc774 \ub0a0\uc9dc\uac00 \ub0b4\uc77c\uc778\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4.\n    ///\n    /// Example:\n    /// ```swift\n    /// let tomorrow = Date().adding(days: 1)\n    /// let isTomorrow = tomorrow.isTomorrow // true\n    /// ```\n    var isTomorrow: Bool {\n        Calendar.current.isDateInTomorrow(self)\n    }\n\n    // MARK: - Formatting Helpers\n\n    /// Returns a string representation in \"yyyy-MM-dd\" format\n    ///\n    /// \"yyyy-MM-dd\" \ud615\uc2dd\uc758 \ubb38\uc790\uc5f4\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.\n    ///\n    /// Example:\n    /// ```swift\n    /// let date = Date() // 2026-01-12 15:30:45\n    /// let formatted = date.yyyyMMdd // \"2026-01-12\"\n    /// ```\n    var yyyyMMdd: String {\n        let formatter = DateFormatter()\n        formatter.dateFormat = \"yyyy-MM-dd\"\n        formatter.locale = Locale(identifier: \"en_US_POSIX\")\n        return formatter.string(from: self)\n    }\n\n    /// Returns a string representation in \"yyyy-MM-dd HH:mm:ss\" format\n    ///\n    /// \"yyyy-MM-dd HH:mm:ss\" \ud615\uc2dd\uc758 \ubb38\uc790\uc5f4\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.\n    ///\n    /// Example:\n    /// ```swift\n    /// let date = Date() // 2026-01-12 15:30:45\n    /// let formatted = date.yyyyMMddHHmmss // \"2026-01-12 15:30:45\"\n    /// ```\n    var yyyyMMddHHmmss: String {\n        let formatter = DateFormatter()\n        formatter.dateFormat = \"yyyy-MM-dd HH:mm:ss\"\n        formatter.locale = Locale(identifier: \"en_US_POSIX\")\n        return formatter.string(from: self)\n    }\n}\n",
        "last_modified": "2026-01-14T22:57:13.078653"
      },
      "task_intent": {
        "title": "004-project-foundation-core-data-model",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-11T20:22:15.988746",
  "last_updated": "2026-01-14T13:34:17.983701"
}